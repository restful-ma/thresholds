openapi: 3.0.0
info:
  description: Use these REST APIs to manage Azure API Management deployment.
  title: ApiManagementClient
  version: 2016-10-10
  x-apisguru-categories:
    - cloud
  x-logo:
    url: https://assets.onestore.ms/cdnfiles/onestorerolling-1606-01000/shell/v3/images/logo/microsoft.png
  x-origin:
    - format: swagger
      url: https://raw.githubusercontent.com/Azure/azure-rest-api-specs/master/specification/apimanagement/resource-manager/Microsoft.ApiManagement/stable/2016-10-10/apimdeployment.json
      version: "2.0"
  x-preferred: false
  x-providerName: azure.com
  x-serviceName: apimanagement-apimdeployment
  x-tags:
    - Azure
    - Microsoft
security:
  - azure_auth:
      - user_impersonation
paths:
  /providers/Microsoft.ApiManagement/operations:
    get:
      description: Lists all of the available REST API operations of the
        Microsoft.ApiManagement provider.
      operationId: ApiManagementOperations_List
      parameters:
        - description: Version of the API to be used with the client request.
          in: query
          name: api-version
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Success. The response describes the list of operations.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OperationListResult"
      tags:
        - ApiManagementOperations
      x-ms-pageable:
        nextLinkName: nextLink
  "/subscriptions/{subscriptionId}/providers/Microsoft.ApiManagement/checkNameAvailability":
    post:
      description: Checks availability and correctness of a name for an API Management
        service.
      operationId: ApiManagementServices_CheckNameAvailability
      parameters:
        - description: Version of the API to be used with the client request.
          in: query
          name: api-version
          required: true
          schema:
            type: string
          examples:
            ApiManagementServiceCheckNameAvailability:
              value: 2016-10-10
        - description: Subscription credentials which uniquely identify Microsoft Azure
            subscription. The subscription ID forms part of the URI for every
            service call.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
          examples:
            ApiManagementServiceCheckNameAvailability:
              value: subid
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ApiManagementServiceCheckNameAvailability\
                Parameters"
        description: Parameters supplied to the CheckNameAvailability operation.
        required: true
      responses:
        "200":
          description: The result of check name availability.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiManagementServiceNameAvailabilityRes\
                  ult"
              examples:
                ApiManagementServiceCheckNameAvailability:
                  $ref: "#/components/examples/ApiManagementServiceCheckNameAvailab\
                    ility"
      tags:
        - ApiManagementService
  "/subscriptions/{subscriptionId}/providers/Microsoft.ApiManagement/service/":
    get:
      description: Lists all API Management services within an Azure subscription.
      operationId: ApiManagementServices_List
      parameters:
        - description: Version of the API to be used with the client request.
          in: query
          name: api-version
          required: true
          schema:
            type: string
        - description: Subscription credentials which uniquely identify Microsoft Azure
            subscription. The subscription ID forms part of the URI for every
            service call.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
      responses:
        "200":
          description: The API Management service list.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiManagementServiceListResult"
      tags:
        - ApiManagementService
      x-ms-pageable:
        nextLinkName: nextLink
  "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ApiManagement/service/":
    get:
      description: List all API Management services within a resource group.
      operationId: ApiManagementServices_ListByResourceGroup
      parameters:
        - description: The name of the resource group.
          in: path
          name: resourceGroupName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
        - description: Version of the API to be used with the client request.
          in: query
          name: api-version
          required: true
          schema:
            type: string
        - description: Subscription credentials which uniquely identify Microsoft Azure
            subscription. The subscription ID forms part of the URI for every
            service call.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
      responses:
        "200":
          description: The API Management service list.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiManagementServiceListResult"
      tags:
        - ApiManagementService
      x-ms-pageable:
        nextLinkName: nextLink
  "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ApiManagement/service/{serviceName}":
    delete:
      description: Deletes an existing API Management service.
      operationId: ApiManagementServices_Delete
      parameters:
        - description: The name of the resource group.
          in: path
          name: resourceGroupName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
        - description: The name of the API Management service.
          in: path
          name: serviceName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
            minLength: 1
            maxLength: 50
            pattern: ^[a-zA-Z](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$
        - description: Version of the API to be used with the client request.
          in: query
          name: api-version
          required: true
          schema:
            type: string
        - description: Subscription credentials which uniquely identify Microsoft Azure
            subscription. The subscription ID forms part of the URI for every
            service call.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Service was successfully deleted.
        "204":
          description: Service is already deleted.
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - ApiManagementService
    get:
      description: Gets an API Management service resource description.
      operationId: ApiManagementServices_Get
      parameters:
        - description: The name of the resource group.
          in: path
          name: resourceGroupName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
        - description: The name of the API Management service.
          in: path
          name: serviceName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
            minLength: 1
            maxLength: 50
            pattern: ^[a-zA-Z](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$
        - description: Version of the API to be used with the client request.
          in: query
          name: api-version
          required: true
          schema:
            type: string
        - description: Subscription credentials which uniquely identify Microsoft Azure
            subscription. The subscription ID forms part of the URI for every
            service call.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Successfully got the API Management Service Resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiManagementServiceResource"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - ApiManagementService
    patch:
      description: Updates an existing API Management service.
      operationId: ApiManagementServices_Update
      parameters:
        - description: The name of the resource group.
          in: path
          name: resourceGroupName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
        - description: The name of the API Management service.
          in: path
          name: serviceName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
            minLength: 1
            maxLength: 50
            pattern: ^[a-zA-Z](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$
        - description: Version of the API to be used with the client request.
          in: query
          name: api-version
          required: true
          schema:
            type: string
        - description: Subscription credentials which uniquely identify Microsoft Azure
            subscription. The subscription ID forms part of the URI for every
            service call.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ApiManagementServiceUpdateParameters"
        description: Parameters supplied to the CreateOrUpdate API Management service
          operation.
        required: true
      responses:
        "200":
          description: Successfully updated the current API Management service.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiManagementServiceResource"
        "202":
          description: "Accepted: Location header contains the URL where the status of the
            long running operation can be checked."
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - ApiManagementService
      x-ms-long-running-operation: true
    put:
      description: Creates or updates an API Management service. This is long running
        operation and could take several minutes to complete.
      operationId: ApiManagementServices_CreateOrUpdate
      parameters:
        - description: The name of the resource group.
          in: path
          name: resourceGroupName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
          examples:
            ApiManagementCreateService:
              value: rg1
        - description: The name of the API Management service.
          in: path
          name: serviceName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
            minLength: 1
            maxLength: 50
            pattern: ^[a-zA-Z](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$
          examples:
            ApiManagementCreateService:
              value: apimService1
        - description: Version of the API to be used with the client request.
          in: query
          name: api-version
          required: true
          schema:
            type: string
          examples:
            ApiManagementCreateService:
              value: 2016-10-10
        - description: Subscription credentials which uniquely identify Microsoft Azure
            subscription. The subscription ID forms part of the URI for every
            service call.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
          examples:
            ApiManagementCreateService:
              value: subid
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ApiManagementServiceResource"
        description: Parameters supplied to the CreateOrUpdate API Management service
          operation.
        required: true
      responses:
        "200":
          description: The service was successfully set up.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiManagementServiceResource"
              examples:
                ApiManagementCreateService:
                  $ref: "#/components/examples/ApiManagementCreateService"
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiManagementServiceResource"
              examples:
                ApiManagementCreateService:
                  $ref: "#/components/examples/ApiManagementCreateService"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - ApiManagementService
  "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ApiManagement/service/{serviceName}/applynetworkconfigurationupdates":
    post:
      description: Updates the Microsoft.ApiManagement resource running in the Virtual
        network to pick the updated network settings.
      operationId: ApiManagementServices_ApplyNetworkConfigurationUpdates
      parameters:
        - description: The name of the resource group.
          in: path
          name: resourceGroupName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
          examples:
            ApiManagementApplyNetworkConfigurationUpdates:
              value: rg1
        - description: The name of the API Management service.
          in: path
          name: serviceName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
            minLength: 1
            maxLength: 50
            pattern: ^[a-zA-Z](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$
          examples:
            ApiManagementApplyNetworkConfigurationUpdates:
              value: apimService1
        - description: Version of the API to be used with the client request.
          in: query
          name: api-version
          required: true
          schema:
            type: string
          examples:
            ApiManagementApplyNetworkConfigurationUpdates:
              value: 2016-10-10
        - description: Subscription credentials which uniquely identify Microsoft Azure
            subscription. The subscription ID forms part of the URI for every
            service call.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
          examples:
            ApiManagementApplyNetworkConfigurationUpdates:
              value: subid
      responses:
        "200":
          description: Service was successfully updated with new virtual network
            configurations.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiManagementServiceResource"
              examples:
                ApiManagementApplyNetworkConfigurationUpdates:
                  $ref: "#/components/examples/ApiManagementApplyNetworkConfigurati\
                    onUpdates"
        "202":
          description: "Accepted: Location header contains the URL where the status of the
            long running operation can be checked."
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - ApiManagementService
      x-ms-long-running-operation: true
  "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ApiManagement/service/{serviceName}/backup":
    post:
      description: Creates a backup of the API Management service to the given Azure
        Storage Account. This is long running operation and could take several
        minutes to complete.
      operationId: ApiManagementServices_Backup
      parameters:
        - description: The name of the resource group.
          in: path
          name: resourceGroupName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
          examples:
            ApiManagementCreateBackup:
              value: rg1
        - description: The name of the API Management service.
          in: path
          name: serviceName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
            minLength: 1
            maxLength: 50
            pattern: ^[a-zA-Z](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$
          examples:
            ApiManagementCreateBackup:
              value: apimService1
        - description: Version of the API to be used with the client request.
          in: query
          name: api-version
          required: true
          schema:
            type: string
          examples:
            ApiManagementCreateBackup:
              value: 2016-10-10
        - description: Subscription credentials which uniquely identify Microsoft Azure
            subscription. The subscription ID forms part of the URI for every
            service call.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
          examples:
            ApiManagementCreateBackup:
              value: subid
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ApiManagementServiceBackupRestoreParamete\
                rs"
        description: Parameters supplied to the ApiManagementServices_Backup operation.
        required: true
      responses:
        "200":
          description: Successfully backed up the API Management service to the storage
            account.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiManagementServiceResource"
              examples:
                ApiManagementCreateBackup:
                  $ref: "#/components/examples/ApiManagementCreateBackup"
        "202":
          description: "Accepted: Location header contains the URL where the status of the
            long running operation can be checked."
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - ApiManagementService
      x-ms-long-running-operation: true
  "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ApiManagement/service/{serviceName}/getssotoken":
    post:
      description: Gets the Single-Sign-On token for the API Management Service which is
        valid for 5 Minutes.
      operationId: ApiManagementServices_GetSsoToken
      parameters:
        - description: The name of the resource group.
          in: path
          name: resourceGroupName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
          examples:
            ApiManagementServiceGetSsoToken:
              value: rg1
        - description: The name of the API Management service.
          in: path
          name: serviceName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
            minLength: 1
            maxLength: 50
            pattern: ^[a-zA-Z](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$
          examples:
            ApiManagementServiceGetSsoToken:
              value: apimService1
        - description: Version of the API to be used with the client request.
          in: query
          name: api-version
          required: true
          schema:
            type: string
          examples:
            ApiManagementServiceGetSsoToken:
              value: 2016-10-10
        - description: Subscription credentials which uniquely identify Microsoft Azure
            subscription. The subscription ID forms part of the URI for every
            service call.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
          examples:
            ApiManagementServiceGetSsoToken:
              value: subid
      responses:
        "200":
          description: OK if successful with the SSO Redirect URI.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiManagementServiceGetSsoTokenResult"
              examples:
                ApiManagementServiceGetSsoToken:
                  $ref: "#/components/examples/ApiManagementServiceGetSsoToken"
      tags:
        - ApiManagementService
  "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ApiManagement/service/{serviceName}/managedeployments":
    post:
      description: "Manages deployments of an API Management service. This operation can be
        used to do the following: Change SKU, Change SKU Units, Change Service
        Tier (Developer/Standard/Premium) and Manage VPN Configuration. This is
        a long running operation and can take several minutes to complete."
      operationId: ApiManagementServices_ManageDeployments
      parameters:
        - description: The name of the resource group.
          in: path
          name: resourceGroupName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
          examples:
            ApiManagementServiceManageDeployment:
              value: rg1
        - description: The name of the API Management service.
          in: path
          name: serviceName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
            minLength: 1
            maxLength: 50
            pattern: ^[a-zA-Z](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$
          examples:
            ApiManagementServiceManageDeployment:
              value: apimService1
        - description: Version of the API to be used with the client request.
          in: query
          name: api-version
          required: true
          schema:
            type: string
          examples:
            ApiManagementServiceManageDeployment:
              value: 2016-10-10
        - description: Subscription credentials which uniquely identify Microsoft Azure
            subscription. The subscription ID forms part of the URI for every
            service call.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
          examples:
            ApiManagementServiceManageDeployment:
              value: subid
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ApiManagementServiceManageDeploymentsPara\
                meters"
        description: Parameters supplied to the ManageDeployments operation.
        required: true
      responses:
        "200":
          description: Successfully applied the new deployment Configuration on the API
            Management service.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiManagementServiceResource"
              examples:
                ApiManagementServiceManageDeployment:
                  $ref: "#/components/examples/ApiManagementServiceManageDeployment"
        "202":
          description: Accepted. The location header contains the URL where the status of
            the long running operation can be checked.The response also includes
            the unmodified ApiManagementServiceResource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiManagementServiceResource"
              examples:
                ApiManagementServiceManageDeployment:
                  $ref: "#/components/examples/ApiManagementServiceManageDeployment"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - ApiManagementService
      x-ms-long-running-operation: true
  "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ApiManagement/service/{serviceName}/restore":
    post:
      description: Restores a backup of an API Management service created using the
        ApiManagementServices_Backup operation on the current service. This is a
        long running operation and could take several minutes to complete.
      operationId: ApiManagementServices_Restore
      parameters:
        - description: The name of the resource group.
          in: path
          name: resourceGroupName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
          examples:
            ApiManagementRestoreService:
              value: rg1
        - description: The name of the API Management service.
          in: path
          name: serviceName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
            minLength: 1
            maxLength: 50
            pattern: ^[a-zA-Z](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$
          examples:
            ApiManagementRestoreService:
              value: apimService1
        - description: Version of the API to be used with the client request.
          in: query
          name: api-version
          required: true
          schema:
            type: string
          examples:
            ApiManagementRestoreService:
              value: 2016-10-10
        - description: Subscription credentials which uniquely identify Microsoft Azure
            subscription. The subscription ID forms part of the URI for every
            service call.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
          examples:
            ApiManagementRestoreService:
              value: subid
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ApiManagementServiceBackupRestoreParamete\
                rs"
        description: Parameters supplied to the Restore API Management service from backup
          operation.
        required: true
      responses:
        "200":
          description: Successfully restored the backup onto the API Management service.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiManagementServiceResource"
              examples:
                ApiManagementRestoreService:
                  $ref: "#/components/examples/ApiManagementRestoreService"
        "202":
          description: "Accepted: Location header contains the URL where the status of the
            long running operation can be checked."
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - ApiManagementService
      x-ms-long-running-operation: true
  "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ApiManagement/service/{serviceName}/updatehostname":
    post:
      description: Creates, updates, or deletes the custom hostnames for an API Management
        service. The custom hostname can be applied to the Proxy and Portal
        endpoint. This is a long running operation and could take several
        minutes to complete.
      operationId: ApiManagementServices_UpdateHostname
      parameters:
        - description: The name of the resource group.
          in: path
          name: resourceGroupName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
          examples:
            ApiManagementServiceUpdateHostName:
              value: rg1
        - description: The name of the API Management service.
          in: path
          name: serviceName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
            minLength: 1
            maxLength: 50
            pattern: ^[a-zA-Z](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$
          examples:
            ApiManagementServiceUpdateHostName:
              value: apimService1
        - description: Version of the API to be used with the client request.
          in: query
          name: api-version
          required: true
          schema:
            type: string
          examples:
            ApiManagementServiceUpdateHostName:
              value: 2016-10-10
        - description: Subscription credentials which uniquely identify Microsoft Azure
            subscription. The subscription ID forms part of the URI for every
            service call.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
          examples:
            ApiManagementServiceUpdateHostName:
              value: subid
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ApiManagementServiceUpdateHostnameParamet\
                ers"
        description: Parameters supplied to the UpdateHostname operation.
        required: true
      responses:
        "200":
          description: Service was successfully updated with desired hostnames.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiManagementServiceResource"
              examples:
                ApiManagementServiceUpdateHostName:
                  $ref: "#/components/examples/ApiManagementServiceUpdateHostName"
        "202":
          description: Accepted. The location header contains the URL where the status of
            the long running operation can be checked. The response also
            includes the unmodified ApiManagementServiceResource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiManagementServiceResource"
              examples:
                ApiManagementServiceUpdateHostName:
                  $ref: "#/components/examples/ApiManagementServiceUpdateHostName"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - ApiManagementService
      x-ms-long-running-operation: true
  "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ApiManagement/service/{serviceName}/uploadcertificate":
    post:
      description: Upload Custom Domain SSL certificate for an API Management service.
      operationId: ApiManagementServices_UploadCertificate
      parameters:
        - description: The name of the resource group.
          in: path
          name: resourceGroupName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
          examples:
            ApiManagementServiceUploadProxyCertificate:
              value: rg1
        - description: The name of the API Management service.
          in: path
          name: serviceName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
            minLength: 1
            maxLength: 50
            pattern: ^[a-zA-Z](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$
          examples:
            ApiManagementServiceUploadProxyCertificate:
              value: apimService1
        - description: Version of the API to be used with the client request.
          in: query
          name: api-version
          required: true
          schema:
            type: string
          examples:
            ApiManagementServiceUploadProxyCertificate:
              value: 2016-10-10
        - description: Subscription credentials which uniquely identify Microsoft Azure
            subscription. The subscription ID forms part of the URI for every
            service call.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
          examples:
            ApiManagementServiceUploadProxyCertificate:
              value: subid
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ApiManagementServiceUploadCertificatePara\
                meters"
        description: Parameters supplied to the Upload SSL certificate for an API
          Management service operation.
        required: true
      responses:
        "200":
          description: Successfully uploaded certificate to the API Management Service.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CertificateInformation"
              examples:
                ApiManagementServiceUploadProxyCertificate:
                  $ref: "#/components/examples/ApiManagementServiceUploadProxyCerti\
                    ficate"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - ApiManagementService
servers:
  - url: https://management.azure.com
components:
  examples:
    ApiManagementServiceCheckNameAvailability:
      value:
        message: ""
        nameAvailable: true
        reason: Valid
    ApiManagementCreateService:
      value:
        etag: AAAAAAAV8Yo=
        id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.ApiManagement/service/apimService1
        location: West US
        name: apimService1
        properties:
          createdAtUtc: 2017-03-19T21:55:27.7443915Z
          hostnameConfigurations: []
          provisioningState: Created
          publisherEmail: admin@live.com
          publisherName: contoso
          staticIPs: []
          targetProvisioningState: Activating
          vpnType: None
        sku:
          capacity: 1
          name: Premium
        tags: {}
        type: Microsoft.ApiManagement/service
    ApiManagementApplyNetworkConfigurationUpdates:
      value:
        etag: AAAAAAAV8XM=
        id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.ApiManagement/service/apimService1
        location: West US
        name: apimService1
        properties:
          createdAtUtc: 2015-09-22T01:52:02.4307221Z
          managementApiUrl: https://apimService1.management.azure-api.net
          portalUrl: https://apimService1.portal.azure-api.net
          provisioningState: Succeeded
          publisherEmail: admin@live.com
          publisherName: Contoso
          runtimeUrl: https://apimService1.azure-api.net
          scmUrl: https://apimService1.scm.azure-api.net
          staticIPs:
            - xx.xxx.xx.xxx
          targetProvisioningState: ""
          vpnType: External
          vpnconfiguration:
            location: West US
            subnetResourceId: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/virtualNetworks/dfVirtualNetwork/subnets/backendSubnet
        sku:
          capacity: 1
          name: Premium
        tags:
          Pool: Manual
          TestExpiration: Tue, 22 Sep 2015 02:52:00 GMT
          TestSuiteExpiration: Tue, 22 Sep 2015 05:10:46 GMT
        type: Microsoft.ApiManagement/service
    ApiManagementCreateBackup:
      value:
        etag: AAAAAAAV8XM=
        id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.ApiManagement/service/apimService1
        location: West US
        name: apimService1
        properties:
          createdAtUtc: 2015-09-22T01:52:02.4307221Z
          managementApiUrl: https://apimService1.management.azure-api.net
          portalUrl: https://apimService1.portal.azure-api.net
          provisioningState: Succeeded
          publisherEmail: admin@live.com
          publisherName: Contoso
          runtimeUrl: https://apimService1.azure-api.net
          scmUrl: https://apimService1.scm.azure-api.net
          staticIPs:
            - xx.xxx.xx.xxx
          targetProvisioningState: ""
          vpnType: None
        sku:
          capacity: 1
          name: Premium
        tags:
          Pool: Manual
          TestExpiration: Tue, 22 Sep 2015 02:52:00 GMT
          TestSuiteExpiration: Tue, 22 Sep 2015 05:10:46 GMT
        type: Microsoft.ApiManagement/service
    ApiManagementServiceGetSsoToken:
      value:
        redirect_uri: https://apimService1.portal.azure-api.net:443/signin-sso?token=1%26201703200238%26nmWpz5mPSCMn%2b7BJXmwufoEn5AGN6xUt3y1aSQ8p6Gi4IdRHcEOo959Qt8nxojihYgSj%2fbxwykTUETMdyr4f%2fw%3d%3d
    ApiManagementServiceManageDeployment:
      value:
        etag: AAAAAAAAjQM=
        id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.ApiManagement/service/apimService1
        location: West US
        name: apimService1
        properties:
          createdAtUtc: 2017-03-20T03:45:14.1412986Z
          hostnameConfigurations: []
          managementApiUrl: https://apimService1.management.azure-api.net
          portalUrl: https://apimService1.portal.azure-api.net
          provisioningState: Succeeded
          publisherEmail: admin@live.com
          publisherName: Contoso
          runtimeUrl: https://apimService1.azure-api.net
          scmUrl: https://apimService1.scm.azure-api.net
          staticIPs:
            - xx.xxx.xx.xxx
          targetProvisioningState: ""
          vpnType: None
        sku:
          capacity: 1
          name: Developer
        tags: {}
        type: Microsoft.ApiManagement/service
    ApiManagementRestoreService:
      value:
        etag: AAAAAAAV8XM=
        id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.ApiManagement/service/apimService1
        location: West US
        name: apimService1
        properties:
          createdAtUtc: 2015-09-22T01:52:02.4307221Z
          managementApiUrl: https://apimService1.management.azure-api.net
          portalUrl: https://apimService1.portal.azure-api.net
          provisioningState: Succeeded
          publisherEmail: admin@live.com
          publisherName: Contoso
          runtimeUrl: https://apimService1.azure-api.net
          scmUrl: https://apimService1.scm.azure-api.net
          staticIPs:
            - xx.xxx.xx.xxx
          targetProvisioningState: ""
          vpnType: None
        sku:
          capacity: 1
          name: Premium
        tags:
          Pool: Manual
          TestExpiration: Tue, 22 Sep 2015 02:52:00 GMT
          TestSuiteExpiration: Tue, 22 Sep 2015 05:10:46 GMT
        type: Microsoft.ApiManagement/service
    ApiManagementServiceUpdateHostName:
      value:
        etag: AAAAAAAV8ZY=
        id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.ApiManagement/service/apimService1
        location: West US
        name: apimService1
        properties:
          createdAtUtc: 2015-09-22T01:52:02.4307221Z
          managementApiUrl: https://apimService1.management.azure-api.net
          portalUrl: https://apimService1.portal.azure-api.net
          provisioningState: Succeeded
          publisherEmail: admin@live.com
          publisherName: Contoso
          runtimeUrl: https://apimService1.azure-api.net
          scmUrl: https://apimService1.scm.azure-api.net
          staticIPs:
            - xx.xx.xxxx.xxxx
          targetProvisioningState: ""
          vpnType: None
        sku:
          capacity: 1
          name: Premium
        tags:
          Pool: Manual
          TestExpiration: Tue, 22 Sep 2015 02:52:00 GMT
          TestSuiteExpiration: Tue, 22 Sep 2015 05:10:46 GMT
        type: Microsoft.ApiManagement/service
    ApiManagementServiceUploadProxyCertificate:
      value:
        expiry: 2018-03-17T21:55:07+00:00
        subject: CN=*.contoso.com
        thumbprint: DE57B************************
  securitySchemes:
    azure_auth:
      description: Azure Active Directory OAuth2 Flow.
      type: oauth2
      flows:
        implicit:
          authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
          scopes:
            user_impersonation: impersonate your user account
  schemas:
    AdditionalRegion:
      description: Description of an additional API Management resource location.
      properties:
        location:
          description: The location name of the additional region among Azure Data center
            regions.
          type: string
        skuType:
          description: The SKU type in the location.
          enum:
            - Developer
            - Standard
            - Premium
          type: string
          x-ms-enum:
            modelAsString: false
            name: SkuType
        skuUnitCount:
          default: 1
          description: The SKU Unit count at the location. The maximum SKU Unit count
            depends on the SkuType. Maximum allowed for Developer SKU is 1, for
            Standard SKU is 4, and for Premium SKU is 10, at a location.
          format: int32
          maximum: 10
          type: integer
        staticIPs:
          description: Static IP addresses of the location's virtual machines.
          items:
            type: string
          readOnly: true
          type: array
        vpnconfiguration:
          $ref: "#/components/schemas/VirtualNetworkConfiguration"
      required:
        - location
        - skuType
    ApiManagementServiceBackupRestoreParameters:
      description: Parameters supplied to the Backup/Restore of an API Management service
        operation.
      properties:
        accessKey:
          description: Azure Cloud Storage account (used to place/retrieve the backup)
            access key.
          type: string
        backupName:
          description: The name of the backup file to create.
          type: string
        containerName:
          description: Azure Cloud Storage blob container name used to place/retrieve the
            backup.
          type: string
        storageAccount:
          description: Azure Cloud Storage account (used to place/retrieve the backup) name.
          type: string
      required:
        - storageAccount
        - accessKey
        - containerName
        - backupName
    ApiManagementServiceCheckNameAvailabilityParameters:
      description: Parameters supplied to the CheckNameAvailability operation.
      properties:
        name:
          description: The name to check for availability.
          type: string
      required:
        - name
    ApiManagementServiceGetSsoTokenResult:
      description: The response of the GetSsoToken operation.
      properties:
        redirect_uri:
          description: Redirect URL containing the SSO token.
          type: string
    ApiManagementServiceListResult:
      description: The response of the List API Management services operation.
      properties:
        nextLink:
          description: Link to the next set of results. Not empty if Value contains
            incomplete list of API Management services.
          type: string
        value:
          description: Result of the List API Management services operation.
          items:
            $ref: "#/components/schemas/ApiManagementServiceResource"
          type: array
      required:
        - value
    ApiManagementServiceManageDeploymentsParameters:
      description: Parameters supplied to the ManageDeployments operation.
      properties:
        additionalLocations:
          description: Additional data center locations for the API Management service.
          items:
            $ref: "#/components/schemas/AdditionalRegion"
          type: array
        location:
          description: Location of the API Management service Azure data center.
          type: string
        skuType:
          description: SKU type of the API Management service.
          enum:
            - Developer
            - Standard
            - Premium
          type: string
          x-ms-enum:
            modelAsString: false
            name: SkuType
        skuUnitCount:
          default: 1
          description: SKU Unit count of the API Management service. Default value is 1.
          format: int32
          type: integer
        vpnConfiguration:
          $ref: "#/components/schemas/VirtualNetworkConfiguration"
        vpnType:
          default: None
          description: The type of VPN in which API Management service needs to be
            configured in. None (Default Value) means the API Management service
            is not part of any Virtual Network, External means the API
            Management deployment is set up inside a Virtual Network having an
            Internet Facing Endpoint, and Internal means that the API Management
            service deployment is set up inside a Virtual Network having an
            Intranet Facing Endpoint only. When vpnConfiguration is specified,
            vpnType must be specified.
          enum:
            - None
            - External
            - Internal
          type: string
          x-ms-enum:
            modelAsString: false
            name: VirtualNetworkType
      required:
        - location
        - skuType
    ApiManagementServiceNameAvailabilityResult:
      description: Response of the CheckNameAvailability operation.
      properties:
        message:
          description: If reason == invalid, provide the user with the reason why the given
            name is invalid, and provide the resource naming requirements so
            that the user can select a valid name. If reason == AlreadyExists,
            explain that <resourceName> is already in use, and direct them to
            select a different name.
          type: string
        nameAvailable:
          description: True if the name is available and can be used to create a new API
            Management service; otherwise false.
          type: boolean
        reason:
          description: Invalid indicates the name provided does not match the resource
            provider’s naming requirements (incorrect length, unsupported
            characters, etc.)  AlreadyExists indicates that the name is already
            in use and is therefore unavailable.
          enum:
            - Valid
            - Invalid
            - AlreadyExists
          type: string
          x-ms-enum:
            modelAsString: false
            name: NameAvailabilityReason
      required:
        - nameAvailable
    ApiManagementServiceProperties:
      description: Properties of an API Management service resource description.
      properties:
        additionalLocations:
          description: Additional datacenter locations of the API Management service.
          items:
            $ref: "#/components/schemas/AdditionalRegion"
          type: array
        addresserEmail:
          description: Addresser email.
          type: string
        createdAtUtc:
          description: "Creation UTC date of the API Management service.The date conforms
            to the following format: `yyyy-MM-ddTHH:mm:ssZ` as specified by the
            ISO 8601 standard."
          format: date-time
          readOnly: true
          type: string
        customProperties:
          additionalProperties:
            type: string
          description: Custom properties of the API Management service, like disabling TLS
            1.0.
          type: object
        hostnameConfigurations:
          description: Custom hostname configuration of the API Management service.
          items:
            $ref: "#/components/schemas/HostnameConfiguration"
          type: array
        managementApiUrl:
          description: Management API endpoint URL of the API Management service.
          readOnly: true
          type: string
        portalUrl:
          description: Publisher portal endpoint Url of the API Management service.
          readOnly: true
          type: string
        provisioningState:
          description: "The current provisioning state of the API Management service which
            can be one of the following:
            Created/Activating/Succeeded/Updating/Failed/Stopped/Terminating/Te\
            rminationFailed/Deleted."
          readOnly: true
          type: string
        publisherEmail:
          description: Publisher email.
          maxLength: 100
          type: string
        publisherName:
          description: Publisher name.
          type: string
        runtimeUrl:
          description: Proxy endpoint URL of the API Management service.
          readOnly: true
          type: string
        scmUrl:
          description: SCM endpoint URL of the API Management service.
          readOnly: true
          type: string
        staticIPs:
          description: Static IP addresses of the API Management service virtual machines.
            Available only for Standard and Premium SKU.
          items:
            type: string
          readOnly: true
          type: array
        targetProvisioningState:
          description: The provisioning state of the API Management service, which is
            targeted by the long running operation started on the service.
          readOnly: true
          type: string
        vpnType:
          default: None
          description: The type of VPN in which API Management service needs to be
            configured in. None (Default Value) means the API Management service
            is not part of any Virtual Network, External means the API
            Management deployment is set up inside a Virtual Network having an
            Internet Facing Endpoint, and Internal means that API Management
            deployment is setup inside a Virtual Network having an Intranet
            Facing Endpoint only.
          enum:
            - None
            - External
            - Internal
          type: string
          x-ms-enum:
            modelAsString: false
            name: VirtualNetworkType
        vpnconfiguration:
          $ref: "#/components/schemas/VirtualNetworkConfiguration"
      required:
        - publisherEmail
        - publisherName
    ApiManagementServiceResource:
      allOf:
        - $ref: "#/components/schemas/Resource"
      description: A single API Management service resource in List or Get response.
      properties:
        etag:
          description: ETag of the resource.
          readOnly: true
          type: string
        properties:
          $ref: "#/components/schemas/ApiManagementServiceProperties"
        sku:
          $ref: "#/components/schemas/ApiManagementServiceSkuProperties"
      required:
        - sku
        - properties
    ApiManagementServiceSkuProperties:
      description: API Management service resource SKU properties.
      properties:
        capacity:
          default: 1
          description: Capacity of the SKU (number of deployed units of the SKU). The
            default value is 1.
          format: int32
          type: integer
        name:
          description: Name of the Sku.
          enum:
            - Developer
            - Standard
            - Premium
          externalDocs:
            url: https://azure.microsoft.com/en-us/pricing/details/api-management/
          type: string
          x-ms-enum:
            modelAsString: false
            name: SkuType
      required:
        - name
    ApiManagementServiceUpdateHostnameParameters:
      description: Parameters supplied to the UpdateHostname operation.
      properties:
        delete:
          description: Hostnames types to delete.
          items:
            enum:
              - Proxy
              - Portal
              - Management
              - Scm
            type: string
            x-ms-enum:
              modelAsString: false
              name: HostnameType
          type: array
        update:
          description: Hostnames to create or update.
          items:
            $ref: "#/components/schemas/HostnameConfiguration"
          type: array
    ApiManagementServiceUpdateParameters:
      description: Parameters supplied to the Update API Management service operation.
      properties:
        properties:
          $ref: "#/components/schemas/ApiManagementServiceProperties"
        sku:
          $ref: "#/components/schemas/ApiManagementServiceSkuProperties"
        tags:
          additionalProperties:
            type: string
          description: Resource tags.
          type: object
    ApiManagementServiceUploadCertificateParameters:
      description: Parameters supplied to the Upload SSL certificate for an API Management
        service operation.
      properties:
        certificate:
          description: Base64 Encoded certificate.
          type: string
        certificate_password:
          description: Certificate password.
          type: string
        type:
          description: Hostname type.
          enum:
            - Proxy
            - Portal
            - Management
            - Scm
          type: string
          x-ms-enum:
            modelAsString: false
            name: HostnameType
      required:
        - type
        - certificate
        - certificate_password
    CertificateInformation:
      description: SSL certificate information.
      properties:
        expiry:
          description: "Expiration date of the certificate. The date conforms to the
            following format: `yyyy-MM-ddTHH:mm:ssZ` as specified by the ISO
            8601 standard."
          format: date-time
          type: string
        subject:
          description: Subject of the certificate.
          type: string
        thumbprint:
          description: Thumbprint of the certificate.
          type: string
      required:
        - expiry
        - thumbprint
        - subject
    ErrorResponse:
      description: Error Response.
      properties:
        code:
          description: Error code.
          type: string
        message:
          description: Error message indicating why the operation failed.
          type: string
    HostnameConfiguration:
      description: Custom hostname configuration.
      properties:
        certificate:
          $ref: "#/components/schemas/CertificateInformation"
        hostname:
          description: Hostname.
          type: string
        type:
          description: Hostname type.
          enum:
            - Proxy
            - Portal
            - Management
            - Scm
          type: string
          x-ms-enum:
            modelAsString: false
            name: HostnameType
      required:
        - type
        - hostname
        - certificate
    Operation:
      description: REST API operation
      properties:
        display:
          description: The object that describes the operation.
          properties:
            description:
              description: Friendly name of the operation
              type: string
            operation:
              description: "Operation type: read, write, delete, listKeys/action, etc."
              type: string
            provider:
              description: Friendly name of the resource provider
              type: string
            resource:
              description: Resource type on which the operation is performed.
              type: string
        name:
          description: "Operation name: {provider}/{resource}/{operation}"
          type: string
      type: object
    OperationListResult:
      description: Result of the request to list REST API operations. It contains a list of
        operations and a URL nextLink to get the next set of results.
      properties:
        nextLink:
          description: URL to get the next set of operation list results if there are any.
          type: string
        value:
          description: List of operations supported by the resource provider.
          items:
            $ref: "#/components/schemas/Operation"
          type: array
    Resource:
      description: The Resource definition.
      properties:
        id:
          description: Resource ID.
          readOnly: true
          type: string
        location:
          description: Resource location.
          type: string
          x-ms-mutability:
            - read
            - create
        name:
          description: Resource name.
          type: string
          x-ms-mutability:
            - read
            - create
        tags:
          additionalProperties:
            type: string
          description: Resource tags.
          type: object
        type:
          description: Resource type for API Management resource is set to
            Microsoft.ApiManagement.
          readOnly: true
          type: string
      required:
        - location
      x-ms-azure-resource: true
    VirtualNetworkConfiguration:
      description: Configuration of a virtual network to which API Management service is
        deployed.
      properties:
        location:
          description: The location of the virtual network.
          type: string
        subnetResourceId:
          description: The full resource ID of a subnet in a virtual network to deploy the
            API Management service in.
          pattern: ^/subscriptions/[^/]*/resourceGroups/[^/]*/providers/Microsoft.(ClassicNetwork|Network)/virtualNetworks/[^/]*/subnets/[^/]*$
          type: string
        subnetname:
          description: The name of the subnet.
          readOnly: true
          type: string
        vnetid:
          description: The virtual network ID. This is typically a GUID. Expect a null GUID
            by default.
          readOnly: true
          type: string
