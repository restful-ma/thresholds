openapi: 3.0.0
info:
  title: CostManagementClient
  version: 2018-05-31
  x-apisguru-categories:
    - cloud
  x-logo:
    url: https://assets.onestore.ms/cdnfiles/onestorerolling-1606-01000/shell/v3/images/logo/microsoft.png
  x-origin:
    - format: swagger
      url: https://raw.githubusercontent.com/Azure/azure-rest-api-specs/master/specification/cost-management/resource-manager/Microsoft.CostManagement/stable/2018-05-31/costmanagement.json
      version: "2.0"
  x-preferred: false
  x-providerName: azure.com
  x-serviceName: cost-management-costmanagement
  x-tags:
    - Azure
    - Microsoft
security:
  - azure_auth:
      - user_impersonation
paths:
  "/providers/Microsoft.Billing/billingAccounts/{billingAccountId}/providers/Microsoft.CostManagement/Query":
    post:
      description: Lists the usage data for billing account.
      externalDocs:
        url: https://docs.microsoft.com/en-us/rest/api/costmanagement/
      operationId: QueryBillingAccount
      parameters:
        - $ref: "#/components/parameters/apiVersionParameter"
        - $ref: "#/components/parameters/billingAccountIdParameter"
      requestBody:
        $ref: "#/components/requestBodies/ReportConfigDefinition"
      responses:
        "200":
          description: OK. The request has succeeded.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/QueryResult"
              examples:
                BillingAccountQuery:
                  $ref: "#/components/examples/BillingAccountQuery"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Query
      x-ms-pageable: {}
  "/providers/Microsoft.Billing/billingAccounts/{billingAccountId}/providers/Microsoft.CostManagement/dimensions":
    get:
      description: Lists the dimensions by billingAccount Id.
      externalDocs:
        url: https://docs.microsoft.com/en-us/rest/api/costmanagement/
      operationId: BillingAccountDimensions_List
      parameters:
        - $ref: "#/components/parameters/apiVersionParameter"
        - $ref: "#/components/parameters/billingAccountIdParameter"
        - description: May be used to filter dimensions by properties/category,
            properties/usageStart, properties/usageEnd. Supported operators are
            'eq','lt', 'gt', 'le', 'ge'.
          in: query
          name: $filter
          required: false
          schema:
            type: string
          examples:
            BillingAccountDimensionsListWithFilter:
              value: properties/category eq 'instanceId'
        - description: May be used to expand the properties/data within a dimension
            category. By default, data is not included when listing dimensions.
          in: query
          name: $expand
          required: false
          schema:
            type: string
          examples:
            BillingAccountDimensionsListExpandAndTop:
              value: properties/data
            BillingAccountDimensionsListWithFilter:
              value: properties/data
        - description: Skiptoken is only used if a previous operation returned a partial
            result. If a previous response contains a nextLink element, the
            value of the nextLink element will include a skiptoken parameter
            that specifies a starting point to use for subsequent calls.
          in: query
          name: $skiptoken
          required: false
          schema:
            type: string
        - description: May be used to limit the number of results to the most recent N
            dimension data.
          in: query
          name: $top
          required: false
          schema:
            type: integer
            minimum: 1
            maximum: 1000
          examples:
            BillingAccountDimensionsListExpandAndTop:
              value: 5
            BillingAccountDimensionsListWithFilter:
              value: 5
      responses:
        "200":
          description: OK. The request has succeeded.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DimensionsListResult"
              examples:
                BillingAccountDimensionsList:
                  $ref: "#/components/examples/BillingAccountDimensionsList"
                BillingAccountDimensionsListExpandAndTop:
                  $ref: "#/components/examples/BillingAccountDimensionsListExpandAn\
                    dTop"
                BillingAccountDimensionsListWithFilter:
                  $ref: "#/components/examples/BillingAccountDimensionsListWithFilt\
                    er"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Dimensions
      x-ms-odata: "#/components/schemas/Dimension"
      x-ms-pageable: {}
  /providers/Microsoft.CostManagement/operations:
    get:
      description: Lists all of the available consumption REST API operations.
      operationId: Operations_List
      parameters:
        - $ref: "#/components/parameters/apiVersionParameter"
      responses:
        "200":
          description: OK. The request has succeeded.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OperationListResult"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Operations
      x-ms-pageable:
        nextLinkName: nextLink
  "/subscriptions/{subscriptionId}/providers/Microsoft.CostManagement/Query":
    post:
      description: Lists the usage data for subscriptionId.
      externalDocs:
        url: https://docs.microsoft.com/en-us/rest/api/costmanagement/
      operationId: QuerySubscription
      parameters:
        - $ref: "#/components/parameters/apiVersionParameter"
        - $ref: "#/components/parameters/subscriptionIdParameter"
      requestBody:
        $ref: "#/components/requestBodies/ReportConfigDefinition"
      responses:
        "200":
          description: OK. The request has succeeded.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/QueryResult"
              examples:
                SubscriptionQuery:
                  $ref: "#/components/examples/SubscriptionQuery"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Query
      x-ms-pageable: {}
  "/subscriptions/{subscriptionId}/providers/Microsoft.CostManagement/dimensions":
    get:
      description: Lists the dimensions by subscription Id.
      externalDocs:
        url: https://docs.microsoft.com/en-us/rest/api/costmanagement/
      operationId: SubscriptionDimensions_List
      parameters:
        - $ref: "#/components/parameters/apiVersionParameter"
        - $ref: "#/components/parameters/subscriptionIdParameter"
        - description: May be used to filter dimensions by properties/category,
            properties/usageStart, properties/usageEnd. Supported operators are
            'eq','lt', 'gt', 'le', 'ge'.
          in: query
          name: $filter
          required: false
          schema:
            type: string
        - description: May be used to expand the properties/data within a dimension
            category. By default, data is not included when listing dimensions.
          in: query
          name: $expand
          required: false
          schema:
            type: string
          examples:
            SubscriptionDimensionsList:
              value: properties/data
        - description: Skiptoken is only used if a previous operation returned a partial
            result. If a previous response contains a nextLink element, the
            value of the nextLink element will include a skiptoken parameter
            that specifies a starting point to use for subsequent calls.
          in: query
          name: $skiptoken
          required: false
          schema:
            type: string
        - description: May be used to limit the number of results to the most recent N
            dimension data.
          in: query
          name: $top
          required: false
          schema:
            type: integer
            minimum: 1
            maximum: 1000
          examples:
            SubscriptionDimensionsList:
              value: 5
      responses:
        "200":
          description: OK. The request has succeeded.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DimensionsListResult"
              examples:
                SubscriptionDimensionsList:
                  $ref: "#/components/examples/SubscriptionDimensionsList"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Dimensions
      x-ms-odata: "#/components/schemas/Dimension"
      x-ms-pageable: {}
  "/subscriptions/{subscriptionId}/providers/Microsoft.CostManagement/reportconfigs":
    get:
      description: Lists all report configs for a subscription.
      externalDocs:
        url: https://docs.microsoft.com/en-us/rest/api/costmanagement/
      operationId: ReportConfig_List
      parameters:
        - $ref: "#/components/parameters/apiVersionParameter"
        - $ref: "#/components/parameters/subscriptionIdParameter"
      responses:
        "200":
          description: OK. The request has succeeded.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ReportConfigListResult"
              examples:
                ReportConfigList:
                  $ref: "#/components/examples/ReportConfigList"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Reports
  "/subscriptions/{subscriptionId}/providers/Microsoft.CostManagement/reportconfigs/{reportConfigName}":
    delete:
      description: The operation to delete a report.
      externalDocs:
        url: https://docs.microsoft.com/en-us/rest/api/costmanagement/
      operationId: ReportConfig_Delete
      parameters:
        - $ref: "#/components/parameters/apiVersionParameter"
        - $ref: "#/components/parameters/subscriptionIdParameter"
        - $ref: "#/components/parameters/reportConfigNameParameter"
      responses:
        "200":
          description: OK. The request has succeeded.
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Reports
    get:
      description: Gets the report config for a subscription by report config name.
      externalDocs:
        url: https://docs.microsoft.com/en-us/rest/api/costmanagement/
      operationId: ReportConfig_Get
      parameters:
        - $ref: "#/components/parameters/apiVersionParameter"
        - $ref: "#/components/parameters/subscriptionIdParameter"
        - $ref: "#/components/parameters/reportConfigNameParameter"
      responses:
        "200":
          description: OK. The request has succeeded.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ReportConfig"
              examples:
                Report:
                  $ref: "#/components/examples/Report"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Reports
    put:
      description: The operation to create or update a report config. Update operation
        requires latest eTag to be set in the request mandatorily. You may
        obtain the latest eTag by performing a get operation. Create operation
        does not require eTag.
      externalDocs:
        url: https://docs.microsoft.com/en-us/rest/api/costmanagement/
      operationId: ReportConfig_CreateOrUpdate
      parameters:
        - $ref: "#/components/parameters/apiVersionParameter"
        - $ref: "#/components/parameters/subscriptionIdParameter"
        - $ref: "#/components/parameters/reportConfigNameParameter"
      requestBody:
        $ref: "#/components/requestBodies/ReportConfig"
      responses:
        "200":
          description: OK. The request has succeeded.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ReportConfig"
              examples:
                CreateOrUpdateReport:
                  $ref: "#/components/examples/CreateOrUpdateReport"
        "201":
          description: Created.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ReportConfig"
              examples:
                CreateOrUpdateReport:
                  $ref: "#/components/examples/CreateOrUpdateReport"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Reports
  "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.CostManagement/dimensions":
    get:
      description: Lists the dimensions by resource group Id.
      externalDocs:
        url: https://docs.microsoft.com/en-us/rest/api/costmanagement/
      operationId: ResourceGroupDimensions_List
      parameters:
        - $ref: "#/components/parameters/apiVersionParameter"
        - $ref: "#/components/parameters/subscriptionIdParameter"
        - $ref: "#/components/parameters/resourceGroupNameParameter"
        - description: May be used to filter dimensions by properties/category,
            properties/usageStart, properties/usageEnd. Supported operators are
            'eq','lt', 'gt', 'le', 'ge'.
          in: query
          name: $filter
          required: false
          schema:
            type: string
        - description: May be used to expand the properties/data within a dimension
            category. By default, data is not included when listing dimensions.
          in: query
          name: $expand
          required: false
          schema:
            type: string
          examples:
            ResourceGroupDimensionsList:
              value: properties/data
        - description: Skiptoken is only used if a previous operation returned a partial
            result. If a previous response contains a nextLink element, the
            value of the nextLink element will include a skiptoken parameter
            that specifies a starting point to use for subsequent calls.
          in: query
          name: $skiptoken
          required: false
          schema:
            type: string
        - description: May be used to limit the number of results to the most recent N
            dimension data.
          in: query
          name: $top
          required: false
          schema:
            type: integer
            minimum: 1
            maximum: 1000
          examples:
            ResourceGroupDimensionsList:
              value: 5
      responses:
        "200":
          description: OK. The request has succeeded.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DimensionsListResult"
              examples:
                ResourceGroupDimensionsList:
                  $ref: "#/components/examples/ResourceGroupDimensionsList"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Dimensions
      x-ms-odata: "#/components/schemas/Dimension"
      x-ms-pageable: {}
  "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.CostManagement/reportconfigs":
    get:
      description: Lists all report configs for a resource group under a subscription.
      externalDocs:
        url: https://docs.microsoft.com/en-us/rest/api/costmanagement/
      operationId: ReportConfig_ListByResourceGroupName
      parameters:
        - $ref: "#/components/parameters/apiVersionParameter"
        - $ref: "#/components/parameters/subscriptionIdParameter"
        - $ref: "#/components/parameters/resourceGroupNameParameter"
      responses:
        "200":
          description: OK. The request has succeeded.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ReportConfigListResult"
              examples:
                ReportConfigList:
                  $ref: "#/components/examples/ReportConfigList"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Reports
  "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.CostManagement/reportconfigs/{reportConfigName}":
    delete:
      description: The operation to delete a report config.
      externalDocs:
        url: https://docs.microsoft.com/en-us/rest/api/costmanagement/
      operationId: ReportConfig_DeleteByResourceGroupName
      parameters:
        - $ref: "#/components/parameters/apiVersionParameter"
        - $ref: "#/components/parameters/subscriptionIdParameter"
        - $ref: "#/components/parameters/resourceGroupNameParameter"
        - $ref: "#/components/parameters/reportConfigNameParameter"
      responses:
        "200":
          description: OK. The request has succeeded.
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Reports
    get:
      description: Gets the report config for a resource group under a subscription by
        report config name.
      externalDocs:
        url: https://docs.microsoft.com/en-us/rest/api/costmanagement/
      operationId: ReportConfig_GetByResourceGroupName
      parameters:
        - $ref: "#/components/parameters/apiVersionParameter"
        - $ref: "#/components/parameters/subscriptionIdParameter"
        - $ref: "#/components/parameters/resourceGroupNameParameter"
        - $ref: "#/components/parameters/reportConfigNameParameter"
      responses:
        "200":
          description: OK. The request has succeeded.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ReportConfig"
              examples:
                ReportConfig:
                  $ref: "#/components/examples/ReportConfig"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Reports
    put:
      description: The operation to create or update a report config. Update operation
        requires latest eTag to be set in the request mandatorily. You may
        obtain the latest eTag by performing a get operation. Create operation
        does not require eTag.
      externalDocs:
        url: https://docs.microsoft.com/en-us/rest/api/costmanagement/
      operationId: ReportConfig_CreateOrUpdateByResourceGroupName
      parameters:
        - $ref: "#/components/parameters/apiVersionParameter"
        - $ref: "#/components/parameters/subscriptionIdParameter"
        - $ref: "#/components/parameters/resourceGroupNameParameter"
        - $ref: "#/components/parameters/reportConfigNameParameter"
      requestBody:
        $ref: "#/components/requestBodies/ReportConfig"
      responses:
        "200":
          description: OK. The request has succeeded.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ReportConfig"
              examples:
                CreateOrUpdateReport:
                  $ref: "#/components/examples/CreateOrUpdateReport"
        "201":
          description: Created.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ReportConfig"
              examples:
                CreateOrUpdateReport:
                  $ref: "#/components/examples/CreateOrUpdateReport"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Reports
  "/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.CostManagement/Query":
    post:
      description: Lists the usage data for subscriptionId and resource group.
      externalDocs:
        url: https://docs.microsoft.com/en-us/rest/api/costmanagement/
      operationId: QueryResourceGroup
      parameters:
        - $ref: "#/components/parameters/apiVersionParameter"
        - $ref: "#/components/parameters/subscriptionIdParameter"
        - $ref: "#/components/parameters/resourceGroupNameParameter"
      requestBody:
        $ref: "#/components/requestBodies/ReportConfigDefinition"
      responses:
        "200":
          description: OK. The request has succeeded.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/QueryResult"
              examples:
                ResourceGroupQuery:
                  $ref: "#/components/examples/ResourceGroupQuery"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Query
      x-ms-pageable: {}
servers:
  - url: https://management.azure.com
components:
  examples:
    BillingAccountQuery:
      value:
        value:
          - id: providers/Microsoft.Billing/billingAccounts/70664866/providers/Microsoft.CostManagement/Query/ad67fd91-c131-4bda-9ba9-7187ecb1cebd
            name: ad67fd91-c131-4bda-9ba9-7187ecb1cebd
            properties:
              columns:
                - name: PreTaxCost
                  type: Number
                - name: ResourceGroup
                  type: String
                - name: UsageDate
                  type: Number
              nextLink: https://management.azure.com/providers/Microsoft.Billing/billingAccounts/70664866/providers/Microsoft.CostManagement/Query?api-version=2018-05-31&$skiptoken=AQAAAA%3D%3D
              rows:
                - - 19.545363672276512
                  - JapanUnifia-Trial
                  - 20180331
                - - 173.41979241290323
                  - RVIIOT-TRIAL
                  - 20180331
                - - 20.35941656262545
                  - VSTSHOL-1595322048000
                  - 20180331
                - - 0.16677720329728665
                  - gs-stms-dev
                  - 20180331
            type: microsoft.costmanagement/Query
    BillingAccountDimensionsList:
      value:
        value:
          - id: providers/Microsoft.Billing/billingAccounts/100/providers/microsoft.consumption/dimensions_ResourceGroup_2018-05-01_2018-05-31
            name: dimensions_ResourceGroup_2018-05-01_2018-05-31
            properties:
              category: ResourceGroup
              data: []
              total: 377
              usageEnd: 2018-05-31T00:00:00-07:00
              usageStart: 2018-05-01T00:00:00-07:00
            type: microsoft.consumption/dimensions
          - id: providers/Microsoft.Billing/billingAccounts/100/providers/microsoft.consumption/dimensions_ResourceType_2018-05-01_2018-05-31
            name: dimensions_ResourceType_2018-05-01_2018-05-31
            properties:
              category: ResourceType
              data: []
              total: 37
              usageEnd: 2018-05-31T00:00:00-07:00
              usageStart: 2018-05-01T00:00:00-07:00
            type: microsoft.consumption/dimensions
    BillingAccountDimensionsListExpandAndTop:
      value:
        value:
          - id: providers/Microsoft.Billing/billingAccounts/100/providers/microsoft.consumption/dimensions_ResourceGroup_2018-05-01_2018-05-31_5
            name: dimensions_ResourceGroup_2018-05-01_2018-05-31_5
            properties:
              category: ResourceGroup
              data:
                - thoroetrg01
                - default-notificationhubs-westus
                - jedikeyvaultrg
                - contosocodeflow8d4a
                - noobaa
              total: 377
              usageEnd: 2018-05-31T00:00:00-07:00
              usageStart: 2018-05-01T00:00:00-07:00
            type: microsoft.consumption/dimensions
          - id: providers/Microsoft.Billing/billingAccounts/100/providers/microsoft.consumption/dimensions_ResourceType_2018-05-01_2018-05-31_5
            name: dimensions_ResourceType_2018-05-01_2018-05-31_5
            properties:
              category: ResourceType
              data:
                - microsoft.automation/automationaccounts
                - microsoft.databricks/workspaces
                - microsoft.dbformysql/servers
                - microsoft.containerregistry/registries
                - microsoft.search/searchservices
              total: 37
              usageEnd: 2018-05-31T00:00:00-07:00
              usageStart: 2018-05-01T00:00:00-07:00
            type: microsoft.consumption/dimensions
    BillingAccountDimensionsListWithFilter:
      value:
        value:
          - id: providers/Microsoft.Billing/billingAccounts/100/providers/microsoft.consumption/dimensions_InstanceId_2018-05-01_2018-05-31_5
            name: dimensions_InstanceId_2018-05-01_2018-05-31_5
            properties:
              category: InstanceId
              data:
                - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/system.orlando/providers/microsoft.storage/storageaccounts/urphealthaccount
                - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/system.orlando/providers/microsoft.storage/storageaccounts/srphytenaccount
                - /subscriptions/67e24f6b-1ec2-4c90-993a-dc2d25b00b6c/resourcegroups/defaultresourcegroup-eus/providers/microsoft.operationalinsights/workspaces/defaultworkspace-67e24f6b-1ec2-4c90-993a-dc2d25b00b6c-eus
                - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/rg-sql-ha/providers/microsoft.compute/virtualmachines/sql-4qqp1
                - /subscriptions/a98d6dc5-eb8f-46cf-8938-f1fb08f03706/resourcegroups/databricks-rg-testwsp-xijmsdubneexm/providers/microsoft.compute/disks/488cdb42bf74474a98075415be3f806c-containerrootvolume
              nextLink: http://management.azure.com/ccmapi/providers/Microsoft.Billing/billingAccounts/100/providers/Microsoft.Consumption/Dimensions?$filter=properties/category
                eq
                'instanceId'&$top=5&api-version=2018-05-31&$expand=properties/data&$skiptoken=AQAAAA%3D%3D
              total: 1409
              usageEnd: 2018-05-31T00:00:00-07:00
              usageStart: 2018-05-01T00:00:00-07:00
            type: microsoft.consumption/dimensions
    SubscriptionQuery:
      value:
        value:
          - id: subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.CostManagement/Query/00000000-0000-0000-0000-000000000000
            name: 55312978-ba1b-415c-9304-cfd9c43c0481
            properties:
              columns:
                - name: PreTaxCost
                  type: Number
                - name: ResourceGroup
                  type: String
                - name: UsageDate
                  type: Number
              rows:
                - - 2.10333307059661
                  - ScreenSharingTest-peer
                  - 20180417
                - - 218.68795741935486
                  - Ict_StratAndPlan_GoldSprova_Prod
                  - 20180331
                - - 0.14384913581657052
                  - ssbciotelement01
                  - 20180331
                - - 0.009865586851323632
                  - ict_stratandplan_goldsprova_prod
                  - 20180331
            type: microsoft.costmanagement/Query
    SubscriptionDimensionsList:
      value:
        value:
          - id: subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Consumption/dimensions_ResourceGroup_2018-05-01_2018-05-31_5
            name: dimensions_ResourceGroup_2018-05-01_2018-05-31_5
            properties:
              category: ResourceGroup
              data:
                - dcrg
                - rg
                - offlinegalleryrg
                - system.orlando.adminkeyvault
                - system.orlando.keyvault
              total: 68
              usageEnd: 2018-05-31T00:00:00-07:00
              usageStart: 2018-05-01T00:00:00-07:00
            type: microsoft.consumption/dimensions
          - id: subscriptions/00000000-0000-0000-0000-000000000000/providers/Microsoft.Consumption/dimensions_ResourceType_2018-05-01_2018-05-31_5
            name: dimensions_ResourceType_2018-05-01_2018-05-31_5
            properties:
              category: ResourceType
              data:
                - microsoft.storage/storageaccounts
                - microsoft.web.admin/role
                - microsoft.sql/servers
                - microsoft.compute/virtualmachines
              total: 4
              usageEnd: 2018-05-31T00:00:00-07:00
              usageStart: 2018-05-01T00:00:00-07:00
            type: microsoft.consumption/dimensions
    ReportConfigList:
      value:
        value:
          - id: subscriptions/{subscription-id}/providers/Microsoft.Consumption/reportconfigs/TestReportConfig1
            name: TestReportConfig1
            properties:
              definition:
                dataset:
                  aggregation:
                    costSum:
                      function: Sum
                      name: PreTaxCost
                  configuration:
                    columns:
                      - Date
                      - MeterId
                      - InstanceId
                      - ResourceLocation
                      - PreTaxCost
                  filter:
                    and:
                      - or:
                          - dimension:
                              name: ResourceLocation
                              operator: In
                              values:
                                - East US
                                - West Europe
                          - tag:
                              name: Environment
                              operator: In
                              values:
                                - UAT
                                - Prod
                      - dimension:
                          name: ResourceGroup
                          operator: In
                          values:
                            - API
                  granularity: Daily
                  grouping:
                    - columnType: Dimension
                      name: SubscriptionName
                timePeriod:
                  from: 2018-06-01T00:00:00Z
                  to: 2018-10-31T00:00:00Z
                timeframe: Custom
                type: Usage
              deliveryInfo:
                destination:
                  container: reports
                  resourceId: /subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MYDEVTESTRG/providers/Microsoft.Storage/storageAccounts/ccmeastusdiag182
                  rootFolderPath: ad-hoc
              format: Csv
            type: Microsoft.Consumption/reportconfigs
          - id: subscriptions/{subscription-id}/providers/Microsoft.Consumption/reportconfigs/TestReportConfig2
            name: TestReportConfig2
            properties:
              definition:
                dataset:
                  aggregation:
                    usageSum:
                      function: Sum
                      name: UsageQuantity
                  configuration:
                    columns:
                      - Date
                      - MeterId
                      - InstanceId
                      - ResourceLocation
                      - UsageQuantity
                  filter:
                    and:
                      - dimension:
                          name: ResourceLocation
                          operator: In
                          values:
                            - East US
                            - West Europe
                      - tag:
                          name: Environment
                          operator: In
                          values:
                            - UAT
                            - Prod
                  granularity: Daily
                  grouping:
                    - columnType: Tag
                      name: Environment
                timeframe: WeekToDate
                type: Usage
              deliveryInfo:
                destination:
                  container: reports
                  resourceId: /subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MYDEVTESTRG/providers/Microsoft.Storage/storageAccounts/ccmeastusdiag182
                  rootFolderPath: ad-hoc
              format: Csv
              schedule:
                recurrence: Weekly
                recurrencePeriod:
                  from: 2018-06-01T00:00:00Z
                  to: 2018-10-31T00:00:00Z
                status: Active
            type: Microsoft.Consumption/reportconfigs
    Report:
      value:
        id: subscriptions/{subscription-id}/providers/Microsoft.Consumption/reportconfigs/TestReportConfig
        name: TestReportConfig
        properties:
          definition:
            dataset:
              aggregation:
                usageSum:
                  function: Sum
                  name: UsageQuantity
              configuration:
                columns:
                  - UsageDate
                  - MeterId
                  - InstanceId
                  - ResourceLocation
                  - UsageQuantity
              filter:
                and:
                  - dimension:
                      name: ResourceLocation
                      operator: In
                      values:
                        - East US
                        - West Europe
                  - tag:
                      name: Environment
                      operator: Contains
                      values:
                        - UAT
                        - Prod
              granularity: Daily
              grouping:
                - columnType: Dimension
                  name: SubscriptionName
                - columnType: Tag
                  name: Environment
            timePeriod:
              from: 2018-06-01T00:00:00Z
              to: 2018-10-31T00:00:00Z
            timeframe: Custom
            type: Usage
          deliveryInfo:
            destination:
              container: reports
              resourceId: /subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MYDEVTESTRG/providers/Microsoft.Storage/storageAccounts/ccmeastusdiag182
              rootFolderPath: ad-hoc
          format: Csv
        type: Microsoft.Consumption/reportconfigs
    CreateOrUpdateReport:
      value:
        id: subscriptions/{subscription-id}/providers/Microsoft.Consumption/reportconfigs/TestReportConfig
        name: TestReportConfig
        properties:
          definition:
            dataset:
              aggregation:
                costSum:
                  function: Sum
                  name: PreTaxCost
              configuration:
                columns:
                  - Date
                  - MeterId
                  - InstanceId
                  - ResourceLocation
                  - PreTaxCost
              filter:
                and:
                  - or:
                      - dimension:
                          name: ResourceLocation
                          operator: In
                          values:
                            - East US
                            - West Europe
                      - tag:
                          name: Environment
                          operator: In
                          values:
                            - UAT
                            - Prod
                  - dimension:
                      name: ResourceGroup
                      operator: In
                      values:
                        - API
              granularity: Daily
              grouping:
                - columnType: Dimension
                  name: SubscriptionName
                - columnType: Tag
                  name: Environment
            timeframe: MonthToDate
            type: Usage
          deliveryInfo:
            destination:
              container: reports
              resourceId: /subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MYDEVTESTRG/providers/Microsoft.Storage/storageAccounts/ccmeastusdiag182
              rootFolderPath: ad-hoc
          format: Csv
          schedule:
            recurrence: Weekly
            recurrencePeriod:
              from: 2018-06-01T00:00:00Z
              to: 2018-10-31T00:00:00Z
            status: Active
        type: Microsoft.Consumption/reportconfigs
    ResourceGroupDimensionsList:
      value:
        value:
          - id: subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/system.orlando/providers/microsoft.consumption/dimensions_ResourceType_2018-05-01_2018-05-31_5
            name: dimensions_ResourceType_2018-05-01_2018-05-31_5
            properties:
              category: ResourceType
              data:
                - microsoft.storage/storageaccounts
              total: 1
              usageEnd: 2018-05-31T00:00:00-07:00
              usageStart: 2018-05-01T00:00:00-07:00
            type: microsoft.consumption/dimensions
          - id: subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/system.orlando/providers/microsoft.consumption/dimensions_InstanceId_2018-05-01_2018-05-31_5
            name: dimensions_InstanceId_2018-05-01_2018-05-31_5
            properties:
              category: InstanceId
              data:
                - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/system.orlando/providers/microsoft.storage/storageaccounts/authprod
                - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/system.orlando/providers/microsoft.storage/storageaccounts/systemevents
                - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/system.orlando/providers/microsoft.storage/storageaccounts/armadminprod
                - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/system.orlando/providers/microsoft.storage/storageaccounts/srphytenaccount
                - /subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/system.orlando/providers/microsoft.storage/storageaccounts/publicsystemportal
              total: 27
              usageEnd: 2018-05-31T00:00:00-07:00
              usageStart: 2018-05-01T00:00:00-07:00
            type: microsoft.consumption/dimensions
    ReportConfig:
      value:
        id: subscriptions/{subscription-id}/providers/Microsoft.Consumption/reportconfigs/TestReportConfig
        name: TestReportConfig
        properties:
          definition:
            dataset:
              aggregation:
                usageSum:
                  function: Sum
                  name: UsageQuantity
              configuration:
                columns:
                  - UsageDate
                  - MeterId
                  - InstanceId
                  - ResourceLocation
                  - UsageQuantity
              filter:
                and:
                  - dimension:
                      name: ResourceLocation
                      operator: In
                      values:
                        - East US
                        - West Europe
                  - tag:
                      name: Environment
                      operator: Contains
                      values:
                        - UAT
                        - Prod
              granularity: Daily
              grouping:
                - columnType: Dimension
                  name: SubscriptionName
                - columnType: Tag
                  name: Environment
            timePeriod:
              from: 2018-06-01T00:00:00Z
              to: 2018-10-31T00:00:00Z
            timeframe: Custom
            type: Usage
          deliveryInfo:
            destination:
              container: reports
              resourceId: /subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/MYDEVTESTRG/providers/Microsoft.Storage/storageAccounts/ccmeastusdiag182
              rootFolderPath: ad-hoc
          format: Csv
        type: Microsoft.Consumption/reportconfigs
    ResourceGroupQuery:
      value:
        value:
          - id: subscriptions/00000000-0000-0000-0000-000000000000/resourcegroups/ScreenSharingTest-peer/providers/Microsoft.CostManagement/Query/9af9459d-441d-4055-9ed0-83d4c4a363fb
            name: 9af9459d-441d-4055-9ed0-83d4c4a363fb
            properties:
              columns:
                - name: PreTaxCost
                  type: Number
                - name: ResourceGroup
                  type: String
                - name: UsageDate
                  type: Number
              rows:
                - - 2.10333307059661
                  - ScreenSharingTest-peer
                  - 20180417
                - - 20.10333307059661
                  - ScreenSharingTest-peer
                  - 20180418
            type: microsoft.costmanagement/Query
  parameters:
    apiVersionParameter:
      description: Version of the API to be used with the client request. The current
        version is 2018-05-31.
      in: query
      name: api-version
      required: true
      schema:
        type: string
      examples:
        BillingAccountQuery:
          value: 2018-05-31
        BillingAccountDimensionsList:
          value: 2018-05-31
        BillingAccountDimensionsListExpandAndTop:
          value: 2018-05-31
        BillingAccountDimensionsListWithFilter:
          value: 2018-05-31
        SubscriptionQuery:
          value: 2018-05-31
        SubscriptionDimensionsList:
          value: 2018-05-31
        ReportConfigList:
          value: 2018-05-31
        DeleteReport:
          value: 2018-05-31
        Report:
          value: 2018-05-31
        CreateOrUpdateReport:
          value: 2018-05-31
        ResourceGroupDimensionsList:
          value: 2018-05-31
        ReportConfig:
          value: 2018-05-31
        ResourceGroupQuery:
          value: 2018-05-31
    billingAccountIdParameter:
      description: BillingAccount ID
      in: path
      name: billingAccountId
      required: true
      x-ms-parameter-location: method
      schema:
        type: string
      examples:
        BillingAccountQuery:
          value: "70664866"
        BillingAccountDimensionsList:
          value: "100"
        BillingAccountDimensionsListExpandAndTop:
          value: "100"
        BillingAccountDimensionsListWithFilter:
          value: "100"
    reportConfigNameParameter:
      description: Report Config Name.
      in: path
      name: reportConfigName
      required: true
      x-ms-parameter-location: method
      schema:
        type: string
      examples:
        DeleteReport:
          value: TestReport
        Report:
          value: TestReportConfig
        CreateOrUpdateReport:
          value: TestReportConfig
        ReportConfig:
          value: TestReportConfig
    resourceGroupNameParameter:
      description: Azure Resource Group Name.
      in: path
      name: resourceGroupName
      required: true
      x-ms-parameter-location: method
      schema:
        type: string
      examples:
        ResourceGroupDimensionsList:
          value: system.orlando
        ReportConfigList:
          value: MYDEVTESTRG
        DeleteReport:
          value: MYDEVTESTRG
        ReportConfig:
          value: MYDEVTESTRG
        CreateOrUpdateReport:
          value: MYDEVTESTRG
        ResourceGroupQuery:
          value: ScreenSharingTest-peer
    subscriptionIdParameter:
      description: Azure Subscription ID.
      in: path
      name: subscriptionId
      required: true
      schema:
        type: string
      examples:
        SubscriptionQuery:
          value: 00000000-0000-0000-0000-000000000000
        SubscriptionDimensionsList:
          value: 00000000-0000-0000-0000-000000000000
        ReportConfigList:
          value: 00000000-0000-0000-0000-000000000000
        DeleteReport:
          value: 00000000-0000-0000-0000-000000000000
        Report:
          value: 00000000-0000-0000-0000-000000000000
        CreateOrUpdateReport:
          value: 00000000-0000-0000-0000-000000000000
        ResourceGroupDimensionsList:
          value: 00000000-0000-0000-0000-000000000000
        ReportConfig:
          value: 00000000-0000-0000-0000-000000000000
        ResourceGroupQuery:
          value: 00000000-0000-0000-0000-000000000000
  requestBodies:
    ReportConfigDefinition:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ReportConfigDefinition"
      description: Parameters supplied to the CreateOrUpdate Report Config operation.
      required: true
    ReportConfig:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ReportConfig"
      description: Parameters supplied to the CreateOrUpdate Report Config operation.
      required: true
  securitySchemes:
    azure_auth:
      description: Azure Active Directory OAuth2 Flow.
      type: oauth2
      flows:
        implicit:
          authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
          scopes:
            user_impersonation: impersonate your user account
  schemas:
    Dimension:
      allOf:
        - $ref: "#/components/schemas/Resource"
      properties:
        properties:
          $ref: "#/components/schemas/DimensionProperties"
      type: object
    DimensionProperties:
      properties:
        category:
          type: string
        data:
          items:
            type: string
          type: array
        nextLink:
          type: string
        total:
          format: int32
          type: integer
        usageEnd:
          format: date-time
          type: string
        usageStart:
          format: date-time
          type: string
      type: object
    DimensionsListResult:
      description: Result of listing dimensions. It contains a list of available dimensions.
      properties:
        value:
          description: The list of dimensions.
          items:
            $ref: "#/components/schemas/Dimension"
          readOnly: true
          type: array
      type: object
    ErrorDetails:
      description: The details of the error.
      properties:
        code:
          description: Error code.
          readOnly: true
          type: string
        message:
          description: Error message indicating why the operation failed.
          readOnly: true
          type: string
    ErrorResponse:
      description: Error response indicates that the service is not able to process the
        incoming request. The reason is provided in the error message.
      properties:
        error:
          $ref: "#/components/schemas/ErrorDetails"
      type: object
    Operation:
      description: A Cost management REST API operation.
      properties:
        display:
          description: The object that represents the operation.
          properties:
            operation:
              description: "Operation type: Read, write, delete, etc."
              readOnly: true
              type: string
            provider:
              description: "Service provider: Microsoft.CostManagement."
              readOnly: true
              type: string
            resource:
              description: "Resource on which the operation is performed: Dimensions,
                Query."
              readOnly: true
              type: string
        name:
          description: "Operation name: {provider}/{resource}/{operation}."
          readOnly: true
          type: string
      type: object
    OperationListResult:
      description: Result of listing cost management operations. It contains a list of
        operations and a URL link to get the next set of results.
      properties:
        nextLink:
          description: URL to get the next set of operation list results if there are any.
          readOnly: true
          type: string
        value:
          description: List of cost management operations supported by the
            Microsoft.CostManagement resource provider.
          items:
            $ref: "#/components/schemas/Operation"
          readOnly: true
          type: array
    Query:
      allOf:
        - $ref: "#/components/schemas/Resource"
      properties:
        properties:
          $ref: "#/components/schemas/QueryProperties"
      type: object
    QueryColumn:
      properties:
        name:
          type: string
        type:
          type: string
      type: object
    QueryProperties:
      properties:
        columns:
          description: Array of columns
          items:
            $ref: "#/components/schemas/QueryColumn"
          type: array
        nextLink:
          type: string
        rows:
          items:
            items: {}
            type: array
          type: array
      type: object
    QueryResult:
      description: Result of query. It contains all columns listed under groupings and
        aggregation.
      properties:
        value:
          description: The list of usage data.
          items:
            $ref: "#/components/schemas/Query"
          readOnly: true
          type: array
      type: object
    ReportConfig:
      allOf:
        - $ref: "#/components/schemas/Resource"
      description: A report config resource.
      properties:
        properties:
          $ref: "#/components/schemas/ReportConfigProperties"
      type: object
    ReportConfigAggregation:
      description: The aggregation expression to be used in the report.
      properties:
        function:
          description: The name of the aggregation function to use.
          enum:
            - Sum
          type: string
          x-ms-enum:
            modelAsString: true
            name: FunctionType
        name:
          description: The name of the column to aggregate.
          type: string
      required:
        - name
        - function
    ReportConfigColumnType:
      description: The type of the column in the report.
      enum:
        - Tag
        - Dimension
      type: string
      x-ms-enum:
        modelAsString: true
        name: ReportConfigColumnType
    ReportConfigComparisonExpression:
      description: The comparison expression to be used in the report.
      properties:
        name:
          description: The name of the column to use in comparison.
          type: string
        operator:
          description: The operator to use for comparison.
          enum:
            - In
          type: string
          x-ms-enum:
            modelAsString: true
            name: OperatorType
        values:
          description: Array of values to use for comparison
          items:
            type: string
          minItems: 1
          type: array
      required:
        - name
        - operator
        - values
    ReportConfigDataset:
      description: The definition of data present in the report.
      properties:
        aggregation:
          additionalProperties:
            $ref: "#/components/schemas/ReportConfigAggregation"
          description: Dictionary of aggregation expression to use in the report. The key
            of each item in the dictionary is the alias for the aggregated
            column. Report can have up to 2 aggregation clauses.
          maxItems: 2
          type: object
        configuration:
          $ref: "#/components/schemas/ReportConfigDatasetConfiguration"
        filter:
          $ref: "#/components/schemas/ReportConfigFilter"
        granularity:
          description: The granularity of rows in the report.
          enum:
            - Daily
          type: string
          x-ms-enum:
            modelAsString: true
            name: GranularityType
        grouping:
          description: Array of group by expression to use in the report. Report can have
            up to 2 group by clauses.
          items:
            $ref: "#/components/schemas/ReportConfigGrouping"
          maxItems: 2
          type: array
    ReportConfigDatasetConfiguration:
      description: The configuration of dataset in the report.
      properties:
        columns:
          description: Array of column names to be included in the report. Any valid report
            column name is allowed. If not provided, then report includes all
            columns.
          items:
            type: string
          type: array
    ReportConfigDefinition:
      description: The definition of a report config.
      properties:
        dataset:
          $ref: "#/components/schemas/ReportConfigDataset"
        timePeriod:
          $ref: "#/components/schemas/ReportConfigTimePeriod"
        timeframe:
          description: The time frame for pulling data for the report. If custom, then a
            specific time period must be provided.
          enum:
            - WeekToDate
            - MonthToDate
            - YearToDate
            - Custom
          type: string
          x-ms-enum:
            modelAsString: true
            name: TimeframeType
        type:
          description: The type of the report.
          enum:
            - Usage
          type: string
          x-ms-enum:
            modelAsString: true
            name: ReportType
      required:
        - type
        - timeframe
    ReportConfigDeliveryDestination:
      description: The destination information for the delivery of the report.
      properties:
        container:
          description: The name of the container where reports will be uploaded.
          type: string
        resourceId:
          description: The resource id of the storage account where reports will be
            delivered.
          type: string
        rootFolderPath:
          description: The name of the directory where reports will be uploaded.
          type: string
      required:
        - resourceId
        - container
    ReportConfigDeliveryInfo:
      description: The delivery information associated with a report config.
      properties:
        destination:
          $ref: "#/components/schemas/ReportConfigDeliveryDestination"
      required:
        - destination
    ReportConfigFilter:
      description: The filter expression to be used in the report.
      properties:
        and:
          description: The logical "AND" expression. Must have at least 2 items.
          items:
            $ref: "#/components/schemas/ReportConfigFilter"
          minItems: 2
          type: array
        dimension:
          $ref: "#/components/schemas/ReportConfigComparisonExpression"
        not:
          $ref: "#/components/schemas/ReportConfigFilter"
        or:
          description: The logical "OR" expression. Must have at least 2 items.
          items:
            $ref: "#/components/schemas/ReportConfigFilter"
          minItems: 2
          type: array
        tag:
          $ref: "#/components/schemas/ReportConfigComparisonExpression"
    ReportConfigGrouping:
      description: The group by expression to be used in the report.
      properties:
        columnType:
          $ref: "#/components/schemas/ReportConfigColumnType"
        name:
          description: The name of the column to group.
          type: string
      required:
        - columnType
        - name
    ReportConfigListResult:
      description: Result of listing report configs. It contains a list of available report
        configurations in the scope provided.
      properties:
        value:
          description: The list of report configs.
          items:
            $ref: "#/components/schemas/ReportConfig"
          readOnly: true
          type: array
    ReportConfigProperties:
      description: The properties of the report config.
      properties:
        definition:
          $ref: "#/components/schemas/ReportConfigDefinition"
        deliveryInfo:
          $ref: "#/components/schemas/ReportConfigDeliveryInfo"
        format:
          description: The format of the report being delivered.
          enum:
            - Csv
          type: string
          x-ms-enum:
            modelAsString: true
            name: FormatType
        schedule:
          $ref: "#/components/schemas/ReportConfigSchedule"
      required:
        - deliveryInfo
        - definition
    ReportConfigRecurrencePeriod:
      description: The start and end date for recurrence schedule.
      properties:
        from:
          description: The start date of recurrence.
          format: date-time
          type: string
        to:
          description: The end date of recurrence. If not provided, we default this to 10
            years from the start date.
          format: date-time
          type: string
      required:
        - from
    ReportConfigSchedule:
      description: The schedule associated with a report config.
      properties:
        recurrence:
          description: The schedule recurrence.
          enum:
            - Daily
            - Weekly
            - Monthly
            - Annually
          type: string
          x-ms-enum:
            modelAsString: true
            name: RecurrenceType
        recurrencePeriod:
          $ref: "#/components/schemas/ReportConfigRecurrencePeriod"
        status:
          description: The status of the schedule. Whether active or not. If inactive, the
            report's scheduled execution is paused.
          enum:
            - Active
            - Inactive
          type: string
          x-ms-enum:
            modelAsString: true
            name: StatusType
      required:
        - recurrence
        - recurrencePeriod
    ReportConfigTimePeriod:
      description: The start and end date for pulling data for the report.
      properties:
        from:
          description: The start date to pull data from.
          format: date-time
          type: string
        to:
          description: The end date to pull data to.
          format: date-time
          type: string
      required:
        - from
        - to
    Resource:
      description: The Resource model definition.
      properties:
        id:
          description: Resource Id.
          readOnly: true
          type: string
        name:
          description: Resource name.
          readOnly: true
          type: string
        tags:
          additionalProperties:
            type: string
          description: Resource tags.
          readOnly: true
          type: object
        type:
          description: Resource type.
          readOnly: true
          type: string
      x-ms-azure-resource: true
