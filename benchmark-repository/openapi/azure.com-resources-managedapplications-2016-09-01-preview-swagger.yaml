openapi: 3.0.0
x-hasEquivalentPaths: true
info:
  description: ARM managed applications (appliances)
  title: ManagedApplicationClient
  version: 2016-09-01-preview
  x-apisguru-categories:
    - cloud
  x-logo:
    url: https://assets.onestore.ms/cdnfiles/onestorerolling-1606-01000/shell/v3/images/logo/microsoft.png
  x-origin:
    - format: swagger
      url: https://raw.githubusercontent.com/Azure/azure-rest-api-specs/master/specification/resources/resource-manager/Microsoft.Solutions/preview/2016-09-01-preview/managedapplications.json
      version: "2.0"
  x-preferred: false
  x-providerName: azure.com
  x-serviceName: resources-managedapplications
  x-tags:
    - Azure
    - Microsoft
security:
  - azure_auth:
      - user_impersonation
paths:
  /providers/Microsoft.Solutions/operations:
    get:
      description: Lists all of the available Microsoft.Solutions REST API operations.
      operationId: ListOperations
      parameters:
        - $ref: "#/components/parameters/ApiVersionParameter"
      responses:
        "200":
          description: OK. The request has succeeded.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OperationListResult"
      tags:
        - Operations
      x-ms-pageable:
        nextLinkName: nextLink
  "/subscriptions/{subscriptionId}/providers/Microsoft.Solutions/appliances":
    get:
      description: Gets all the appliances within a subscription.
      operationId: Appliances_ListBySubscription
      parameters:
        - $ref: "#/components/parameters/ApiVersionParameter"
        - $ref: "#/components/parameters/SubscriptionIdParameter"
      responses:
        "200":
          description: OK - Returns an array of appliances.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApplianceListResult"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Appliances
      x-ms-pageable:
        nextLinkName: nextLink
  "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Solutions/applianceDefinitions":
    get:
      description: Lists the appliance definitions in a resource group.
      operationId: ApplianceDefinitions_ListByResourceGroup
      parameters:
        - description: The name of the resource group. The name is case insensitive.
          in: path
          name: resourceGroupName
          required: true
          schema:
            type: string
            minLength: 1
            maxLength: 90
            pattern: ^[-\w\._\(\)]+$
          examples:
            List appliance definitions:
              value: rg
        - $ref: "#/components/parameters/ApiVersionParameter"
        - $ref: "#/components/parameters/SubscriptionIdParameter"
      responses:
        "200":
          description: OK - Returns an array of appliance definitions.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApplianceDefinitionListResult"
              examples:
                List appliance definitions:
                  $ref: "#/components/examples/List_appliance_definitions"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - ApplianceDefinitions
      x-ms-pageable:
        nextLinkName: nextLink
  "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Solutions/applianceDefinitions/{applianceDefinitionName}":
    delete:
      description: Deletes the appliance definition.
      operationId: ApplianceDefinitions_Delete
      parameters:
        - description: The name of the resource group. The name is case insensitive.
          in: path
          name: resourceGroupName
          required: true
          schema:
            type: string
            minLength: 1
            maxLength: 90
            pattern: ^[-\w\._\(\)]+$
        - description: The name of the appliance definition to delete.
          in: path
          name: applianceDefinitionName
          required: true
          schema:
            type: string
            minLength: 3
            maxLength: 64
        - $ref: "#/components/parameters/ApiVersionParameter"
        - $ref: "#/components/parameters/SubscriptionIdParameter"
      responses:
        "200":
          description: OK
        "202":
          description: Accepted - Returns this status until the asynchronous operation has
            completed.
        "204":
          description: NoContent
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - ApplianceDefinitions
      x-ms-long-running-operation: true
    get:
      description: Gets the appliance definition.
      operationId: ApplianceDefinitions_Get
      parameters:
        - description: The name of the resource group. The name is case insensitive.
          in: path
          name: resourceGroupName
          required: true
          schema:
            type: string
            minLength: 1
            maxLength: 90
            pattern: ^[-\w\._\(\)]+$
          examples:
            Get appliance definition:
              value: rg
        - description: The name of the appliance definition.
          in: path
          name: applianceDefinitionName
          required: true
          schema:
            type: string
            minLength: 3
            maxLength: 64
        - $ref: "#/components/parameters/ApiVersionParameter"
        - $ref: "#/components/parameters/SubscriptionIdParameter"
      responses:
        "200":
          description: OK - Returns the appliance definition.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApplianceDefinition"
              examples:
                Get appliance definition:
                  $ref: "#/components/examples/Get_appliance_definition"
        "404":
          description: Not Found
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - ApplianceDefinitions
    put:
      description: Creates a new appliance definition.
      operationId: ApplianceDefinitions_CreateOrUpdate
      parameters:
        - description: The name of the resource group. The name is case insensitive.
          in: path
          name: resourceGroupName
          required: true
          schema:
            type: string
            minLength: 1
            maxLength: 90
            pattern: ^[-\w\._\(\)]+$
          examples:
            Create or update appliance definition:
              value: rg
        - description: The name of the appliance definition.
          in: path
          name: applianceDefinitionName
          required: true
          schema:
            type: string
            minLength: 3
            maxLength: 64
          examples:
            Create or update appliance definition:
              value: myApplianceDef
        - $ref: "#/components/parameters/ApiVersionParameter"
        - $ref: "#/components/parameters/SubscriptionIdParameter"
      requestBody:
        $ref: "#/components/requestBodies/ApplianceDefinition"
      responses:
        "200":
          description: OK - Returns information about the appliance definition, including
            provisioning status.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApplianceDefinition"
        "201":
          description: Created - Returns information about the appliance definition,
            including provisioning status.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApplianceDefinition"
              examples:
                Create or update appliance definition:
                  $ref: "#/components/examples/Create_or_update_appliance_definition"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - ApplianceDefinitions
      x-ms-long-running-operation: true
  "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Solutions/appliances":
    get:
      description: Gets all the appliances within a resource group.
      operationId: Appliances_ListByResourceGroup
      parameters:
        - description: The name of the resource group. The name is case insensitive.
          in: path
          name: resourceGroupName
          required: true
          schema:
            type: string
            minLength: 1
            maxLength: 90
            pattern: ^[-\w\._\(\)]+$
          examples:
            Lists appliances:
              value: rg
        - $ref: "#/components/parameters/ApiVersionParameter"
        - $ref: "#/components/parameters/SubscriptionIdParameter"
      responses:
        "200":
          description: OK - Returns an array of appliances.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApplianceListResult"
              examples:
                Lists appliances:
                  $ref: "#/components/examples/Lists_appliances"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Appliances
      x-ms-pageable:
        nextLinkName: nextLink
  "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Solutions/appliances/{applianceName}":
    delete:
      description: Deletes the appliance.
      operationId: Appliances_Delete
      parameters:
        - description: The name of the resource group. The name is case insensitive.
          in: path
          name: resourceGroupName
          required: true
          schema:
            type: string
            minLength: 1
            maxLength: 90
            pattern: ^[-\w\._\(\)]+$
        - description: The name of the appliance.
          in: path
          name: applianceName
          required: true
          schema:
            type: string
            minLength: 3
            maxLength: 64
        - $ref: "#/components/parameters/ApiVersionParameter"
        - $ref: "#/components/parameters/SubscriptionIdParameter"
      responses:
        "202":
          description: Accepted - Returns this status until the asynchronous operation has
            completed.
        "204":
          description: NoContent
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Appliances
      x-ms-long-running-operation: true
    get:
      description: Gets the appliance.
      operationId: Appliances_Get
      parameters:
        - description: The name of the resource group. The name is case insensitive.
          in: path
          name: resourceGroupName
          required: true
          schema:
            type: string
            minLength: 1
            maxLength: 90
            pattern: ^[-\w\._\(\)]+$
          examples:
            Get an appliance:
              value: rg
        - description: The name of the appliance.
          in: path
          name: applianceName
          required: true
          schema:
            type: string
            minLength: 3
            maxLength: 64
          examples:
            Get an appliance:
              value: myAppliance
        - $ref: "#/components/parameters/ApiVersionParameter"
        - $ref: "#/components/parameters/SubscriptionIdParameter"
      responses:
        "200":
          description: OK - Returns the appliance.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Appliance"
              examples:
                Get an appliance:
                  $ref: "#/components/examples/Get_an_appliance"
        "404":
          description: Not Found
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Appliances
    patch:
      description: Updates an existing appliance. The only value that can be updated via
        PATCH currently is the tags.
      operationId: Appliances_Update
      parameters:
        - description: The name of the resource group. The name is case insensitive.
          in: path
          name: resourceGroupName
          required: true
          schema:
            type: string
            minLength: 1
            maxLength: 90
            pattern: ^[-\w\._\(\)]+$
        - description: The name of the appliance.
          in: path
          name: applianceName
          required: true
          schema:
            type: string
            minLength: 3
            maxLength: 64
        - $ref: "#/components/parameters/ApiVersionParameter"
        - $ref: "#/components/parameters/SubscriptionIdParameter"
      requestBody:
        $ref: "#/components/requestBodies/Appliance"
      responses:
        "200":
          description: Created - Returns information about the appliance, including
            provisioning status.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Appliance"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Appliances
    put:
      description: Creates a new appliance.
      operationId: Appliances_CreateOrUpdate
      parameters:
        - description: The name of the resource group. The name is case insensitive.
          in: path
          name: resourceGroupName
          required: true
          schema:
            type: string
            minLength: 1
            maxLength: 90
            pattern: ^[-\w\._\(\)]+$
          examples:
            Create or update appliance:
              value: rg
        - description: The name of the appliance.
          in: path
          name: applianceName
          required: true
          schema:
            type: string
            minLength: 3
            maxLength: 64
          examples:
            Create or update appliance:
              value: myAppliance
        - $ref: "#/components/parameters/ApiVersionParameter"
        - $ref: "#/components/parameters/SubscriptionIdParameter"
      requestBody:
        $ref: "#/components/requestBodies/Appliance2"
      responses:
        "200":
          description: Created - Returns information about the appliance, including
            provisioning status.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Appliance"
        "201":
          description: Created - Returns information about the appliance, including
            provisioning status.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Appliance"
              examples:
                Create or update appliance:
                  $ref: "#/components/examples/Create_or_update_appliance"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Appliances
      x-ms-long-running-operation: true
  "/{applianceDefinitionId}":
    delete:
      description: Deletes the appliance definition.
      operationId: ApplianceDefinitions_DeleteById
      parameters:
        - description: The fully qualified ID of the appliance definition, including the
            appliance name and the appliance definition resource type. Use the
            format,
            /subscriptions/{guid}/resourceGroups/{resource-group-name}/Microsoft.Solutions/applianceDefinitions/{applianceDefinition-name}
          in: path
          name: applianceDefinitionId
          required: true
          x-ms-skip-url-encoding: true
          schema:
            type: string
        - $ref: "#/components/parameters/ApiVersionParameter"
      responses:
        "200":
          description: OK
        "202":
          description: Accepted - Returns this status until the asynchronous operation has
            completed.
        "204":
          description: NoContent
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - ApplianceDefinitions
      x-ms-long-running-operation: true
    get:
      description: Gets the appliance definition.
      operationId: ApplianceDefinitions_GetById
      parameters:
        - description: The fully qualified ID of the appliance definition, including the
            appliance name and the appliance definition resource type. Use the
            format,
            /subscriptions/{guid}/resourceGroups/{resource-group-name}/Microsoft.Solutions/applianceDefinitions/{applianceDefinition-name}
          in: path
          name: applianceDefinitionId
          required: true
          x-ms-skip-url-encoding: true
          schema:
            type: string
        - $ref: "#/components/parameters/ApiVersionParameter"
      responses:
        "200":
          description: OK - Returns the appliance definition.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApplianceDefinition"
        "404":
          description: Not Found
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - ApplianceDefinitions
    put:
      description: Creates a new appliance definition.
      operationId: ApplianceDefinitions_CreateOrUpdateById
      parameters:
        - description: The fully qualified ID of the appliance definition, including the
            appliance name and the appliance definition resource type. Use the
            format,
            /subscriptions/{guid}/resourceGroups/{resource-group-name}/Microsoft.Solutions/applianceDefinitions/{applianceDefinition-name}
          in: path
          name: applianceDefinitionId
          required: true
          x-ms-skip-url-encoding: true
          schema:
            type: string
        - $ref: "#/components/parameters/ApiVersionParameter"
      requestBody:
        $ref: "#/components/requestBodies/ApplianceDefinition"
      responses:
        "200":
          description: OK - Returns information about the appliance definition, including
            provisioning status.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApplianceDefinition"
        "201":
          description: Created - Returns information about the appliance definition,
            including provisioning status.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApplianceDefinition"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - ApplianceDefinitions
      x-ms-long-running-operation: true
  "/{applianceId}":
    delete:
      description: Deletes the appliance.
      operationId: Appliances_DeleteById
      parameters:
        - description: The fully qualified ID of the appliance, including the appliance
            name and the appliance resource type. Use the format,
            /subscriptions/{guid}/resourceGroups/{resource-group-name}/Microsoft.Solutions/appliances/{appliance-name}
          in: path
          name: applianceId
          required: true
          x-ms-skip-url-encoding: true
          schema:
            type: string
        - $ref: "#/components/parameters/ApiVersionParameter"
      responses:
        "202":
          description: Accepted - Returns this status until the asynchronous operation has
            completed.
        "204":
          description: NoContent
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Appliances
      x-ms-long-running-operation: true
    get:
      description: Gets the appliance.
      operationId: Appliances_GetById
      parameters:
        - description: The fully qualified ID of the appliance, including the appliance
            name and the appliance resource type. Use the format,
            /subscriptions/{guid}/resourceGroups/{resource-group-name}/Microsoft.Solutions/appliances/{appliance-name}
          in: path
          name: applianceId
          required: true
          x-ms-skip-url-encoding: true
          schema:
            type: string
        - $ref: "#/components/parameters/ApiVersionParameter"
      responses:
        "200":
          description: OK - Returns the appliance.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Appliance"
        "404":
          description: Not Found
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Appliances
    patch:
      description: Updates an existing appliance. The only value that can be updated via
        PATCH currently is the tags.
      operationId: Appliances_UpdateById
      parameters:
        - description: The fully qualified ID of the appliance, including the appliance
            name and the appliance resource type. Use the format,
            /subscriptions/{guid}/resourceGroups/{resource-group-name}/Microsoft.Solutions/appliances/{appliance-name}
          in: path
          name: applianceId
          required: true
          x-ms-skip-url-encoding: true
          schema:
            type: string
        - $ref: "#/components/parameters/ApiVersionParameter"
      requestBody:
        $ref: "#/components/requestBodies/Appliance"
      responses:
        "200":
          description: Created - Returns information about the appliance, including
            provisioning status.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Appliance"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Appliances
    put:
      description: Creates a new appliance.
      operationId: Appliances_CreateOrUpdateById
      parameters:
        - description: The fully qualified ID of the appliance, including the appliance
            name and the appliance resource type. Use the format,
            /subscriptions/{guid}/resourceGroups/{resource-group-name}/Microsoft.Solutions/appliances/{appliance-name}
          in: path
          name: applianceId
          required: true
          x-ms-skip-url-encoding: true
          schema:
            type: string
        - $ref: "#/components/parameters/ApiVersionParameter"
      requestBody:
        $ref: "#/components/requestBodies/Appliance2"
      responses:
        "200":
          description: Created - Returns information about the appliance, including
            provisioning status.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Appliance"
        "201":
          description: Created - Returns information about the appliance, including
            provisioning status.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Appliance"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Appliances
      x-ms-long-running-operation: true
servers:
  - url: https://management.azure.com
components:
  examples:
    List_appliance_definitions:
      value:
        value:
          - id: /subscriptions/subid/resourceGroups/rg/providers/Microsoft.Solutions/applianceDefinitions/myApplianceDef
            location: East US 2
            name: myApplianceDef
            properties:
              artifacts:
                - name: CreateUiDefinition
                  type: Custom
                  uri: https://path/to/applianceCreateUiDefinition.json
                - name: ApplianceResourceTemplate
                  type: Template
                  uri: https://path/to/mainTemplate.json
              authorizations:
                - principalId: validprincipalguid
                  roleDefinitionId: validroleguid
              description: myApplianceDef description
              displayName: myApplianceDef
              packageFileUri: https://path/to/packagezipfile
            resourceGroup: rg
            type: Microsoft.Solutions/applianceDefinitions
          - id: /subscriptions/subid/resourceGroups/rg/providers/Microsoft.Solutions/applianceDefinitions/myApplianceDef2
            location: West US
            name: myApplianceDef2
            properties:
              artifacts:
                - name: CreateUiDefinition
                  type: Custom
                  uri: https://path/to/applianceCreateUiDefinition.json
                - name: ApplianceResourceTemplate
                  type: Template
                  uri: https://path/to/mainTemplate.json
              authorizations:
                - principalId: validprincipalguid
                  roleDefinitionId: validroleguid
              description: myApplianceDef2 description
              displayName: myApplianceDef2
              packageFileUri: https://path/to/packagezipfile
            resourceGroup: rg
            type: Microsoft.Solutions/applianceDefinitions
    Get_appliance_definition:
      value:
        id: /subscriptions/subid/resourceGroups/rg/providers/Microsoft.Solutions/applianceDefinitions/myApplianceDef
        location: East US 2
        name: myApplianceDef
        properties:
          artifacts:
            - name: CreateUiDefinition
              type: Custom
              uri: https://path/to/applianceCreateUiDefinition.json
            - name: ApplianceResourceTemplate
              type: Template
              uri: https://path/to/mainTemplate.json
          authorizations:
            - principalId: validprincipalguid
              roleDefinitionId: validroleguid
          description: myApplianceDef description
          displayName: myApplianceDef
          packageFileUri: https://path/to/packagezipfile
        resourceGroup: rg
        type: Microsoft.Solutions/applianceDefinitions
    Create_or_update_appliance_definition:
      value:
        id: /subscriptions/subid/resourceGroups/rg/providers/Microsoft.Solutions/applianceDefinitions/myApplianceDef
        location: East US 2
        name: myApplianceDef
        properties:
          artifacts:
            - name: CreateUiDefinition
              type: Custom
              uri: https://path/to/applianceCreateUiDefinition.json
            - name: ApplianceResourceTemplate
              type: Template
              uri: https://path/to/mainTemplate.json
          authorizations:
            - principalId: validprincipalguid
              roleDefinitionId: validroleguid
          description: myApplianceDef description
          displayName: myApplianceDef
          packageFileUri: https://path/to/packagezipfile
        resourceGroup: rg
        type: Microsoft.Solutions/applianceDefinitions
    Lists_appliances:
      value:
        value:
          - id: /subscriptions/subid/resourceGroups/rg/providers/Microsoft.Solutions/appliances/myAppliance
            kind: ServiceCatalog
            location: East US 2
            name: myAppliance
            properties:
              applianceDefinitionId: /subscriptions/subid/resourceGroups/rg/providers/Microsoft.Solutions/applianceDefinitions/myAppDef
              managedResourceGroupId: /subscriptions/subid/resourceGroups/myManagedRG
              provisioningState: Created
              uiDefinitionUri: https://path/to/applianceCreateUiDefinition.json
            resourceGroup: rg
            type: Microsoft.Solutions/appliances
          - id: /subscriptions/subid/resourceGroups/rg/providers/Microsoft.Solutions/appliances/myAppliance2
            kind: ServiceCatalog
            location: West US
            name: myAppliance2
            properties:
              applianceDefinitionId: /subscriptions/subid/resourceGroups/rg/providers/Microsoft.Solutions/applianceDefinitions/myAppDef2
              managedResourceGroupId: /subscriptions/subid/resourceGroups/myManagedRG
              provisioningState: Created
              uiDefinitionUri: https://path/to/applianceCreateUiDefinition.json
            resourceGroup: rg
            type: Microsoft.Solutions/appliances
    Get_an_appliance:
      value:
        id: /subscriptions/subid/resourceGroups/rg/providers/Microsoft.Solutions/appliances/myAppliance
        kind: ServiceCatalog
        location: East US 2
        name: myAppliance
        properties:
          applianceDefinitionId: /subscriptions/subid/resourceGroups/rg/providers/Microsoft.Solutions/applianceDefinitions/myAppDef
          managedResourceGroupId: /subscriptions/subid/resourceGroups/myManagedRG
          provisioningState: Created
          uiDefinitionUri: https://path/to/applianceCreateUiDefinition.json
        resourceGroup: rg
        type: Microsoft.Solutions/appliances
    Create_or_update_appliance:
      value:
        id: /subscriptions/subid/resourceGroups/rg/providers/Microsoft.Solutions/appliances/myAppliance
        kind: ServiceCatalog
        location: East US 2
        name: myAppliance
        properties:
          applianceDefinitionId: /subscriptions/subid/resourceGroups/rg/providers/Microsoft.Solutions/applianceDefinitions/myAppDef
          managedResourceGroupId: /subscriptions/subid/resourceGroups/myManagedRG
          provisioningState: Created
          uiDefinitionUri: https://path/to/applianceCreateUiDefinition.json
        resourceGroup: rg
        type: Microsoft.Solutions/appliances
  parameters:
    ApiVersionParameter:
      description: The API version to use for this operation.
      in: query
      name: api-version
      required: true
      schema:
        type: string
      examples:
        List appliance definitions:
          value: 2016-09-01-preview
        Get appliance definition:
          value: 2016-09-01-preview
        Create or update appliance definition:
          value: 2016-09-01-preview
        Lists appliances:
          value: 2016-09-01-preview
        Get an appliance:
          value: 2016-09-01-preview
        Create or update appliance:
          value: 2016-09-01-preview
    SubscriptionIdParameter:
      description: The ID of the target subscription.
      in: path
      name: subscriptionId
      required: true
      schema:
        type: string
      examples:
        List appliance definitions:
          value: subid
        Get appliance definition:
          value: subid
        Create or update appliance definition:
          value: subid
        Lists appliances:
          value: subid
        Get an appliance:
          value: subid
        Create or update appliance:
          value: subid
  requestBodies:
    Appliance:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Appliance"
      description: Parameters supplied to update an existing appliance.
    ApplianceDefinition:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ApplianceDefinition"
      description: Parameters supplied to the create or update an appliance definition.
      required: true
    Appliance2:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Appliance"
      description: Parameters supplied to the create or update an appliance.
      required: true
  securitySchemes:
    azure_auth:
      description: Azure Active Directory OAuth2 Flow
      type: oauth2
      flows:
        implicit:
          authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
          scopes:
            user_impersonation: impersonate your user account
  schemas:
    Appliance:
      allOf:
        - $ref: "#/components/schemas/GenericResource"
      description: Information about appliance.
      properties:
        kind:
          description: The kind of the appliance. Allowed values are MarketPlace and
            ServiceCatalog.
          pattern: ^[-\w\._,\(\)]+$
          type: string
        plan:
          $ref: "#/components/schemas/Plan"
        properties:
          $ref: "#/components/schemas/ApplianceProperties"
    ApplianceArtifact:
      description: Appliance artifact.
      properties:
        name:
          description: The appliance artifact name.
          type: string
        type:
          $ref: "#/components/schemas/ApplianceArtifactType"
        uri:
          description: The appliance artifact blob uri.
          type: string
    ApplianceArtifactType:
      description: The appliance artifact type.
      enum:
        - Template
        - Custom
      type: string
      x-ms-enum:
        modelAsString: false
        name: ApplianceArtifactType
    ApplianceDefinition:
      allOf:
        - $ref: "#/components/schemas/GenericResource"
      description: Information about appliance definition.
      properties:
        properties:
          $ref: "#/components/schemas/ApplianceDefinitionProperties"
      required:
        - properties
    ApplianceDefinitionListResult:
      description: List of appliance definitions.
      properties:
        nextLink:
          description: The URL to use for getting the next set of results.
          type: string
        value:
          description: The array of appliance definitions.
          items:
            $ref: "#/components/schemas/ApplianceDefinition"
          type: array
    ApplianceDefinitionProperties:
      description: The appliance definition properties.
      properties:
        artifacts:
          description: The collection of appliance artifacts. The portal will use the files
            specified as artifacts to construct the user experience of creating
            an appliance from an appliance definition.
          items:
            $ref: "#/components/schemas/ApplianceArtifact"
          type: array
        authorizations:
          description: The appliance provider authorizations.
          items:
            $ref: "#/components/schemas/ApplianceProviderAuthorization"
          type: array
        description:
          description: The appliance definition description.
          type: string
        displayName:
          description: The appliance definition display name.
          type: string
        lockLevel:
          $ref: "#/components/schemas/ApplianceLockLevel"
        packageFileUri:
          description: The appliance definition package file Uri.
          type: string
      required:
        - lockLevel
        - authorizations
        - packageFileUri
    ApplianceListResult:
      description: List of appliances.
      properties:
        nextLink:
          description: The URL to use for getting the next set of results.
          type: string
        value:
          description: The array of appliances.
          items:
            $ref: "#/components/schemas/Appliance"
          type: array
    ApplianceLockLevel:
      description: The appliance lock level.
      enum:
        - CanNotDelete
        - ReadOnly
        - None
      type: string
      x-ms-enum:
        modelAsString: false
        name: ApplianceLockLevel
    AppliancePatchable:
      allOf:
        - $ref: "#/components/schemas/GenericResource"
      description: Information about appliance.
      properties:
        kind:
          description: The kind of the appliance. Allowed values are MarketPlace and
            ServiceCatalog.
          pattern: ^[-\w\._,\(\)]+$
          type: string
        plan:
          $ref: "#/components/schemas/PlanPatchable"
        properties:
          $ref: "#/components/schemas/AppliancePropertiesPatchable"
    ApplianceProperties:
      description: The appliance properties.
      properties:
        applianceDefinitionId:
          description: The fully qualified path of appliance definition Id.
          type: string
        managedResourceGroupId:
          description: The managed resource group Id.
          type: string
        outputs:
          description: Name and value pairs that define the appliance outputs.
          readOnly: true
          type: object
        parameters:
          description: Name and value pairs that define the appliance parameters. It can be
            a JObject or a well formed JSON string.
          type: object
        provisioningState:
          $ref: "#/components/schemas/ProvisioningState"
        uiDefinitionUri:
          description: The blob URI where the UI definition file is located.
          type: string
      required:
        - managedResourceGroupId
    AppliancePropertiesPatchable:
      description: The appliance properties.
      properties:
        applianceDefinitionId:
          description: The fully qualified path of appliance definition Id.
          type: string
        managedResourceGroupId:
          description: The managed resource group Id.
          type: string
        outputs:
          description: Name and value pairs that define the appliance outputs.
          readOnly: true
          type: object
        parameters:
          description: Name and value pairs that define the appliance parameters. It can be
            a JObject or a well formed JSON string.
          type: object
        provisioningState:
          $ref: "#/components/schemas/ProvisioningState"
        uiDefinitionUri:
          description: The blob URI where the UI definition file is located.
          type: string
    ApplianceProviderAuthorization:
      description: The appliance provider authorization.
      properties:
        principalId:
          description: The provider's principal identifier. This is the identity that the
            provider will use to call ARM to manage the appliance resources.
          type: string
        roleDefinitionId:
          description: The provider's role definition identifier. This role will define all
            the permissions that the provider must have on the appliance's
            container resource group. This role definition cannot have
            permission to delete the resource group.
          type: string
      required:
        - principalId
        - roleDefinitionId
    ErrorResponse:
      description: Error response indicates ARM appliance is not able to process the
        incoming request. The reason is provided in the error message.
      properties:
        errorCode:
          description: Error code.
          type: string
        errorMessage:
          description: Error message indicating why the operation failed.
          type: string
        httpStatus:
          description: Http status code.
          type: string
      type: object
    GenericResource:
      allOf:
        - $ref: "#/components/schemas/Resource"
      description: Resource information.
      properties:
        identity:
          $ref: "#/components/schemas/Identity"
        managedBy:
          description: ID of the resource that manages this resource.
          type: string
        sku:
          $ref: "#/components/schemas/Sku"
    Identity:
      description: Identity for the resource.
      properties:
        principalId:
          description: The principal ID of resource identity.
          readOnly: true
          type: string
        tenantId:
          description: The tenant ID of resource.
          readOnly: true
          type: string
        type:
          description: The identity type.
          enum:
            - SystemAssigned
          type: string
          x-ms-enum:
            modelAsString: false
            name: ResourceIdentityType
    Operation:
      description: Microsoft.Solutions operation
      properties:
        display:
          description: The object that represents the operation.
          properties:
            operation:
              description: "Operation type: Read, write, delete, etc."
              type: string
            provider:
              description: "Service provider: Microsoft.Solutions"
              type: string
            resource:
              description: "Resource on which the operation is performed: Profile,
                endpoint, etc."
              type: string
        name:
          description: "Operation name: {provider}/{resource}/{operation}"
          type: string
      type: object
    OperationListResult:
      description: Result of the request to list Microsoft.Solutions operations. It
        contains a list of operations and a URL link to get the next set of
        results.
      properties:
        nextLink:
          description: URL to get the next set of operation list results if there are any.
          type: string
        value:
          description: List of Microsoft.Solutions operations.
          items:
            $ref: "#/components/schemas/Operation"
          type: array
    Plan:
      description: Plan for the appliance.
      properties:
        name:
          description: The plan name.
          type: string
        product:
          description: The product code.
          type: string
        promotionCode:
          description: The promotion code.
          type: string
        publisher:
          description: The publisher ID.
          type: string
        version:
          description: The plan's version.
          type: string
      required:
        - name
        - publisher
        - product
        - version
    PlanPatchable:
      description: Plan for the appliance.
      properties:
        name:
          description: The plan name.
          type: string
        product:
          description: The product code.
          type: string
        promotionCode:
          description: The promotion code.
          type: string
        publisher:
          description: The publisher ID.
          type: string
        version:
          description: The plan's version.
          type: string
    ProvisioningState:
      description: Provisioning status of the appliance.
      enum:
        - Accepted
        - Running
        - Ready
        - Creating
        - Created
        - Deleting
        - Deleted
        - Canceled
        - Failed
        - Succeeded
        - Updating
      readOnly: true
      type: string
      x-ms-enum:
        modelAsString: true
        name: ProvisioningState
    Resource:
      description: Resource information.
      properties:
        id:
          description: Resource ID
          readOnly: true
          type: string
        location:
          description: Resource location
          type: string
        name:
          description: Resource name
          readOnly: true
          type: string
        tags:
          additionalProperties:
            type: string
          description: Resource tags
          type: object
        type:
          description: Resource type
          readOnly: true
          type: string
      x-ms-azure-resource: true
    Sku:
      description: SKU for the resource.
      properties:
        capacity:
          description: The SKU capacity.
          format: int32
          type: integer
        family:
          description: The SKU family.
          type: string
        model:
          description: The SKU model.
          type: string
        name:
          description: The SKU name.
          type: string
        size:
          description: The SKU size.
          type: string
        tier:
          description: The SKU tier.
          type: string
      required:
        - name
