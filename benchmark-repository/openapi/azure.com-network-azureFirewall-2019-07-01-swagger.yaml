openapi: 3.0.0
info:
  description: The Microsoft Azure Network management API provides a RESTful set of web
    services that interact with Microsoft Azure Networks service to manage your
    network resources. The API has entities that capture the relationship
    between an end user and the Microsoft Azure Networks service.
  title: NetworkManagementClient
  version: 2019-07-01
  x-apisguru-categories:
    - cloud
  x-logo:
    url: https://assets.onestore.ms/cdnfiles/onestorerolling-1606-01000/shell/v3/images/logo/microsoft.png
  x-origin:
    - format: swagger
      url: https://raw.githubusercontent.com/Azure/azure-rest-api-specs/master/specification/network/resource-manager/Microsoft.Network/stable/2019-07-01/azureFirewall.json
      version: "2.0"
  x-preferred: false
  x-providerName: azure.com
  x-serviceName: network-azureFirewall
  x-tags:
    - Azure
    - Microsoft
security:
  - azure_auth:
      - user_impersonation
paths:
  "/subscriptions/{subscriptionId}/providers/Microsoft.Network/azureFirewalls":
    get:
      description: Gets all the Azure Firewalls in a subscription.
      operationId: AzureFirewalls_ListAll
      parameters:
        - description: Client API version.
          in: query
          name: api-version
          required: true
          schema:
            type: string
          examples:
            List all Azure Firewalls for a given subscription:
              value: 2019-07-01
        - description: The subscription credentials which uniquely identify the Microsoft
            Azure subscription. The subscription ID forms part of the URI for
            every service call.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
          examples:
            List all Azure Firewalls for a given subscription:
              value: subid
      responses:
        "200":
          description: Success. The operation returns a list of AzureFirewall resources.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AzureFirewallListResult"
              examples:
                List all Azure Firewalls for a given subscription:
                  $ref: "#/components/examples/List_all_Azure_Firewalls_for_a_given\
                    _subscription"
      tags:
        - AzureFirewalls
      x-ms-pageable:
        nextLinkName: nextLink
  "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/azureFirewalls":
    get:
      description: Lists all Azure Firewalls in a resource group.
      operationId: AzureFirewalls_List
      parameters:
        - description: The name of the resource group.
          in: path
          name: resourceGroupName
          required: true
          schema:
            type: string
          examples:
            List all Azure Firewalls for a given resource group:
              value: rg1
        - description: Client API version.
          in: query
          name: api-version
          required: true
          schema:
            type: string
          examples:
            List all Azure Firewalls for a given resource group:
              value: 2019-07-01
        - description: The subscription credentials which uniquely identify the Microsoft
            Azure subscription. The subscription ID forms part of the URI for
            every service call.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
          examples:
            List all Azure Firewalls for a given resource group:
              value: subid
      responses:
        "200":
          description: Success. The operation returns a list of AzureFirewall resources.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AzureFirewallListResult"
              examples:
                List all Azure Firewalls for a given resource group:
                  $ref: "#/components/examples/List_all_Azure_Firewalls_for_a_given\
                    _resource_group"
      tags:
        - AzureFirewalls
      x-ms-pageable:
        nextLinkName: nextLink
  "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Network/azureFirewalls/{azureFirewallName}":
    delete:
      description: Deletes the specified Azure Firewall.
      operationId: AzureFirewalls_Delete
      parameters:
        - description: The name of the resource group.
          in: path
          name: resourceGroupName
          required: true
          schema:
            type: string
          examples:
            Delete Azure Firewall:
              value: rg1
        - description: The name of the Azure Firewall.
          in: path
          name: azureFirewallName
          required: true
          schema:
            type: string
          examples:
            Delete Azure Firewall:
              value: azurefirewall
        - description: Client API version.
          in: query
          name: api-version
          required: true
          schema:
            type: string
          examples:
            Delete Azure Firewall:
              value: 2019-07-01
        - description: The subscription credentials which uniquely identify the Microsoft
            Azure subscription. The subscription ID forms part of the URI for
            every service call.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
          examples:
            Delete Azure Firewall:
              value: subid
      responses:
        "200":
          description: Delete successful.
        "202":
          description: Accepted and the operation will complete asynchronously.
        "204":
          description: Request successful. Resource with the specified name does not exist.
      tags:
        - AzureFirewalls
      x-ms-long-running-operation: true
      x-ms-long-running-operation-options:
        final-state-via: location
    get:
      description: Gets the specified Azure Firewall.
      operationId: AzureFirewalls_Get
      parameters:
        - description: The name of the resource group.
          in: path
          name: resourceGroupName
          required: true
          schema:
            type: string
          examples:
            Get Azure Firewall:
              value: rg1
            Get Azure Firewall With Zones:
              value: rg1
        - description: The name of the Azure Firewall.
          in: path
          name: azureFirewallName
          required: true
          schema:
            type: string
          examples:
            Get Azure Firewall:
              value: azurefirewall
            Get Azure Firewall With Zones:
              value: azurefirewall
        - description: Client API version.
          in: query
          name: api-version
          required: true
          schema:
            type: string
          examples:
            Get Azure Firewall:
              value: 2019-07-01
            Get Azure Firewall With Zones:
              value: 2019-07-01
        - description: The subscription credentials which uniquely identify the Microsoft
            Azure subscription. The subscription ID forms part of the URI for
            every service call.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
          examples:
            Get Azure Firewall:
              value: subid
            Get Azure Firewall With Zones:
              value: subid
      responses:
        "200":
          description: Request successful. The operation returns an AzureFirewall resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AzureFirewall"
              examples:
                Get Azure Firewall:
                  $ref: "#/components/examples/Get_Azure_Firewall"
                Get Azure Firewall With Zones:
                  $ref: "#/components/examples/Get_Azure_Firewall_With_Zones"
      tags:
        - AzureFirewalls
    patch:
      description: Updates tags for an Azure Firewall resource.
      operationId: AzureFirewalls_UpdateTags
      parameters:
        - description: The name of the resource group.
          in: path
          name: resourceGroupName
          required: true
          schema:
            type: string
          examples:
            Update Azure Firewall Tags:
              value: azfwtest
        - description: The name of the Azure Firewall.
          in: path
          name: azureFirewallName
          required: true
          schema:
            type: string
          examples:
            Update Azure Firewall Tags:
              value: fw1
        - description: Client API version.
          in: query
          name: api-version
          required: true
          schema:
            type: string
          examples:
            Update Azure Firewall Tags:
              value: 2019-07-01
        - description: The subscription credentials which uniquely identify the Microsoft
            Azure subscription. The subscription ID forms part of the URI for
            every service call.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
          examples:
            Update Azure Firewall Tags:
              value: subid
      requestBody:
        $ref: "#/components/requestBodies/AzureFirewall"
      responses:
        "200":
          description: Update successful. The operation returns the resulting AzureFirewall
            resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AzureFirewall"
              examples:
                Update Azure Firewall Tags:
                  $ref: "#/components/examples/Update_Azure_Firewall_Tags"
      tags:
        - AzureFirewalls
    put:
      description: Creates or updates the specified Azure Firewall.
      operationId: AzureFirewalls_CreateOrUpdate
      parameters:
        - description: The name of the resource group.
          in: path
          name: resourceGroupName
          required: true
          schema:
            type: string
          examples:
            Create Azure Firewall:
              value: rg1
            Create Azure Firewall With Zones:
              value: rg1
            Create Azure Firewall in virtual Hub:
              value: rg1
        - description: The name of the Azure Firewall.
          in: path
          name: azureFirewallName
          required: true
          schema:
            type: string
          examples:
            Create Azure Firewall:
              value: azurefirewall
            Create Azure Firewall With Zones:
              value: azurefirewall
            Create Azure Firewall in virtual Hub:
              value: azurefirewall
        - description: Client API version.
          in: query
          name: api-version
          required: true
          schema:
            type: string
          examples:
            Create Azure Firewall:
              value: 2019-07-01
            Create Azure Firewall With Zones:
              value: 2019-07-01
            Create Azure Firewall in virtual Hub:
              value: 2019-07-01
        - description: The subscription credentials which uniquely identify the Microsoft
            Azure subscription. The subscription ID forms part of the URI for
            every service call.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
          examples:
            Create Azure Firewall:
              value: subid
            Create Azure Firewall With Zones:
              value: subid
            Create Azure Firewall in virtual Hub:
              value: subid
      requestBody:
        $ref: "#/components/requestBodies/AzureFirewall"
      responses:
        "200":
          description: Update successful. The operation returns the resulting AzureFirewall
            resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AzureFirewall"
              examples:
                Create Azure Firewall:
                  $ref: "#/components/examples/Create_Azure_Firewall"
                Create Azure Firewall With Zones:
                  $ref: "#/components/examples/Create_Azure_Firewall_With_Zones"
                Create Azure Firewall in virtual Hub:
                  $ref: "#/components/examples/Create_Azure_Firewall_in_virtual_Hub"
        "201":
          description: Create successful. The operation returns the resulting AzureFirewall
            resource.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AzureFirewall"
              examples:
                Create Azure Firewall:
                  $ref: "#/components/examples/Create_Azure_Firewall"
                Create Azure Firewall With Zones:
                  $ref: "#/components/examples/Create_Azure_Firewall_With_Zones"
                Create Azure Firewall in virtual Hub:
                  $ref: "#/components/examples/Create_Azure_Firewall_in_virtual_Hub"
      tags:
        - AzureFirewalls
      x-ms-long-running-operation: true
      x-ms-long-running-operation-options:
        final-state-via: azure-async-operation
servers:
  - url: https://management.azure.com
components:
  examples:
    List_all_Azure_Firewalls_for_a_given_subscription:
      value:
        value:
          - etag: w/\00000000-0000-0000-0000-000000000000\
            id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/azureFirewalls/azurefirewall
            location: West US
            name: azurefirewall
            properties:
              applicationRuleCollections:
                - name: apprulecoll
                  properties:
                    action:
                      type: Deny
                    priority: 110
                    rules:
                      - description: Deny inbound rule
                        name: rule1
                        protocols:
                          - port: 443
                            protocolType: Https
                        sourceAddresses:
                          - 216.58.216.164
                          - 10.0.0.0/24
                        targetFqdns:
                          - www.test.com
              ipConfigurations:
                - etag: w/\00000000-0000-0000-0000-000000000000\
                  id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/azureFirewalls/azfirewallgw/ipConfigurations/azureFirewallIpConfiguration
                  name: azureFirewallIpConfiguration
                  properties:
                    privateIPAddress: 10.0.0.0
                    provisioningState: Succeeded
                    publicIPAddress:
                      id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/publicIPAddresses/pipName
                    subnet:
                      id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/virtualNetworks/vnet2/subnets/AzureFirewallSubnet
              natRuleCollections:
                - name: natrulecoll
                  properties:
                    action:
                      type: Dnat
                    priority: 112
                    rules:
                      - description: D-NAT all outbound web traffic for inspection
                        destinationAddresses:
                          - 1.2.3.4
                        destinationPorts:
                          - "443"
                        name: DNAT-HTTPS-traffic
                        protocols:
                          - TCP
                        sourceAddresses:
                          - "*"
                        translatedAddress: 1.2.3.5
                        translatedPort: "8443"
              networkRuleCollections:
                - name: netrulecoll
                  properties:
                    action:
                      type: Deny
                    priority: 112
                    rules:
                      - description: Block traffic based on source IPs and ports
                        destinationAddresses:
                          - "*"
                        destinationPorts:
                          - 443-444
                          - "8443"
                        name: L4-traffic
                        protocols:
                          - TCP
                        sourceAddresses:
                          - 192.168.1.1-192.168.1.12
                          - 10.1.4.12-10.1.4.255
              provisioningState: Succeeded
              threatIntelMode: Alert
            tags:
              key1: value1
            type: Microsoft.Network/azureFirewalls
            zones: []
    List_all_Azure_Firewalls_for_a_given_resource_group:
      value:
        value:
          - etag: w/\00000000-0000-0000-0000-000000000000\
            id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/azureFirewalls/azurefirewall
            location: West US
            name: azurefirewall
            properties:
              applicationRuleCollections:
                - name: apprulecoll
                  properties:
                    action:
                      type: Deny
                    priority: 110
                    rules:
                      - description: Deny inbound rule
                        name: rule1
                        protocols:
                          - port: 443
                            protocolType: Https
                        sourceAddresses:
                          - 216.58.216.164
                          - 10.0.0.0/24
                        targetFqdns:
                          - www.test.com
              ipConfigurations:
                - etag: w/\00000000-0000-0000-0000-000000000000\
                  id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/azureFirewalls/azfirewallgw/ipConfigurations/azureFirewallIpConfiguration
                  name: azureFirewallIpConfiguration
                  properties:
                    privateIPAddress: 10.0.0.0
                    provisioningState: Succeeded
                    publicIPAddress:
                      id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/publicIPAddresses/pipName
                    subnet:
                      id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/virtualNetworks/vnet2/subnets/AzureFirewallSubnet
              natRuleCollections:
                - name: natrulecoll
                  properties:
                    action:
                      type: Dnat
                    priority: 112
                    rules:
                      - description: D-NAT all outbound web traffic for inspection
                        destinationAddresses:
                          - 1.2.3.4
                        destinationPorts:
                          - "443"
                        name: DNAT-HTTPS-traffic
                        protocols:
                          - TCP
                        sourceAddresses:
                          - "*"
                        translatedAddress: 1.2.3.5
                        translatedPort: "8443"
              networkRuleCollections:
                - name: netrulecoll
                  properties:
                    action:
                      type: Deny
                    priority: 112
                    rules:
                      - description: Block traffic based on source IPs and ports
                        destinationAddresses:
                          - "*"
                        destinationPorts:
                          - 443-444
                          - "8443"
                        name: L4-traffic
                        protocols:
                          - TCP
                        sourceAddresses:
                          - 192.168.1.1-192.168.1.12
                          - 10.1.4.12-10.1.4.255
              provisioningState: Succeeded
              threatIntelMode: Alert
            tags:
              key1: value1
            type: Microsoft.Network/azureFirewalls
            zones: []
    Get_Azure_Firewall:
      value:
        etag: w/\00000000-0000-0000-0000-000000000000\
        id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/azureFirewalls/azurefirewall
        location: West US
        name: azurefirewall
        properties:
          applicationRuleCollections:
            - name: apprulecoll
              properties:
                action:
                  type: Deny
                priority: 110
                rules:
                  - description: Deny inbound rule
                    name: rule1
                    protocols:
                      - port: 443
                        protocolType: Https
                    sourceAddresses:
                      - 216.58.216.164
                      - 10.0.0.0/24
                    targetFqdns:
                      - www.test.com
          ipConfigurations:
            - etag: w/\00000000-0000-0000-0000-000000000000\
              id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/azureFirewalls/azurefirewallgw/ipConfigurations/azureFirewallIpConfiguration
              name: azureFirewallIpConfiguration
              properties:
                privateIPAddress: 10.0.0.0
                provisioningState: Succeeded
                publicIPAddress:
                  id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/publicIPAddresses/pipName
                subnet:
                  id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/virtualNetworks/vnet2/subnets/AzureFirewallSubnet
          natRuleCollections:
            - name: natrulecoll
              properties:
                action:
                  type: Dnat
                priority: 112
                rules:
                  - description: D-NAT all outbound web traffic for inspection
                    destinationAddresses:
                      - 1.2.3.4
                    destinationPorts:
                      - "443"
                    name: DNAT-HTTPS-traffic
                    protocols:
                      - TCP
                    sourceAddresses:
                      - "*"
                    translatedAddress: 1.2.3.5
                    translatedPort: "8443"
          networkRuleCollections:
            - name: netrulecoll
              properties:
                action:
                  type: Deny
                priority: 112
                rules:
                  - description: Block traffic based on source IPs and ports
                    destinationAddresses:
                      - "*"
                    destinationPorts:
                      - 443-444
                      - "8443"
                    name: L4-traffic
                    protocols:
                      - TCP
                    sourceAddresses:
                      - 192.168.1.1-192.168.1.12
                      - 10.1.4.12-10.1.4.255
          provisioningState: Succeeded
          threatIntelMode: Alert
        tags:
          key1: value1
        type: Microsoft.Network/azureFirewalls
        zones: []
    Get_Azure_Firewall_With_Zones:
      value:
        etag: w/\00000000-0000-0000-0000-000000000000\
        id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/azureFirewalls/azurefirewall
        location: West US 2
        name: azurefirewall
        properties:
          applicationRuleCollections:
            - name: apprulecoll
              properties:
                action:
                  type: Deny
                priority: 110
                rules:
                  - description: Deny inbound rule
                    name: rule1
                    protocols:
                      - port: 443
                        protocolType: Https
                    sourceAddresses:
                      - 216.58.216.164
                      - 10.0.0.0/24
                    targetFqdns:
                      - www.test.com
          ipConfigurations:
            - etag: w/\00000000-0000-0000-0000-000000000000\
              id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/azureFirewalls/azurefirewallgw/ipConfigurations/azureFirewallIpConfiguration
              name: azureFirewallIpConfiguration
              properties:
                privateIPAddress: 10.0.0.0
                provisioningState: Succeeded
                publicIPAddress:
                  id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/publicIPAddresses/pipName
                subnet:
                  id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/virtualNetworks/vnet2/subnets/AzureFirewallSubnet
          natRuleCollections:
            - name: natrulecoll
              properties:
                action:
                  type: Dnat
                priority: 112
                rules:
                  - description: D-NAT all outbound web traffic for inspection
                    destinationAddresses:
                      - 1.2.3.4
                    destinationPorts:
                      - "443"
                    name: DNAT-HTTPS-traffic
                    protocols:
                      - TCP
                    sourceAddresses:
                      - "*"
                    translatedAddress: 1.2.3.5
                    translatedPort: "8443"
          networkRuleCollections:
            - name: netrulecoll
              properties:
                action:
                  type: Deny
                priority: 112
                rules:
                  - description: Block traffic based on source IPs and ports
                    destinationAddresses:
                      - "*"
                    destinationPorts:
                      - 443-444
                      - "8443"
                    name: L4-traffic
                    protocols:
                      - TCP
                    sourceAddresses:
                      - 192.168.1.1-192.168.1.12
                      - 10.1.4.12-10.1.4.255
          provisioningState: Succeeded
          threatIntelMode: Alert
        tags:
          key1: value1
        type: Microsoft.Network/azureFirewalls
        zones:
          - "1"
          - "2"
          - "3"
    Update_Azure_Firewall_Tags:
      value:
        id: /subscriptions/subid/resourceGroups/azfwtest/providers/Microsoft.Network/azureFirewalls/fw1
        location: brazilsouth
        name: fw1
        properties:
          provisioningState: Succeeded
          threatIntelMode: Alert
        tags:
          tag1: value1
          tag2: value2
        type: Microsoft.Network/azureFirewalls
    Create_Azure_Firewall:
      value:
        etag: w/\00000000-0000-0000-0000-000000000000\
        id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/azureFirewalls/azurefirewall
        location: West US
        name: azurefirewall
        properties:
          applicationRuleCollections:
            - name: apprulecoll
              properties:
                action:
                  type: Deny
                priority: 110
                rules:
                  - description: Deny inbound rule
                    name: rule1
                    protocols:
                      - port: 443
                        protocolType: Https
                    sourceAddresses:
                      - 216.58.216.164
                      - 10.0.0.0/24
                    targetFqdns:
                      - www.test.com
          ipConfigurations:
            - etag: w/\00000000-0000-0000-0000-000000000000\
              id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/azureFirewalls/azfirewallgw/ipConfigurations/azureFirewallIpConfiguration
              name: azureFirewallIpConfiguration
              properties:
                privateIPAddress: 10.0.0.0
                provisioningState: Succeeded
                publicIPAddress:
                  id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/publicIPAddresses/pipName
                subnet:
                  id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/virtualNetworks/vnet2/subnets/AzureFirewallSubnet
          natRuleCollections:
            - name: natrulecoll
              properties:
                action:
                  type: Dnat
                priority: 112
                rules:
                  - description: D-NAT all outbound web traffic for inspection
                    destinationAddresses:
                      - 1.2.3.4
                    destinationPorts:
                      - "443"
                    name: DNAT-HTTPS-traffic
                    protocols:
                      - TCP
                    sourceAddresses:
                      - "*"
                    translatedAddress: 1.2.3.5
                    translatedPort: "8443"
          networkRuleCollections:
            - name: netrulecoll
              properties:
                action:
                  type: Deny
                priority: 112
                rules:
                  - description: Block traffic based on source IPs and ports
                    destinationAddresses:
                      - "*"
                    destinationPorts:
                      - 443-444
                      - "8443"
                    name: L4-traffic
                    protocols:
                      - TCP
                    sourceAddresses:
                      - 192.168.1.1-192.168.1.12
                      - 10.1.4.12-10.1.4.255
          provisioningState: Succeeded
          threatIntelMode: Alert
        tags:
          key1: value1
        type: Microsoft.Network/azureFirewalls
        zones: []
    Create_Azure_Firewall_With_Zones:
      value:
        etag: w/\00000000-0000-0000-0000-000000000000\
        id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/azureFirewalls/azurefirewall
        location: West US 2
        name: azurefirewall
        properties:
          applicationRuleCollections:
            - name: apprulecoll
              properties:
                action:
                  type: Deny
                priority: 110
                rules:
                  - description: Deny inbound rule
                    name: rule1
                    protocols:
                      - port: 443
                        protocolType: Https
                    sourceAddresses:
                      - 216.58.216.164
                      - 10.0.0.0/24
                    targetFqdns:
                      - www.test.com
          ipConfigurations:
            - etag: w/\00000000-0000-0000-0000-000000000000\
              id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/azureFirewalls/azfirewallgw/ipConfigurations/azureFirewallIpConfiguration
              name: azureFirewallIpConfiguration
              properties:
                privateIPAddress: 10.0.0.0
                provisioningState: Succeeded
                publicIPAddress:
                  id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/publicIPAddresses/pipName
                subnet:
                  id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/virtualNetworks/vnet2/subnets/AzureFirewallSubnet
          natRuleCollections:
            - name: natrulecoll
              properties:
                action:
                  type: Dnat
                priority: 112
                rules:
                  - description: D-NAT all outbound web traffic for inspection
                    destinationAddresses:
                      - 1.2.3.4
                    destinationPorts:
                      - "443"
                    name: DNAT-HTTPS-traffic
                    protocols:
                      - TCP
                    sourceAddresses:
                      - "*"
                    translatedAddress: 1.2.3.5
                    translatedPort: "8443"
          networkRuleCollections:
            - name: netrulecoll
              properties:
                action:
                  type: Deny
                priority: 112
                rules:
                  - description: Block traffic based on source IPs and ports
                    destinationAddresses:
                      - "*"
                    destinationPorts:
                      - 443-444
                      - "8443"
                    name: L4-traffic
                    protocols:
                      - TCP
                    sourceAddresses:
                      - 192.168.1.1-192.168.1.12
                      - 10.1.4.12-10.1.4.255
          provisioningState: Succeeded
          threatIntelMode: Alert
        tags:
          key1: value1
        type: Microsoft.Network/azureFirewalls
        zones:
          - "1"
          - "2"
          - "3"
    Create_Azure_Firewall_in_virtual_Hub:
      value:
        etag: w/\00000000-0000-0000-0000-000000000000\
        id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/azureFirewalls/azurefirewall
        location: West US
        name: azurefirewall
        properties:
          firewallPolicy:
            id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/firewallPolicies/policy1
          hubIpAddresses:
            privateIPAddress: 10.0.0.0
            publicIPAddresses:
              - address: 13.73.240.12
          provisioningState: Succeeded
          threatIntelMode: Alert
          virtualHub:
            id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.Network/virtualHubs/hub1
        tags:
          key1: value1
        type: Microsoft.Network/azureFirewalls
        zones: []
  requestBodies:
    AzureFirewall:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/AzureFirewall"
      description: Parameters supplied to the create or update Azure Firewall operation.
      required: true
  securitySchemes:
    azure_auth:
      description: Azure Active Directory OAuth2 Flow.
      type: oauth2
      flows:
        implicit:
          authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
          scopes:
            user_impersonation: impersonate your user account
  schemas:
    AzureFirewall:
      allOf:
        - description: Common resource representation.
          properties:
            id:
              description: Resource ID.
              type: string
            location:
              description: Resource location.
              type: string
            name:
              description: Resource name.
              readOnly: true
              type: string
            tags:
              additionalProperties:
                type: string
              description: Resource tags.
              type: object
            type:
              description: Resource type.
              readOnly: true
              type: string
          x-ms-azure-resource: true
      description: Azure Firewall resource.
      properties:
        etag:
          description: A unique read-only string that changes whenever the resource is
            updated.
          readOnly: true
          type: string
        properties:
          $ref: "#/components/schemas/AzureFirewallPropertiesFormat"
        zones:
          description: A list of availability zones denoting where the resource needs to
            come from.
          items:
            type: string
          type: array
    AzureFirewallApplicationRule:
      description: Properties of an application rule.
      properties:
        description:
          description: Description of the rule.
          type: string
        fqdnTags:
          description: List of FQDN Tags for this rule.
          items:
            type: string
          type: array
        name:
          description: Name of the application rule.
          type: string
        protocols:
          description: Array of ApplicationRuleProtocols.
          items:
            $ref: "#/components/schemas/AzureFirewallApplicationRuleProtocol"
          type: array
        sourceAddresses:
          description: List of source IP addresses for this rule.
          items:
            type: string
          type: array
        targetFqdns:
          description: List of FQDNs for this rule.
          items:
            type: string
          type: array
    AzureFirewallApplicationRuleCollection:
      allOf:
        - description: Reference to another subresource.
          properties:
            id:
              description: Resource ID.
              type: string
          x-ms-azure-resource: true
      description: Application rule collection resource.
      properties:
        etag:
          description: A unique read-only string that changes whenever the resource is
            updated.
          readOnly: true
          type: string
        name:
          description: The name of the resource that is unique within the Azure firewall.
            This name can be used to access the resource.
          type: string
        properties:
          $ref: "#/components/schemas/AzureFirewallApplicationRuleCollectionPropert\
            iesFormat"
    AzureFirewallApplicationRuleCollectionPropertiesFormat:
      description: Properties of the application rule collection.
      properties:
        action:
          $ref: "#/components/schemas/AzureFirewallRCAction"
        priority:
          description: Priority of the application rule collection resource.
          exclusiveMaximum: false
          exclusiveMinimum: false
          format: int32
          maximum: 65000
          minimum: 100
          type: integer
        provisioningState:
          description: The current provisioning state.
          enum:
            - Succeeded
            - Updating
            - Deleting
            - Failed
          readOnly: true
          type: string
          x-ms-enum:
            modelAsString: true
            name: ProvisioningState
        rules:
          description: Collection of rules used by a application rule collection.
          items:
            $ref: "#/components/schemas/AzureFirewallApplicationRule"
          type: array
    AzureFirewallApplicationRuleProtocol:
      description: Properties of the application rule protocol.
      properties:
        port:
          description: Port number for the protocol, cannot be greater than 64000. This
            field is optional.
          exclusiveMaximum: false
          exclusiveMinimum: false
          format: int32
          maximum: 64000
          minimum: 0
          type: integer
        protocolType:
          $ref: "#/components/schemas/AzureFirewallApplicationRuleProtocolType"
    AzureFirewallApplicationRuleProtocolType:
      description: The protocol type of a Application Rule resource.
      enum:
        - Http
        - Https
        - Mssql
      type: string
      x-ms-enum:
        modelAsString: true
        name: AzureFirewallApplicationRuleProtocolType
    AzureFirewallIPConfiguration:
      allOf:
        - description: Reference to another subresource.
          properties:
            id:
              description: Resource ID.
              type: string
          x-ms-azure-resource: true
      description: IP configuration of an Azure Firewall.
      properties:
        etag:
          description: A unique read-only string that changes whenever the resource is
            updated.
          readOnly: true
          type: string
        name:
          description: Name of the resource that is unique within a resource group. This
            name can be used to access the resource.
          type: string
        properties:
          $ref: "#/components/schemas/AzureFirewallIPConfigurationPropertiesFormat"
    AzureFirewallIPConfigurationPropertiesFormat:
      description: Properties of IP configuration of an Azure Firewall.
      properties:
        privateIPAddress:
          description: The Firewall Internal Load Balancer IP to be used as the next hop in
            User Defined Routes.
          readOnly: true
          type: string
        provisioningState:
          description: The current provisioning state.
          enum:
            - Succeeded
            - Updating
            - Deleting
            - Failed
          readOnly: true
          type: string
          x-ms-enum:
            modelAsString: true
            name: ProvisioningState
        publicIPAddress:
          description: Reference to another subresource.
          properties:
            id:
              description: Resource ID.
              type: string
          x-ms-azure-resource: true
        subnet:
          description: Reference to another subresource.
          properties:
            id:
              description: Resource ID.
              type: string
          x-ms-azure-resource: true
    AzureFirewallListResult:
      description: Response for ListAzureFirewalls API service call.
      properties:
        nextLink:
          description: URL to get the next set of results.
          type: string
        value:
          description: List of Azure Firewalls in a resource group.
          items:
            $ref: "#/components/schemas/AzureFirewall"
          type: array
    AzureFirewallNatRCAction:
      description: AzureFirewall NAT Rule Collection Action.
      properties:
        type:
          $ref: "#/components/schemas/AzureFirewallNatRCActionType"
    AzureFirewallNatRCActionType:
      description: The action type of a NAT rule collection.
      enum:
        - Snat
        - Dnat
      type: string
      x-ms-enum:
        modelAsString: true
        name: AzureFirewallNatRCActionType
    AzureFirewallNatRule:
      description: Properties of a NAT rule.
      properties:
        description:
          description: Description of the rule.
          type: string
        destinationAddresses:
          description: List of destination IP addresses for this rule. Supports IP ranges,
            prefixes, and service tags.
          items:
            type: string
          type: array
        destinationPorts:
          description: List of destination ports.
          items:
            type: string
          type: array
        name:
          description: Name of the NAT rule.
          type: string
        protocols:
          description: Array of AzureFirewallNetworkRuleProtocols applicable to this NAT
            rule.
          items:
            $ref: "#/components/schemas/AzureFirewallNetworkRuleProtocol"
          type: array
        sourceAddresses:
          description: List of source IP addresses for this rule.
          items:
            type: string
          type: array
        translatedAddress:
          description: The translated address for this NAT rule.
          type: string
        translatedPort:
          description: The translated port for this NAT rule.
          type: string
    AzureFirewallNatRuleCollection:
      allOf:
        - description: Reference to another subresource.
          properties:
            id:
              description: Resource ID.
              type: string
          x-ms-azure-resource: true
      description: NAT rule collection resource.
      properties:
        etag:
          description: A unique read-only string that changes whenever the resource is
            updated.
          readOnly: true
          type: string
        name:
          description: The name of the resource that is unique within the Azure firewall.
            This name can be used to access the resource.
          type: string
        properties:
          $ref: "#/components/schemas/AzureFirewallNatRuleCollectionProperties"
    AzureFirewallNatRuleCollectionProperties:
      description: Properties of the NAT rule collection.
      properties:
        action:
          $ref: "#/components/schemas/AzureFirewallNatRCAction"
        priority:
          description: Priority of the NAT rule collection resource.
          exclusiveMaximum: false
          exclusiveMinimum: false
          format: int32
          maximum: 65000
          minimum: 100
          type: integer
        provisioningState:
          description: The current provisioning state.
          enum:
            - Succeeded
            - Updating
            - Deleting
            - Failed
          readOnly: true
          type: string
          x-ms-enum:
            modelAsString: true
            name: ProvisioningState
        rules:
          description: Collection of rules used by a NAT rule collection.
          items:
            $ref: "#/components/schemas/AzureFirewallNatRule"
          type: array
    AzureFirewallNetworkRule:
      description: Properties of the network rule.
      properties:
        description:
          description: Description of the rule.
          type: string
        destinationAddresses:
          description: List of destination IP addresses.
          items:
            type: string
          type: array
        destinationPorts:
          description: List of destination ports.
          items:
            type: string
          type: array
        name:
          description: Name of the network rule.
          type: string
        protocols:
          description: Array of AzureFirewallNetworkRuleProtocols.
          items:
            $ref: "#/components/schemas/AzureFirewallNetworkRuleProtocol"
          type: array
        sourceAddresses:
          description: List of source IP addresses for this rule.
          items:
            type: string
          type: array
    AzureFirewallNetworkRuleCollection:
      allOf:
        - description: Reference to another subresource.
          properties:
            id:
              description: Resource ID.
              type: string
          x-ms-azure-resource: true
      description: Network rule collection resource.
      properties:
        etag:
          description: A unique read-only string that changes whenever the resource is
            updated.
          readOnly: true
          type: string
        name:
          description: The name of the resource that is unique within the Azure firewall.
            This name can be used to access the resource.
          type: string
        properties:
          $ref: "#/components/schemas/AzureFirewallNetworkRuleCollectionPropertiesF\
            ormat"
    AzureFirewallNetworkRuleCollectionPropertiesFormat:
      description: Properties of the network rule collection.
      properties:
        action:
          $ref: "#/components/schemas/AzureFirewallRCAction"
        priority:
          description: Priority of the network rule collection resource.
          exclusiveMaximum: false
          exclusiveMinimum: false
          format: int32
          maximum: 65000
          minimum: 100
          type: integer
        provisioningState:
          description: The current provisioning state.
          enum:
            - Succeeded
            - Updating
            - Deleting
            - Failed
          readOnly: true
          type: string
          x-ms-enum:
            modelAsString: true
            name: ProvisioningState
        rules:
          description: Collection of rules used by a network rule collection.
          items:
            $ref: "#/components/schemas/AzureFirewallNetworkRule"
          type: array
    AzureFirewallNetworkRuleProtocol:
      description: The protocol of a Network Rule resource.
      enum:
        - TCP
        - UDP
        - Any
        - ICMP
      type: string
      x-ms-enum:
        modelAsString: true
        name: AzureFirewallNetworkRuleProtocol
    AzureFirewallPropertiesFormat:
      description: Properties of the Azure Firewall.
      properties:
        applicationRuleCollections:
          description: Collection of application rule collections used by Azure Firewall.
          items:
            $ref: "#/components/schemas/AzureFirewallApplicationRuleCollection"
          type: array
        firewallPolicy:
          description: Reference to another subresource.
          properties:
            id:
              description: Resource ID.
              type: string
          x-ms-azure-resource: true
        hubIpAddresses:
          $ref: "#/components/schemas/HubIPAddresses"
        ipConfigurations:
          description: IP configuration of the Azure Firewall resource.
          items:
            $ref: "#/components/schemas/AzureFirewallIPConfiguration"
          type: array
        natRuleCollections:
          description: Collection of NAT rule collections used by Azure Firewall.
          items:
            $ref: "#/components/schemas/AzureFirewallNatRuleCollection"
          type: array
        networkRuleCollections:
          description: Collection of network rule collections used by Azure Firewall.
          items:
            $ref: "#/components/schemas/AzureFirewallNetworkRuleCollection"
          type: array
        provisioningState:
          description: The current provisioning state.
          enum:
            - Succeeded
            - Updating
            - Deleting
            - Failed
          readOnly: true
          type: string
          x-ms-enum:
            modelAsString: true
            name: ProvisioningState
        threatIntelMode:
          $ref: "#/components/schemas/AzureFirewallThreatIntelMode"
        virtualHub:
          description: Reference to another subresource.
          properties:
            id:
              description: Resource ID.
              type: string
          x-ms-azure-resource: true
    AzureFirewallPublicIPAddress:
      description: Public IP Address associated with azure firewall.
      properties:
        address:
          description: Public IP Address value.
          type: string
    AzureFirewallRCAction:
      description: Properties of the AzureFirewallRCAction.
      properties:
        type:
          $ref: "#/components/schemas/AzureFirewallRCActionType"
    AzureFirewallRCActionType:
      description: The action type of a rule collection.
      enum:
        - Allow
        - Deny
      type: string
      x-ms-enum:
        modelAsString: true
        name: AzureFirewallRCActionType
    AzureFirewallThreatIntelMode:
      description: The operation mode for Threat Intel.
      enum:
        - Alert
        - Deny
        - Off
      type: string
      x-ms-enum:
        modelAsString: true
        name: AzureFirewallThreatIntelMode
    HubIPAddresses:
      description: IP addresses associated with azure firewall.
      properties:
        privateIPAddress:
          description: Private IP Address associated with azure firewall.
          type: string
        publicIPAddresses:
          description: List of Public IP addresses associated with azure firewall.
          items:
            $ref: "#/components/schemas/AzureFirewallPublicIPAddress"
          type: array
