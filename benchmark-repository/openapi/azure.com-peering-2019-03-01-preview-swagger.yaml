openapi: 3.0.0
info:
  description: APIs to manage Peering resources through the Azure Resource Manager.
  title: PeeringManagementClient
  version: 2019-03-01-preview
  x-apisguru-categories:
    - cloud
  x-logo:
    url: https://assets.onestore.ms/cdnfiles/onestorerolling-1606-01000/shell/v3/images/logo/microsoft.png
  x-origin:
    - format: swagger
      url: https://raw.githubusercontent.com/Azure/azure-rest-api-specs/master/specification/peering/resource-manager/Microsoft.Peering/preview/2019-03-01-preview/peering.json
      version: "2.0"
  x-preferred: false
  x-providerName: azure.com
  x-serviceName: peering
  x-tags:
    - Azure
    - Microsoft
security:
  - azure_auth:
      - user_impersonation
paths:
  /providers/Microsoft.Peering/operations:
    get:
      description: Lists all of the available API operations for peering resources.
      operationId: Operations_List
      parameters:
        - $ref: "#/components/parameters/ApiVersionParameter"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OperationListResult"
              examples:
                List peering operations:
                  $ref: "#/components/examples/List_peering_operations"
        default:
          description: Error response describing why the operation has failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Operations
      x-ms-pageable:
        nextLinkName: nextLink
  "/subscriptions/{subscriptionId}/providers/Microsoft.Peering/legacyPeerings":
    get:
      description: Lists all of the legacy peerings under the given subscription matching
        the specified kind and location.
      operationId: LegacyPeerings_List
      parameters:
        - description: The location of the peering.
          in: query
          name: peeringLocation
          required: true
          schema:
            type: string
          examples:
            List legacy peerings:
              value: peeringLocation0
        - description: The kind of the peering.
          in: query
          name: kind
          required: true
          schema:
            type: string
            enum:
              - Direct
              - Exchange
          examples:
            List legacy peerings:
              value: Exchange
        - $ref: "#/components/parameters/SubscriptionIdParameter"
        - $ref: "#/components/parameters/ApiVersionParameter"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PeeringListResult"
              examples:
                List legacy peerings:
                  $ref: "#/components/examples/List_legacy_peerings"
        default:
          description: Error response describing why the operation has failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - LegacyPeerings
      x-ms-pageable:
        nextLinkName: nextLink
  "/subscriptions/{subscriptionId}/providers/Microsoft.Peering/peerAsns":
    get:
      description: Lists all of the peer ASNs under the given subscription.
      operationId: PeerAsns_ListBySubscription
      parameters:
        - $ref: "#/components/parameters/SubscriptionIdParameter"
        - $ref: "#/components/parameters/ApiVersionParameter"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PeerAsnListResult"
              examples:
                List peer ASNs in a subscription:
                  $ref: "#/components/examples/List_peer_ASNs_in_a_subscription"
        default:
          description: Error response describing why the operation has failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - PeerAsns
      x-ms-pageable:
        nextLinkName: nextLink
  "/subscriptions/{subscriptionId}/providers/Microsoft.Peering/peerAsns/{peerAsnName}":
    delete:
      description: Deletes an existing peer ASN with the specified name under the given
        subscription.
      operationId: PeerAsns_Delete
      parameters:
        - description: The peer ASN name.
          in: path
          name: peerAsnName
          required: true
          schema:
            type: string
          examples:
            Delete a peer ASN:
              value: peerAsnName
        - $ref: "#/components/parameters/SubscriptionIdParameter"
        - $ref: "#/components/parameters/ApiVersionParameter"
      responses:
        "200":
          description: OK
        "204":
          description: No Content
        default:
          description: Error response describing why the operation has failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - PeerAsns
    get:
      description: Gets the peer ASN with the specified name under the given subscription.
      operationId: PeerAsns_Get
      parameters:
        - description: The peer ASN name.
          in: path
          name: peerAsnName
          required: true
          schema:
            type: string
          examples:
            Get a peer ASN:
              value: peerAsnName
        - $ref: "#/components/parameters/SubscriptionIdParameter"
        - $ref: "#/components/parameters/ApiVersionParameter"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PeerAsn"
              examples:
                Get a peer ASN:
                  $ref: "#/components/examples/Get_a_peer_ASN"
        default:
          description: Error response describing why the operation has failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - PeerAsns
    put:
      description: Creates a new peer ASN or updates an existing peer ASN with the
        specified name under the given subscription.
      operationId: PeerAsns_CreateOrUpdate
      parameters:
        - description: The peer ASN name.
          in: path
          name: peerAsnName
          required: true
          schema:
            type: string
          examples:
            Create a peer ASN:
              value: peerAsnName
        - $ref: "#/components/parameters/SubscriptionIdParameter"
        - $ref: "#/components/parameters/ApiVersionParameter"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PeerAsn"
        description: The peer ASN.
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PeerAsn"
              examples:
                Create a peer ASN:
                  $ref: "#/components/examples/Create_a_peer_ASN"
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PeerAsn"
              examples:
                Create a peer ASN:
                  $ref: "#/components/examples/Create_a_peer_ASN"
        default:
          description: Error response describing why the operation has failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - PeerAsns
  "/subscriptions/{subscriptionId}/providers/Microsoft.Peering/peeringLocations":
    get:
      description: Lists all of the available peering locations for the specified kind of
        peering.
      operationId: PeeringLocations_List
      parameters:
        - description: The kind of the peering.
          in: query
          name: kind
          required: true
          schema:
            type: string
            enum:
              - Direct
              - Exchange
          examples:
            List direct peering locations:
              value: Direct
            List exchange peering locations:
              value: Exchange
        - $ref: "#/components/parameters/SubscriptionIdParameter"
        - $ref: "#/components/parameters/ApiVersionParameter"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PeeringLocationListResult"
              examples:
                List direct peering locations:
                  $ref: "#/components/examples/List_direct_peering_locations"
                List exchange peering locations:
                  $ref: "#/components/examples/List_exchange_peering_locations"
        default:
          description: Error response describing why the operation has failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - PeeringLocations
      x-ms-pageable:
        nextLinkName: nextLink
  "/subscriptions/{subscriptionId}/providers/Microsoft.Peering/peerings":
    get:
      description: Lists all of the peerings under the given subscription.
      operationId: Peerings_ListBySubscription
      parameters:
        - $ref: "#/components/parameters/SubscriptionIdParameter"
        - $ref: "#/components/parameters/ApiVersionParameter"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PeeringListResult"
              examples:
                List peerings in a subscription:
                  $ref: "#/components/examples/List_peerings_in_a_subscription"
        default:
          description: Error response describing why the operation has failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Peerings
      x-ms-pageable:
        nextLinkName: nextLink
  "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Peering/peerings":
    get:
      description: Lists all of the peerings under the given subscription and resource
        group.
      operationId: Peerings_ListByResourceGroup
      parameters:
        - description: The name of the resource group.
          in: path
          name: resourceGroupName
          required: true
          schema:
            type: string
          examples:
            List peerings in a resource group:
              value: rgName
        - $ref: "#/components/parameters/SubscriptionIdParameter"
        - $ref: "#/components/parameters/ApiVersionParameter"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PeeringListResult"
              examples:
                List peerings in a resource group:
                  $ref: "#/components/examples/List_peerings_in_a_resource_group"
        default:
          description: Error response describing why the operation has failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Peerings
      x-ms-pageable:
        nextLinkName: nextLink
  "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Peering/peerings/{peeringName}":
    delete:
      description: Deletes an existing peering with the specified name under the given
        subscription and resource group.
      operationId: Peerings_Delete
      parameters:
        - description: The name of the resource group.
          in: path
          name: resourceGroupName
          required: true
          schema:
            type: string
          examples:
            Delete a peering:
              value: rgName
        - description: The name of the peering.
          in: path
          name: peeringName
          required: true
          schema:
            type: string
          examples:
            Delete a peering:
              value: peeringName
        - $ref: "#/components/parameters/SubscriptionIdParameter"
        - $ref: "#/components/parameters/ApiVersionParameter"
      responses:
        "200":
          description: OK
        "204":
          description: NoContent
        default:
          description: Error response describing why the operation has failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Peerings
    get:
      description: Gets an existing peering with the specified name under the given
        subscription and resource group.
      operationId: Peerings_Get
      parameters:
        - description: The name of the resource group.
          in: path
          name: resourceGroupName
          required: true
          schema:
            type: string
          examples:
            Get a peering:
              value: rgName
        - description: The name of the peering.
          in: path
          name: peeringName
          required: true
          schema:
            type: string
          examples:
            Get a peering:
              value: peeringName
        - $ref: "#/components/parameters/SubscriptionIdParameter"
        - $ref: "#/components/parameters/ApiVersionParameter"
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Peering"
              examples:
                Get a peering:
                  $ref: "#/components/examples/Get_a_peering"
        default:
          description: Error response describing why the operation has failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Peerings
    patch:
      description: Updates tags for a peering with the specified name under the given
        subscription and resource group.
      operationId: Peerings_Update
      parameters:
        - description: The name of the resource group.
          in: path
          name: resourceGroupName
          required: true
          schema:
            type: string
          examples:
            Update peering tags:
              value: rgName
        - description: The name of the peering.
          in: path
          name: peeringName
          required: true
          schema:
            type: string
          examples:
            Update peering tags:
              value: peeringName
        - $ref: "#/components/parameters/SubscriptionIdParameter"
        - $ref: "#/components/parameters/ApiVersionParameter"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ResourceTags"
        description: The resource tags.
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Peering"
              examples:
                Update peering tags:
                  $ref: "#/components/examples/Update_peering_tags"
        default:
          description: Error response describing why the operation has failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Peerings
    put:
      description: Creates a new peering or updates an existing peering with the specified
        name under the given subscription and resource group.
      operationId: Peerings_CreateOrUpdate
      parameters:
        - description: The name of the resource group.
          in: path
          name: resourceGroupName
          required: true
          schema:
            type: string
          examples:
            Create a direct peering:
              value: rgName
            Create an exchange peering:
              value: rgName
        - description: The name of the peering.
          in: path
          name: peeringName
          required: true
          schema:
            type: string
          examples:
            Create a direct peering:
              value: peeringName
            Create an exchange peering:
              value: peeringName
        - $ref: "#/components/parameters/SubscriptionIdParameter"
        - $ref: "#/components/parameters/ApiVersionParameter"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Peering"
        description: The properties needed to create or update a peering.
        required: true
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Peering"
              examples:
                Create a direct peering:
                  $ref: "#/components/examples/Create_a_direct_peering"
                Create an exchange peering:
                  $ref: "#/components/examples/Create_an_exchange_peering"
        "201":
          description: Created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Peering"
              examples:
                Create a direct peering:
                  $ref: "#/components/examples/Create_a_direct_peering"
                Create an exchange peering:
                  $ref: "#/components/examples/Create_an_exchange_peering"
        default:
          description: Error response describing why the operation has failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Peerings
servers:
  - url: https://management.azure.com
components:
  examples:
    List_peering_operations:
      value:
        value:
          - display:
              description: Registers the subscription for the Peering Resource Provider and
                enables the creation of peerings
              operation: Registers the Peering Resource Provider
              provider: Microsoft.Peering
              resource: Peering Resource Provider
            isDataAction: false
            name: Microsoft.Peering/register/action
          - display:
              description: Read any peeringLocations
              operation: Read PeeringLocation
              provider: Microsoft.Peering
              resource: peeringLocations
            isDataAction: false
            name: Microsoft.Peering/peeringLocations/read
          - display:
              description: Read any peeringPartners
              operation: Read PeeringPartner
              provider: Microsoft.Peering
              resource: peerings
            isDataAction: false
            name: Microsoft.Peering/peeringPartners/read
          - display:
              description: Read any peerings
              operation: Read Peering
              provider: Microsoft.Peering
              resource: peerings
            isDataAction: false
            name: Microsoft.Peering/peerings/read
          - display:
              description: Write any peerings
              operation: Write Peering
              provider: Microsoft.Peering
              resource: peerings
            isDataAction: false
            name: Microsoft.Peering/peerings/write
    List_legacy_peerings:
      value:
        id: /subscriptions/subId/providers/Microsoft.Peering/peerings/peeringName
        kind: Exchange
        name: peeringName
        properties:
          exchange:
            connections:
              - bgpSession:
                  maxPrefixesAdvertisedV4: 1000
                  maxPrefixesAdvertisedV6: 100
                  md5AuthenticationKey: test-md5-auth-key
                  microsoftSessionIPv4Address: 192.168.3.1
                  microsoftSessionIPv6Address: fd00::1:1
                  peerSessionIPv4Address: 192.168.2.1
                  peerSessionIPv6Address: fd00::1
                  sessionStateV4: Established
                  sessionStateV6: Established
                connectionState: Active
                peeringDBFacilityId: 99999
              - bgpSession:
                  maxPrefixesAdvertisedV4: 1000
                  maxPrefixesAdvertisedV6: 100
                  md5AuthenticationKey: test-md5-auth-key
                  microsoftSessionIPv4Address: 192.168.3.2
                  microsoftSessionIPv6Address: fd00::1:2
                  peerSessionIPv4Address: 192.168.2.2
                  peerSessionIPv6Address: fd00::2
                  sessionStateV4: Established
                  sessionStateV6: Established
                connectionState: Active
                peeringDBFacilityId: 99999
            peerAsn:
              id: /subscriptions/subId/providers/Microsoft.Peering/peerAsns/myAsn1
          peeringLocation: peeringLocation0
          provisioningState: Succeeded
        sku:
          family: Exchange
          name: Basic_Exchange_Free
          size: Free
          tier: Basic
        type: Microsoft.Peering/peerings
    List_peer_ASNs_in_a_subscription:
      value:
        value:
          - id: /subscriptions/subId/providers/Microsoft.Peering/peerAsns/peerAsnName
            name: peerAsnName
            properties:
              peerAsn: 65000
              peerContactInfo:
                emails:
                  - abc@contoso.com
                  - xyz@contoso.com
                phone:
                  - +1 (234) 567-8900
              peerName: Contoso
              validationState: Approved
            type: Microsoft.Peering/peerAsns
    Get_a_peer_ASN:
      value:
        id: /subscriptions/subId/providers/Microsoft.Peering/peerAsns/peerAsnName
        name: peerAsnName
        properties:
          peerAsn: 65000
          peerContactInfo:
            emails:
              - abc@contoso.com
              - xyz@contoso.com
            phone:
              - +1 (234) 567-8900
          peerName: Contoso
          validationState: Approved
        type: Microsoft.Peering/peerAsns
    Create_a_peer_ASN:
      value:
        id: /subscriptions/subId/providers/Microsoft.Peering/peerAsns/peerAsnName
        name: peerAsnName
        properties:
          peerAsn: 65000
          peerContactInfo:
            emails:
              - abc@contoso.com
              - xyz@contoso.com
            phone:
              - +1 (234) 567-8900
          peerName: Contoso
          validationState: Pending
        type: Microsoft.Peering/peerAsns
    List_direct_peering_locations:
      value:
        value:
          - id: /subscriptions/subId/providers/Microsoft.Peering/peeringLocations/peeringLocation1
            kind: Direct
            name: peeringLocation1
            properties:
              country: country1
              direct:
                bandwidthOffers:
                  - offerName: 10Gbps
                    valueInMbps: 10000
                  - offerName: 100Gbps
                    valueInMbps: 100000
                peeringFacilities:
                  - address: address1
                    peeringDBFacilityId: 99999
                    peeringDBFacilityLink: https://www.peeringdb.com/fac/99999
                  - address: address3
                    peeringDBFacilityId: 99999
                    peeringDBFacilityLink: https://www.peeringdb.com/fac/99999
              peeringLocation: peeringLocation1
            type: Microsoft.Peering/peeringLocations
          - id: /subscriptions/subId/providers/Microsoft.Peering/peeringLocations/peeringLocation2
            kind: Direct
            name: peeringLocation2
            properties:
              country: country2
              direct:
                bandwidthOffers:
                  - offerName: 10Gbps
                    valueInMbps: 10000
                  - offerName: 100Gbps
                    valueInMbps: 100000
                peeringFacilities:
                  - address: address2
                    peeringDBFacilityId: 99999
                    peeringDBFacilityLink: https://www.peeringdb.com/fac/99999
              peeringLocation: peeringLocation2
            type: Microsoft.Peering/peeringLocations
    List_exchange_peering_locations:
      value:
        value:
          - id: /subscriptions/subId/providers/Microsoft.Peering/peeringLocations/peeringLocation1
            kind: Exchange
            name: peeringLocation1
            properties:
              country: country1
              exchange:
                peeringFacilities:
                  - bandwidthInMbps: 10000
                    exchangeName: name1
                    facilityIPv4Prefix: 192.168.128.0/17
                    facilityIPv6Prefix: fd00::1000:0/98
                    microsoftIPv4Address: 192.168.131.1
                    microsoftIPv6Address: fd00::1:1
                    peeringDBFacilityId: 99999
                    peeringDBFacilityLink: https://www.peeringdb.com/ix/99999
                  - bandwidthInMbps: 10000
                    exchangeName: name3
                    facilityIPv4Prefix: 192.168.0.0/17
                    facilityIPv6Prefix: fd00::0/98
                    microsoftIPv4Address: 192.168.2.2
                    microsoftIPv6Address: fd00::2
                    peeringDBFacilityId: 99999
                    peeringDBFacilityLink: https://www.peeringdb.com/ix/99999
              peeringLocation: peeringLocation1
            type: Microsoft.Peering/peeringLocations
          - id: /subscriptions/subId/providers/Microsoft.Peering/peeringLocations/peeringLocation2
            kind: Exchange
            name: peeringLocation2
            properties:
              country: country2
              exchange:
                peeringFacilities:
                  - bandwidthInMbps: 10000
                    exchangeName: name2
                    facilityIPv4Prefix: 192.168.0.0/16
                    facilityIPv6Prefix: fd00::0/98
                    microsoftIPv4Address: 192.168.2.1
                    microsoftIPv6Address: fd00::2
                    peeringDBFacilityId: 99999
                    peeringDBFacilityLink: https://www.peeringdb.com/ix/99999
              peeringLocation: peeringLocation2
            type: Microsoft.Peering/peeringLocations
    List_peerings_in_a_subscription:
      value:
        id: /subscriptions/subId/resourceGroups/rgName/providers/Microsoft.Peering/peerings/peeringName
        kind: Exchange
        location: eastus
        name: peeringName
        properties:
          exchange:
            connections:
              - bgpSession:
                  maxPrefixesAdvertisedV4: 1000
                  maxPrefixesAdvertisedV6: 100
                  md5AuthenticationKey: test-md5-auth-key
                  microsoftSessionIPv4Address: 192.168.3.1
                  microsoftSessionIPv6Address: fd00::1:1
                  peerSessionIPv4Address: 192.168.2.1
                  peerSessionIPv6Address: fd00::1
                  sessionStateV4: Established
                  sessionStateV6: Established
                connectionState: Active
                peeringDBFacilityId: 99999
              - bgpSession:
                  maxPrefixesAdvertisedV4: 1000
                  maxPrefixesAdvertisedV6: 100
                  md5AuthenticationKey: test-md5-auth-key
                  microsoftSessionIPv4Address: 192.168.3.2
                  microsoftSessionIPv6Address: fd00::1:2
                  peerSessionIPv4Address: 192.168.2.2
                  peerSessionIPv6Address: fd00::2
                  sessionStateV4: Established
                  sessionStateV6: Established
                connectionState: Active
                peeringDBFacilityId: 99999
            peerAsn:
              id: /subscriptions/subId/providers/Microsoft.Peering/peerAsns/myAsn1
          peeringLocation: peeringLocation0
          provisioningState: Succeeded
        sku:
          family: Exchange
          name: Basic_Exchange_Free
          size: Free
          tier: Basic
        type: Microsoft.Peering/peerings
    List_peerings_in_a_resource_group:
      value:
        id: /subscriptions/subId/resourceGroups/rgName/providers/Microsoft.Peering/peerings/peeringName
        kind: Exchange
        location: eastus
        name: peeringName
        properties:
          exchange:
            connections:
              - bgpSession:
                  maxPrefixesAdvertisedV4: 1000
                  maxPrefixesAdvertisedV6: 100
                  md5AuthenticationKey: test-md5-auth-key
                  microsoftSessionIPv4Address: 192.168.3.1
                  microsoftSessionIPv6Address: fd00::1:1
                  peerSessionIPv4Address: 192.168.2.1
                  peerSessionIPv6Address: fd00::1
                  sessionStateV4: Established
                  sessionStateV6: Established
                connectionState: Active
                peeringDBFacilityId: 99999
              - bgpSession:
                  maxPrefixesAdvertisedV4: 1000
                  maxPrefixesAdvertisedV6: 100
                  md5AuthenticationKey: test-md5-auth-key
                  microsoftSessionIPv4Address: 192.168.3.2
                  microsoftSessionIPv6Address: fd00::1:2
                  peerSessionIPv4Address: 192.168.2.2
                  peerSessionIPv6Address: fd00::2
                  sessionStateV4: Established
                  sessionStateV6: Established
                connectionState: Active
                peeringDBFacilityId: 99999
            peerAsn:
              id: /subscriptions/subId/providers/Microsoft.Peering/peerAsns/myAsn1
          peeringLocation: peeringLocation0
          provisioningState: Succeeded
        sku:
          family: Exchange
          name: Basic_Exchange_Free
          size: Free
          tier: Basic
        type: Microsoft.Peering/peerings
    Get_a_peering:
      value:
        id: /subscriptions/subId/resourceGroups/rgName/providers/Microsoft.Peering/peerings/peeringName
        kind: Exchange
        location: eastus
        name: peeringName
        properties:
          exchange:
            connections:
              - bgpSession:
                  maxPrefixesAdvertisedV4: 1000
                  maxPrefixesAdvertisedV6: 100
                  md5AuthenticationKey: test-md5-auth-key
                  microsoftSessionIPv4Address: 192.168.3.1
                  microsoftSessionIPv6Address: fd00::1:1
                  peerSessionIPv4Address: 192.168.2.1
                  peerSessionIPv6Address: fd00::1
                  sessionStateV4: Established
                  sessionStateV6: Established
                connectionState: Active
                peeringDBFacilityId: 99999
              - bgpSession:
                  maxPrefixesAdvertisedV4: 1000
                  maxPrefixesAdvertisedV6: 100
                  md5AuthenticationKey: test-md5-auth-key
                  microsoftSessionIPv4Address: 192.168.3.2
                  microsoftSessionIPv6Address: fd00::1:2
                  peerSessionIPv4Address: 192.168.2.2
                  peerSessionIPv6Address: fd00::2
                  sessionStateV4: Established
                  sessionStateV6: Established
                connectionState: Active
                peeringDBFacilityId: 99999
            peerAsn:
              id: /subscriptions/subId/providers/Microsoft.Peering/peerAsns/myAsn1
          peeringLocation: peeringLocation0
          provisioningState: Succeeded
        sku:
          family: Exchange
          name: Basic_Exchange_Free
          size: Free
          tier: Basic
        type: Microsoft.Peering/peerings
    Update_peering_tags:
      value:
        id: /subscriptions/subId/resourceGroups/rgName/providers/Microsoft.Peering/peerings/peeringName
        kind: Exchange
        location: eastus
        name: peeringName
        properties:
          exchange:
            connections:
              - bgpSession:
                  maxPrefixesAdvertisedV4: 1000
                  maxPrefixesAdvertisedV6: 100
                  md5AuthenticationKey: test-md5-auth-key
                  microsoftSessionIPv4Address: 192.168.3.1
                  microsoftSessionIPv6Address: fd00::1:1
                  peerSessionIPv4Address: 192.168.2.1
                  peerSessionIPv6Address: fd00::1
                  sessionStateV4: Established
                  sessionStateV6: Established
                connectionState: Active
                peeringDBFacilityId: 99999
              - bgpSession:
                  maxPrefixesAdvertisedV4: 1000
                  maxPrefixesAdvertisedV6: 100
                  md5AuthenticationKey: test-md5-auth-key
                  microsoftSessionIPv4Address: 192.168.3.2
                  microsoftSessionIPv6Address: fd00::1:2
                  peerSessionIPv4Address: 192.168.2.2
                  peerSessionIPv6Address: fd00::2
                  sessionStateV4: Established
                  sessionStateV6: Established
                connectionState: Active
                peeringDBFacilityId: 99999
            peerAsn:
              id: /subscriptions/subId/providers/Microsoft.Peering/peerAsns/myAsn1
          peeringLocation: peeringLocation0
          provisioningState: Succeeded
        sku:
          family: Exchange
          name: Basic_Exchange_Free
          size: Free
          tier: Basic
        tags:
          tag0: value0
          tag1: value1
        type: Microsoft.Peering/peerings
    Create_a_direct_peering:
      value:
        id: /subscriptions/subId/resourceGroups/rgName/providers/Microsoft.Peering/peerings/peeringName
        kind: Direct
        location: eastus
        name: peeringName
        properties:
          direct:
            connections:
              - bandwidthInMbps: 10000
                bgpSession:
                  maxPrefixesAdvertisedV4: 1000
                  maxPrefixesAdvertisedV6: 100
                  md5AuthenticationKey: test-md5-auth-key
                  sessionPrefixV4: 192.168.0.0/31
                  sessionPrefixV6: fd00::0/127
                  sessionStateV4: PendingAdd
                  sessionStateV6: PendingAdd
                connectionState: PendingApproval
                peeringDBFacilityId: 99999
                provisionedBandwidthInMbps: 0
              - bandwidthInMbps: 10000
                bgpSession:
                  maxPrefixesAdvertisedV4: 1000
                  maxPrefixesAdvertisedV6: 100
                  md5AuthenticationKey: test-md5-auth-key
                  sessionPrefixV4: 192.168.1.0/31
                  sessionPrefixV6: fd00::2/127
                  sessionStateV4: PendingAdd
                  sessionStateV6: PendingAdd
                connectionState: PendingApproval
                peeringDBFacilityId: 99999
                provisionedBandwidthInMbps: 0
            peerAsn:
              id: /subscriptions/subId/providers/Microsoft.Peering/peerAsns/myAsn1
            useForPeeringService: false
          peeringLocation: peeringLocation0
          provisioningState: Succeeded
        sku:
          family: Direct
          name: Basic_Direct_Free
          size: Free
          tier: Basic
        type: Microsoft.Peering/peerings
    Create_an_exchange_peering:
      value:
        id: /subscriptions/subId/resourceGroups/rgName/providers/Microsoft.Peering/peerings/peeringName
        kind: Exchange
        location: eastus
        name: peeringName
        properties:
          exchange:
            connections:
              - bgpSession:
                  maxPrefixesAdvertisedV4: 1000
                  maxPrefixesAdvertisedV6: 100
                  md5AuthenticationKey: test-md5-auth-key
                  microsoftSessionIPv4Address: 192.168.3.1
                  microsoftSessionIPv6Address: fd00::1:1
                  peerSessionIPv4Address: 192.168.2.1
                  peerSessionIPv6Address: fd00::1
                  sessionStateV4: PendingAdd
                  sessionStateV6: PendingAdd
                connectionState: PendingApproval
                peeringDBFacilityId: 99999
              - bgpSession:
                  maxPrefixesAdvertisedV4: 1000
                  maxPrefixesAdvertisedV6: 100
                  md5AuthenticationKey: test-md5-auth-key
                  microsoftSessionIPv4Address: 192.168.3.2
                  microsoftSessionIPv6Address: fd00::1:2
                  peerSessionIPv4Address: 192.168.2.2
                  peerSessionIPv6Address: fd00::2
                  sessionStateV4: PendingAdd
                  sessionStateV6: PendingAdd
                connectionState: PendingApproval
                peeringDBFacilityId: 99999
            peerAsn:
              id: /subscriptions/subId/providers/Microsoft.Peering/peerAsns/myAsn1
          peeringLocation: peeringLocation0
          provisioningState: Succeeded
        sku:
          family: Exchange
          name: Basic_Exchange_Free
          size: Free
          tier: Basic
        type: Microsoft.Peering/peerings
  parameters:
    ApiVersionParameter:
      description: The client API version.
      in: query
      name: api-version
      required: true
      schema:
        type: string
      examples:
        List peering operations:
          value: 2019-03-01-preview
        List legacy peerings:
          value: 2019-03-01-preview
        List peer ASNs in a subscription:
          value: 2019-03-01-preview
        Delete a peer ASN:
          value: 2019-03-01-preview
        Get a peer ASN:
          value: 2019-03-01-preview
        Create a peer ASN:
          value: 2019-03-01-preview
        List direct peering locations:
          value: 2019-03-01-preview
        List exchange peering locations:
          value: 2019-03-01-preview
        List peerings in a subscription:
          value: 2019-03-01-preview
        List peerings in a resource group:
          value: 2019-03-01-preview
        Delete a peering:
          value: 2019-03-01-preview
        Get a peering:
          value: 2019-03-01-preview
        Update peering tags:
          value: 2019-03-01-preview
        Create a direct peering:
          value: 2019-03-01-preview
        Create an exchange peering:
          value: 2019-03-01-preview
    SubscriptionIdParameter:
      description: The Azure subscription ID.
      in: path
      name: subscriptionId
      required: true
      schema:
        type: string
      examples:
        List legacy peerings:
          value: subId
        List peer ASNs in a subscription:
          value: subId
        Delete a peer ASN:
          value: subId
        Get a peer ASN:
          value: subId
        Create a peer ASN:
          value: subId
        List direct peering locations:
          value: subId
        List exchange peering locations:
          value: subId
        List peerings in a subscription:
          value: subId
        List peerings in a resource group:
          value: subId
        Delete a peering:
          value: subId
        Get a peering:
          value: subId
        Update peering tags:
          value: subId
        Create a direct peering:
          value: subId
        Create an exchange peering:
          value: subId
  securitySchemes:
    azure_auth:
      description: Azure Active Directory OAuth2 Flow.
      type: oauth2
      flows:
        implicit:
          authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
          scopes:
            user_impersonation: impersonate your user account
  schemas:
    BgpSession:
      description: The properties that define a BGP session.
      properties:
        maxPrefixesAdvertisedV4:
          description: The maximum number of prefixes advertised over the IPv4 session.
          format: int32
          type: integer
        maxPrefixesAdvertisedV6:
          description: The maximum number of prefixes advertised over the IPv6 session.
          format: int32
          type: integer
        md5AuthenticationKey:
          description: The MD5 authentication key of the session.
          type: string
        microsoftSessionIPv4Address:
          description: The IPv4 session address on Microsoft's end.
          readOnly: true
          type: string
        microsoftSessionIPv6Address:
          description: The IPv6 session address on Microsoft's end.
          readOnly: true
          type: string
        peerSessionIPv4Address:
          description: The IPv4 session address on peer's end.
          type: string
        peerSessionIPv6Address:
          description: The IPv6 session address on peer's end.
          type: string
        sessionPrefixV4:
          description: The IPv4 prefix that contains both ends' IPv4 addresses.
          type: string
        sessionPrefixV6:
          description: The IPv6 prefix that contains both ends' IPv6 addresses.
          type: string
        sessionStateV4:
          description: The state of the IPv4 session.
          enum:
            - None
            - Idle
            - Connect
            - Active
            - OpenSent
            - OpenConfirm
            - Established
            - PendingAdd
            - PendingUpdate
            - PendingRemove
          readOnly: true
          type: string
          x-ms-enum:
            modelAsString: true
            name: sessionStateV4
        sessionStateV6:
          description: The state of the IPv6 session.
          enum:
            - None
            - Idle
            - Connect
            - Active
            - OpenSent
            - OpenConfirm
            - Established
            - PendingAdd
            - PendingUpdate
            - PendingRemove
          readOnly: true
          type: string
          x-ms-enum:
            modelAsString: true
            name: sessionStateV6
      type: object
    ContactInfo:
      description: The contact information of the peer.
      properties:
        emails:
          description: The list of email addresses.
          items:
            type: string
          type: array
        phone:
          description: The list of contact numbers.
          items:
            type: string
          type: array
      type: object
    DirectConnection:
      description: The properties that define a direct connection.
      properties:
        bandwidthInMbps:
          description: The bandwidth of the connection.
          format: int32
          type: integer
        bgpSession:
          $ref: "#/components/schemas/BgpSession"
        connectionState:
          description: The state of the connection.
          enum:
            - None
            - PendingApproval
            - Approved
            - ProvisioningStarted
            - ProvisioningFailed
            - ProvisioningCompleted
            - Validating
            - Active
          readOnly: true
          type: string
          x-ms-enum:
            modelAsString: true
            name: connectionState
        peeringDBFacilityId:
          description: The PeeringDB.com ID of the facility at which the connection has to
            be set up.
          format: int32
          type: integer
        provisionedBandwidthInMbps:
          description: The bandwidth that is actually provisioned.
          format: int32
          type: integer
      type: object
    DirectPeeringFacility:
      description: The properties that define a direct peering facility.
      properties:
        address:
          description: The address of the direct peering facility.
          type: string
        peeringDBFacilityId:
          description: The PeeringDB.com ID of the facility.
          format: int32
          type: integer
        peeringDBFacilityLink:
          description: The PeeringDB.com URL of the facility.
          type: string
      type: object
    ErrorResponse:
      description: The error response that indicates why an operation has failed.
      properties:
        code:
          description: The error code.
          readOnly: true
          type: string
        message:
          description: The error message.
          readOnly: true
          type: string
      type: object
    ExchangeConnection:
      description: The properties that define an exchange connection.
      properties:
        bgpSession:
          $ref: "#/components/schemas/BgpSession"
        connectionState:
          description: The state of the connection.
          enum:
            - None
            - PendingApproval
            - Approved
            - ProvisioningStarted
            - ProvisioningFailed
            - ProvisioningCompleted
            - Validating
            - Active
          readOnly: true
          type: string
          x-ms-enum:
            modelAsString: true
            name: connectionState
        peeringDBFacilityId:
          description: The PeeringDB.com ID of the facility at which the connection has to
            be set up.
          format: int32
          type: integer
      type: object
    ExchangePeeringFacility:
      description: The properties that define an exchange peering facility.
      properties:
        bandwidthInMbps:
          description: The bandwidth of the connection between Microsoft and the exchange
            peering facility.
          format: int32
          type: integer
        exchangeName:
          description: The name of the exchange peering facility.
          type: string
        facilityIPv4Prefix:
          description: The IPv4 prefixes associated with the exchange peering facility.
          type: string
        facilityIPv6Prefix:
          description: The IPv6 prefixes associated with the exchange peering facility.
          type: string
        microsoftIPv4Address:
          description: The IPv4 address of Microsoft at the exchange peering facility.
          type: string
        microsoftIPv6Address:
          description: The IPv6 address of Microsoft at the exchange peering facility.
          type: string
        peeringDBFacilityId:
          description: The PeeringDB.com ID of the facility.
          format: int32
          type: integer
        peeringDBFacilityLink:
          description: The PeeringDB.com URL of the facility.
          type: string
      type: object
    Operation:
      description: The peering API operation.
      properties:
        display:
          $ref: "#/components/schemas/OperationDisplayInfo"
        isDataAction:
          description: The flag that indicates whether the operation applies to data plane.
          readOnly: true
          type: boolean
        name:
          description: The name of the operation.
          readOnly: true
          type: string
      type: object
    OperationDisplayInfo:
      description: The information related to the operation.
      properties:
        description:
          description: The description of the operation.
          readOnly: true
          type: string
        operation:
          description: The name of the operation.
          readOnly: true
          type: string
        provider:
          description: The name of the resource provider.
          readOnly: true
          type: string
        resource:
          description: The type of the resource.
          readOnly: true
          type: string
      type: object
    OperationListResult:
      description: The paginated list of peering API operations.
      properties:
        nextLink:
          description: The link to fetch the next page of peering API operations.
          type: string
        value:
          description: The list of peering API operations.
          items:
            $ref: "#/components/schemas/Operation"
          type: array
      type: object
    PeerAsn:
      allOf:
        - $ref: "#/components/schemas/Resource"
      description: The essential information related to the peer's ASN.
      properties:
        properties:
          $ref: "#/components/schemas/PeerAsnProperties"
      type: object
    PeerAsnListResult:
      description: The paginated list of peer ASNs.
      properties:
        nextLink:
          description: The link to fetch the next page of peer ASNs.
          type: string
        value:
          description: The list of peer ASNs.
          items:
            $ref: "#/components/schemas/PeerAsn"
          type: array
      type: object
    PeerAsnProperties:
      description: The properties that define a peer's ASN.
      properties:
        peerAsn:
          description: The Autonomous System Number (ASN) of the peer.
          format: int32
          type: integer
        peerContactInfo:
          $ref: "#/components/schemas/ContactInfo"
        peerName:
          description: The name of the peer.
          type: string
        validationState:
          description: The validation state of the ASN associated with the peer.
          enum:
            - None
            - Pending
            - Approved
            - Failed
          type: string
          x-ms-enum:
            modelAsString: true
            name: validationState
      type: object
    Peering:
      allOf:
        - $ref: "#/components/schemas/Resource"
      description: Peering is a logical representation of a set of connections to the
        Microsoft Cloud Edge at a location.
      properties:
        kind:
          description: The kind of the peering.
          enum:
            - Direct
            - Exchange
          type: string
          x-ms-enum:
            modelAsString: true
            name: kind
        location:
          description: The location of the resource.
          type: string
          x-ms-mutability:
            - read
            - create
        properties:
          $ref: "#/components/schemas/PeeringProperties"
        sku:
          $ref: "#/components/schemas/PeeringSku"
        tags:
          additionalProperties:
            type: string
          description: The resource tags.
          type: object
      required:
        - sku
        - kind
        - location
      type: object
    PeeringBandwidthOffer:
      description: The properties that define a peering bandwidth offer.
      properties:
        offerName:
          description: The name of the bandwidth offer.
          type: string
        valueInMbps:
          description: The value of the bandwidth offer in Mbps.
          format: int32
          type: integer
      type: object
    PeeringListResult:
      description: The paginated list of peerings.
      properties:
        nextLink:
          description: The link to fetch the next page of peerings.
          type: string
        value:
          description: The list of peerings.
          items:
            $ref: "#/components/schemas/Peering"
          type: array
      type: object
    PeeringLocation:
      allOf:
        - $ref: "#/components/schemas/Resource"
      description: Peering location is where connectivity could be established to the
        Microsoft Cloud Edge.
      properties:
        kind:
          description: The kind of peering that the peering location supports.
          enum:
            - Direct
            - Exchange
          type: string
          x-ms-enum:
            modelAsString: true
            name: kind
        properties:
          $ref: "#/components/schemas/PeeringLocationProperties"
      type: object
    PeeringLocationListResult:
      description: The paginated list of peering locations.
      properties:
        nextLink:
          description: The link to fetch the next page of peering locations.
          type: string
        value:
          description: The list of peering locations.
          items:
            $ref: "#/components/schemas/PeeringLocation"
          type: array
      type: object
    PeeringLocationProperties:
      description: The properties that define a peering location.
      properties:
        azureRegion:
          description: The Azure region associated with the peering location.
          type: string
        country:
          description: The country in which the peering location exists.
          type: string
        direct:
          $ref: "#/components/schemas/PeeringLocationPropertiesDirect"
        exchange:
          $ref: "#/components/schemas/PeeringLocationPropertiesExchange"
        peeringLocation:
          description: The name of the peering location.
          type: string
      type: object
    PeeringLocationPropertiesDirect:
      description: The properties that define a direct peering location.
      properties:
        bandwidthOffers:
          description: The list of bandwidth offers available at the peering location.
          items:
            $ref: "#/components/schemas/PeeringBandwidthOffer"
          type: array
        peeringFacilities:
          description: The list of direct peering facilities at the peering location.
          items:
            $ref: "#/components/schemas/DirectPeeringFacility"
          type: array
      type: object
    PeeringLocationPropertiesExchange:
      description: The properties that define an exchange peering location.
      properties:
        peeringFacilities:
          description: The list of exchange peering facilities at the peering location.
          items:
            $ref: "#/components/schemas/ExchangePeeringFacility"
          type: array
      type: object
    PeeringProperties:
      description: The properties that define connectivity to the Microsoft Cloud Edge.
      properties:
        direct:
          $ref: "#/components/schemas/PeeringPropertiesDirect"
        exchange:
          $ref: "#/components/schemas/PeeringPropertiesExchange"
        peeringLocation:
          description: The location of the peering.
          type: string
        provisioningState:
          description: The provisioning state of the resource.
          enum:
            - Succeeded
            - Updating
            - Deleting
            - Failed
          readOnly: true
          type: string
          x-ms-enum:
            modelAsString: true
            name: provisioningState
      type: object
    PeeringPropertiesDirect:
      description: The properties that define a direct peering.
      properties:
        connections:
          description: The set of connections that constitute a direct peering.
          items:
            $ref: "#/components/schemas/DirectConnection"
          type: array
        peerAsn:
          $ref: "#/components/schemas/SubResource"
        useForPeeringService:
          description: The flag that indicates whether or not the peering is used for
            peering service.
          type: boolean
      type: object
    PeeringPropertiesExchange:
      description: The properties that define an exchange peering.
      properties:
        connections:
          description: The set of connections that constitute an exchange peering.
          items:
            $ref: "#/components/schemas/ExchangeConnection"
          type: array
        peerAsn:
          $ref: "#/components/schemas/SubResource"
      type: object
    PeeringSku:
      description: The SKU that defines the tier and kind of the peering.
      properties:
        family:
          description: The family of the peering SKU.
          enum:
            - Direct
            - Exchange
          type: string
          x-ms-enum:
            modelAsString: true
            name: family
        name:
          description: The name of the peering SKU.
          enum:
            - Basic_Exchange_Free
            - Basic_Direct_Free
            - Premium_Direct_Free
            - Premium_Exchange_Metered
          type: string
          x-ms-enum:
            modelAsString: true
            name: name
        size:
          description: The size of the peering SKU.
          enum:
            - Free
            - Metered
            - Unlimited
          type: string
          x-ms-enum:
            modelAsString: true
            name: size
        tier:
          description: The tier of the peering SKU.
          enum:
            - Basic
            - Premium
          type: string
          x-ms-enum:
            modelAsString: true
            name: tier
      type: object
    Resource:
      description: The ARM resource class.
      properties:
        id:
          description: The ID of the resource.
          readOnly: true
          type: string
        name:
          description: The name of the resource.
          readOnly: true
          type: string
        type:
          description: The type of the resource.
          readOnly: true
          type: string
      type: object
      x-ms-azure-resource: true
    ResourceTags:
      description: The resource tags.
      properties:
        tags:
          additionalProperties:
            type: string
          description: Gets or sets the tags, a dictionary of descriptors arm object
          type: object
      type: object
    SubResource:
      description: The sub resource.
      properties:
        id:
          description: The identifier of the referenced resource.
          type: string
      type: object
