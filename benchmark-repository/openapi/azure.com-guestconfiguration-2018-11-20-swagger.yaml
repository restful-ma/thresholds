openapi: 3.0.0
info:
  title: GuestConfiguration
  version: 2018-11-20
  x-apisguru-categories:
    - cloud
  x-logo:
    url: https://assets.onestore.ms/cdnfiles/onestorerolling-1606-01000/shell/v3/images/logo/microsoft.png
  x-origin:
    - format: swagger
      url: https://raw.githubusercontent.com/Azure/azure-rest-api-specs/master/specification/guestconfiguration/resource-manager/Microsoft.GuestConfiguration/stable/2018-11-20/guestconfiguration.json
      version: "2.0"
  x-preferred: true
  x-providerName: azure.com
  x-serviceName: guestconfiguration
  x-tags:
    - Azure
    - Microsoft
security:
  - azure_auth:
      - user_impersonation
paths:
  /providers/Microsoft.GuestConfiguration/operations:
    get:
      description: Lists all of the available GuestConfiguration REST API operations.
      operationId: Operations_List
      parameters:
        - description: Client Api Version.
          in: query
          name: api-version
          required: true
          schema:
            type: string
          examples:
            Lists all of the available GuestConfiguration REST API operations:
              value: 2018-11-20
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                description: The response model for the list of Automation operations
                properties:
                  value:
                    description: List of Automation operations supported by the Automation
                      resource provider.
                    items:
                      description: GuestConfiguration REST API operation
                      properties:
                        display:
                          description: Provider, Resource, Operation and description values.
                          properties:
                            description:
                              description: Description about operation.
                              type: string
                            operation:
                              description: "Operation type: Read, write, delete, etc."
                              type: string
                            provider:
                              description: "Service provider: Microsoft.GuestConfiguration"
                              type: string
                            resource:
                              description: "Resource on which the operation is
                                performed:  For ex. "
                              type: string
                        name:
                          description: "Operation name: For ex.
                            providers/Microsoft.GuestConfiguration/guestConfigu\
                            rationAssignments/write or read"
                          type: string
                        properties:
                          description: Provider, Resource, Operation and description values.
                          properties:
                            statusCode:
                              description: "Service provider: Microsoft.GuestConfiguration"
                              type: string
                          x-ms-client-flatten: true
                      type: object
                    type: array
              examples:
                Lists all of the available GuestConfiguration REST API operations:
                  $ref: "#/components/examples/Lists_all_of_the_available_GuestConf\
                    iguration_REST_API_operations"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                description: Error response of an operation failure
                properties:
                  message:
                    description: Error message indicating why the operation failed.
                    type: string
      tags:
        - Operations
      x-ms-pageable: {}
  "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Compute/virtualMachines/{vmName}/providers/Microsoft.GuestConfiguration/guestConfigurationAssignments":
    get:
      description: List all guest configuration assignments for a virtual machine.
      operationId: GuestConfigurationAssignments_List
      parameters:
        - description: The resource group name.
          in: path
          name: resourceGroupName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
            pattern: ^[-\w\._]+$
          examples:
            List all guest configuration assignments for a virtual machine:
              value: myResourceGroupName
        - description: Subscription ID which uniquely identify Microsoft Azure
            subscription. The subscription ID forms part of the URI for every
            service call.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
          examples:
            List all guest configuration assignments for a virtual machine:
              value: mySubscriptionId
        - description: The name of the virtual machine.
          in: path
          name: vmName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
          examples:
            List all guest configuration assignments for a virtual machine:
              value: myVMName
        - description: Client Api Version.
          in: query
          name: api-version
          required: true
          schema:
            type: string
          examples:
            List all guest configuration assignments for a virtual machine:
              value: 2018-11-20
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GuestConfigurationAssignmentList"
              examples:
                List all guest configuration assignments for a virtual machine:
                  $ref: "#/components/examples/List_all_guest_configuration_assignm\
                    ents_for_a_virtual_machine"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                description: Error response of an operation failure
                properties:
                  message:
                    description: Error message indicating why the operation failed.
                    type: string
      tags:
        - GuestConfigurationAssignments
      x-ms-pageable: {}
  "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Compute/virtualMachines/{vmName}/providers/Microsoft.GuestConfiguration/guestConfigurationAssignments/{guestConfigurationAssignmentName}":
    delete:
      description: Delete a guest configuration assignment
      operationId: GuestConfigurationAssignments_Delete
      parameters:
        - description: The resource group name.
          in: path
          name: resourceGroupName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
            pattern: ^[-\w\._]+$
          examples:
            Delete an guest configuration assignment:
              value: myResourceGroupName
        - description: Name of the guest configuration assignment
          in: path
          name: guestConfigurationAssignmentName
          required: true
          schema:
            type: string
          examples:
            Delete an guest configuration assignment:
              value: SecureProtocol
        - description: Subscription ID which uniquely identify Microsoft Azure
            subscription. The subscription ID forms part of the URI for every
            service call.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
          examples:
            Delete an guest configuration assignment:
              value: mySubscriptionId
        - description: The name of the virtual machine.
          in: path
          name: vmName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
          examples:
            Delete an guest configuration assignment:
              value: myVMName
        - description: Client Api Version.
          in: query
          name: api-version
          required: true
          schema:
            type: string
          examples:
            Delete an guest configuration assignment:
              value: 2018-11-20
      responses:
        "200":
          description: OK
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                description: Error response of an operation failure
                properties:
                  message:
                    description: Error message indicating why the operation failed.
                    type: string
      tags:
        - GuestConfigurationAssignments
      x-ms-long-running-operation: true
    get:
      description: Get information about a guest configuration assignment
      operationId: GuestConfigurationAssignments_Get
      parameters:
        - description: The resource group name.
          in: path
          name: resourceGroupName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
            pattern: ^[-\w\._]+$
          examples:
            Get a guest configuration assignment:
              value: myResourceGroupName
        - description: The guest configuration assignment name.
          in: path
          name: guestConfigurationAssignmentName
          required: true
          schema:
            type: string
          examples:
            Get a guest configuration assignment:
              value: SecureProtocol
        - description: Subscription ID which uniquely identify Microsoft Azure
            subscription. The subscription ID forms part of the URI for every
            service call.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
          examples:
            Get a guest configuration assignment:
              value: mySubscriptionId
        - description: The name of the virtual machine.
          in: path
          name: vmName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
          examples:
            Get a guest configuration assignment:
              value: myVMName
        - description: Client Api Version.
          in: query
          name: api-version
          required: true
          schema:
            type: string
          examples:
            Get a guest configuration assignment:
              value: 2018-11-20
      responses:
        "200":
          description: OK. The guest configuration assignment was returned successfully.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GuestConfigurationAssignment"
              examples:
                Get a guest configuration assignment:
                  $ref: "#/components/examples/Get_a_guest_configuration_assignment"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                description: Error response of an operation failure
                properties:
                  message:
                    description: Error message indicating why the operation failed.
                    type: string
      tags:
        - GuestConfigurationAssignments
    put:
      description: Creates an association between a VM and guest configuration
      operationId: GuestConfigurationAssignments_CreateOrUpdate
      parameters:
        - description: Name of the guest configuration assignment.
          in: path
          name: guestConfigurationAssignmentName
          required: true
          schema:
            type: string
          examples:
            Create or update guest configuration assignment:
              value: WhitelistedApplication
        - description: Subscription ID which uniquely identify Microsoft Azure
            subscription. The subscription ID forms part of the URI for every
            service call.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
          examples:
            Create or update guest configuration assignment:
              value: mySubscriptionId
        - description: The resource group name.
          in: path
          name: resourceGroupName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
            pattern: ^[-\w\._]+$
          examples:
            Create or update guest configuration assignment:
              value: myResourceGroupName
        - description: The name of the virtual machine.
          in: path
          name: vmName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
          examples:
            Create or update guest configuration assignment:
              value: myVMName
        - description: Client Api Version.
          in: query
          name: api-version
          required: true
          schema:
            type: string
          examples:
            Create or update guest configuration assignment:
              value: 2018-11-20
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/GuestConfigurationAssignment"
        description: Parameters supplied to the create or update guest configuration
          assignment.
        required: true
      responses:
        "200":
          description: OK. The guest configuration assignment for the VM was updated
            successfully.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GuestConfigurationAssignment"
              examples:
                Create or update guest configuration assignment:
                  $ref: "#/components/examples/Create_or_update_guest_configuration\
                    _assignment"
        "201":
          description: Created. The guest configuration assignment for the VM was created
            successfully.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GuestConfigurationAssignment"
              examples:
                Create or update guest configuration assignment:
                  $ref: "#/components/examples/Create_or_update_guest_configuration\
                    _assignment"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                description: Error response of an operation failure
                properties:
                  message:
                    description: Error message indicating why the operation failed.
                    type: string
      tags:
        - GuestConfigurationAssignments
      x-ms-long-running-operation: true
  "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Compute/virtualMachines/{vmName}/providers/Microsoft.GuestConfiguration/guestConfigurationAssignments/{guestConfigurationAssignmentName}/reports":
    get:
      description: List all reports for the guest configuration assignment, latest report
        first.
      operationId: GuestConfigurationAssignmentReports_List
      parameters:
        - description: The resource group name.
          in: path
          name: resourceGroupName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
            pattern: ^[-\w\._]+$
          examples:
            List all guest configuration assignments for a virtual machine:
              value: myResourceGroupName
        - description: The guest configuration assignment name.
          in: path
          name: guestConfigurationAssignmentName
          required: true
          schema:
            type: string
          examples:
            List all guest configuration assignments for a virtual machine:
              value: AuditSecureProtocol
        - description: Subscription ID which uniquely identify Microsoft Azure
            subscription. The subscription ID forms part of the URI for every
            service call.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
          examples:
            List all guest configuration assignments for a virtual machine:
              value: mySubscriptionid
        - description: The name of the virtual machine.
          in: path
          name: vmName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
          examples:
            List all guest configuration assignments for a virtual machine:
              value: myVMName
        - description: Client Api Version.
          in: query
          name: api-version
          required: true
          schema:
            type: string
          examples:
            List all guest configuration assignments for a virtual machine:
              value: 2018-11-20
      responses:
        "200":
          description: "OK. This response is due one of these two reasons: 1. Reports were
            returned successfully 2. Guest configuration assignment was found,
            but VM is not registered yet, hence no reports returned."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GuestConfigurationAssignmentReportList"
              examples:
                List all guest configuration assignments for a virtual machine:
                  $ref: "#/components/examples/List_all_guest_configuration_assignm\
                    ents_for_a_virtual_machine"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                description: Error response of an operation failure
                properties:
                  message:
                    description: Error message indicating why the operation failed.
                    type: string
      tags:
        - GuestConfigurationAssignmentReports
  "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Compute/virtualMachines/{vmName}/providers/Microsoft.GuestConfiguration/guestConfigurationAssignments/{guestConfigurationAssignmentName}/reports/{reportId}":
    get:
      description: Get a report for the guest configuration assignment, by reportId.
      operationId: GuestConfigurationAssignmentReports_Get
      parameters:
        - description: The resource group name.
          in: path
          name: resourceGroupName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
            pattern: ^[-\w\._]+$
          examples:
            Get a guest configuration assignment report by Id for a virtual machine:
              value: myResourceGroupName
        - description: The guest configuration assignment name.
          in: path
          name: guestConfigurationAssignmentName
          required: true
          schema:
            type: string
          examples:
            Get a guest configuration assignment report by Id for a virtual machine:
              value: AuditSecureProtocol
        - description: The GUID for the guest configuration assignment report.
          in: path
          name: reportId
          required: true
          schema:
            type: string
          examples:
            Get a guest configuration assignment report by Id for a virtual machine:
              value: 7367cbb8-ae99-47d0-a33b-a283564d2cb1
        - description: Subscription ID which uniquely identify Microsoft Azure
            subscription. The subscription ID forms part of the URI for every
            service call.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
          examples:
            Get a guest configuration assignment report by Id for a virtual machine:
              value: mySubscriptionid
        - description: The name of the virtual machine.
          in: path
          name: vmName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
          examples:
            Get a guest configuration assignment report by Id for a virtual machine:
              value: myvm
        - description: Client Api Version.
          in: query
          name: api-version
          required: true
          schema:
            type: string
          examples:
            Get a guest configuration assignment report by Id for a virtual machine:
              value: 2018-11-20
      responses:
        "200":
          description: "OK. This response is due one of these two reasons: 1. Report was
            returned successfully 2. Guest configuration assignment was found,
            but VM is not registered yet, hence no report was returned."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GuestConfigurationAssignmentReport"
              examples:
                Get a guest configuration assignment report by Id for a virtual machine:
                  $ref: "#/components/examples/Get_a_guest_configuration_assignment\
                    _report_by_Id_for_a_virtual_machine"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                description: Error response of an operation failure
                properties:
                  message:
                    description: Error message indicating why the operation failed.
                    type: string
      tags:
        - GuestConfigurationAssignmentReports
servers:
  - url: https://management.azure.com
components:
  examples:
    Lists_all_of_the_available_GuestConfiguration_REST_API_operations:
      value:
        value:
          - display:
              description: Create new guest configuration assignment.
              operation: Microsoft.GuestConfiguration/guestConfigurationAssignments/write
              provider: Microsoft Guest Configuration
              resource: Microsoft.GuestConfiguration/guestConfigurationAssignments
            name: Microsoft.GuestConfiguration/guestConfigurationAssignments/write
          - display:
              description: Registers the subscription for the Microsoft.GuestConfiguration
                resource provider.
              operation: Registers the feature for Microsoft.GuestConfiguration.
              provider: Microsoft Guest Configuration
              resource: Register
            name: Microsoft.GuestConfiguration/register/action
          - display:
              description: Get guest configuration assignment.
              operation: Microsoft.GuestConfiguration/guestConfigurationAssignments/read
              provider: Microsoft Guest Configuration
              resource: Microsoft.GuestConfiguration/guestConfigurationAssignments
            name: Microsoft.GuestConfiguration/guestConfigurationAssignments/read
          - display:
              description: Get guest configuration assignment report.
              operation: Microsoft.GuestConfiguration/guestConfigurationAssignments/reports/read
              provider: Microsoft Guest Configuration
              resource: Microsoft.GuestConfiguration/guestConfigurationAssignments
            name: Microsoft.GuestConfiguration/guestConfigurationAssignments/reports/read
    List_all_guest_configuration_assignments_for_a_virtual_machine:
      value:
        value:
          - id: /subscriptions/mysubscriptionid/resourceGroups/myResourceGroupName/providers/Microsoft.Compute/virtualMachines/myvm/providers/Microsoft.GuestConfiguration/guestConfigurationAssignments/AuditSecureProtocol/reports/7367cbb8-ae99-47d0-a33b-a283564d2cb1
            name: 7367cbb8-ae99-47d0-a33b-a283564d2cb1
            properties:
              assignment:
                configuration:
                  name: AuditSecureProtocol
                name: AuditSecureProtocol
              complianceStatus: Compliant
              endTime: 2018-08-29T22:14:13Z
              reportId: 7367cbb8-ae99-47d0-a33b-a283564d2cb1
              startTime: 2018-08-29T22:13:53Z
              vm:
                id: /subscriptions/mysubscriptionid/resourceGroups/myResourceGroupName/providers/Microsoft.Compute/virtualMachines/myvm
                uuid: vmuuid
          - id: /subscriptions/mysubscriptionid/resourceGroups/myResourceGroupName/providers/Microsoft.Compute/virtualMachines/myvm/providers/Microsoft.GuestConfiguration/guestConfigurationAssignments/AuditSecureProtocol/reports/41ee2caf-48f9-4999-a793-82ec7c6beb2c
            name: 41ee2caf-48f9-4999-a793-82ec7c6beb2c
            properties:
              assignment:
                configuration:
                  name: AuditSecureProtocol
                name: AuditSecureProtocol
              complianceStatus: Compliant
              endTime: 2018-08-29T20:14:13Z
              reportId: 41ee2caf-48f9-4999-a793-82ec7c6beb2c
              startTime: 2018-08-29T20:13:53Z
              vm:
                id: /subscriptions/mysubscriptionid/resourceGroups/myResourceGroupName/providers/Microsoft.Compute/virtualMachines/myvm
                uuid: vmuuid
    Get_a_guest_configuration_assignment:
      value:
        id: /subscriptions/subscriptionId/resourceGroups/myResourceGroupName/providers/Microsoft.Compute/virtualMachines/myvm/providers/Microsoft.GuestConfiguration/guestConfigurationAssignments/AuditSecureProtocol
        location: centraluseuap
        name: AuditSecureProtocol
        properties:
          assignmentHash: E0D8941DD713F284284561648C00C18FA76C8602943C7CD38AFD73B56AE4C35F.E3B0C44298FC1C149AFBF4C8996FB92427AE41E4649B934CA495991B7852B855
          complianceStatus: Compliant
          guestConfiguration:
            configurationParameter: []
            contentHash: content hash
            contentUri: https://mystorageaccount.blob.core.windows.net/builtinconfig/AuditSecureProtocol/AuditSecureProtocol_1.0.0.3.zip
            name: AuditSecureProtocol
            version: 1.0.0.3
          lastComplianceStatusChecked: 2018-08-29T22:14:13Z
          latestReportId: /subscriptions/subscriptionId/resourceGroups/myResourceGroupName/providers/Microsoft.Compute/virtualMachines/myvm/providers/Microsoft.GuestConfiguration/guestConfigurationAssignments/AuditSecureProtocol/reports/7367cbb8-ae99-47d0-a33b-a283564d2cb1
          provisioningState: Succeeded
    Create_or_update_guest_configuration_assignment:
      value:
        location: westcentralus
        name: WhitelistedApplication
        properties:
          complianceStatus: Pending
          context: Azure policy
          guestConfiguration:
            configurationParameter:
              - name: "[InstalledApplication]bwhitelistedapp;Name"
                value: NotePad,sql
            configurationSetting:
              actionAfterReboot: ContinueConfiguration
              configurationMode: MonitorOnly
              configurationModeFrequencyMins: 15
              rebootIfNeeded: "False"
            name: WhitelistedApplication
            version: 1.0.0.3
          provisioningState: Succeeded
    Get_a_guest_configuration_assignment_report_by_Id_for_a_virtual_machine:
      value:
        id: /subscriptions/mysubscriptionid/resourceGroups/myResourceGroupName/providers/Microsoft.Compute/virtualMachines/myvm/providers/Microsoft.GuestConfiguration/guestConfigurationAssignments/AuditSecureProtocol/reports/7367cbb8-ae99-47d0-a33b-a283564d2cb1
        name: 7367cbb8-ae99-47d0-a33b-a283564d2cb1
        properties:
          assignment:
            configuration:
              name: AuditSecureProtocol
              version: 1.0.0.0
            name: AuditSecureProtocol
          complianceStatus: Compliant
          details:
            complianceStatus: Compliant
            endTime: 2018-08-29T22:14:13Z
            jobId: 7367cbb8-ae99-47d0-a33b-a283564d2cb1
            operationType: Consistency
            resources:
              - complianceStatus: Compliant
                properties:
                  ConfigurationName: IsWebServerSecure
                  IsSingleInstance: Yes
                  ModuleName: SecureProtocolWebServer
                  ModuleVersion: 1.0.0.3
                  Protocols:
                    - Ensure: Absent
                      Protocol: SSL 2.0
                    - Ensure: Absent
                      Protocol: SSL 3.0
                    - Ensure: Absent
                      Protocol: TLS 1.0
                    - Ensure: Absent
                      Protocol: PCT 1.0
                    - Ensure: Absent
                      Protocol: Multi-Protocol Unified Hello
                    - Ensure: Absent
                      Protocol: TLS 1.1
                    - Ensure: Absent
                      Protocol: TLS 1.2
                  ResourceId: "[SecureWebServer]s1"
                reasons:
                  - code: DSC::RESOURCE::SUCCESS
                    phrase: Operation successful.
            startTime: 2018-08-29T22:13:53Z
          endTime: 2018-08-29T22:14:13Z
          reportId: 7367cbb8-ae99-47d0-a33b-a283564d2cb1
          startTime: 2018-08-29T22:13:53Z
          vm:
            id: /subscriptions/mysubscriptionid/resourceGroups/myResourceGroupName/providers/Microsoft.Compute/virtualMachines/myvm
            uuid: vmuuid
  securitySchemes:
    azure_auth:
      description: Azure Active Directory OAuth2 Flow
      type: oauth2
      flows:
        implicit:
          authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
          scopes:
            user_impersonation: impersonate your user account
  schemas:
    AssignmentInfo:
      description: Information about the guest configuration assignment.
      properties:
        configuration:
          $ref: "#/components/schemas/ConfigurationInfo"
        name:
          description: Name of the guest configuration assignment.
          readOnly: true
          type: string
    AssignmentReportDetails:
      description: Details of the guest configuration assignment report.
      properties:
        complianceStatus:
          description: A value indicating compliance status of the virtual machine for the
            assigned guest configuration.
          enum:
            - Compliant
            - NonCompliant
            - Pending
          readOnly: true
          type: string
          x-ms-enum:
            modelAsString: true
            name: complianceStatus
        endTime:
          description: End date and time of the guest configuration assignment compliance
            status check.
          format: date-time
          readOnly: true
          type: string
        jobId:
          description: GUID of the report.
          readOnly: true
          type: string
        operationType:
          description: Type of report, Consistency or Initial
          enum:
            - Consistency
            - Initial
          readOnly: true
          type: string
          x-ms-enum:
            modelAsString: true
            name: type
        resources:
          description: The list of resources for which guest configuration assignment
            compliance is checked.
          items:
            $ref: "#/components/schemas/AssignmentReportResource"
          type: array
        startTime:
          description: Start date and time of the guest configuration assignment compliance
            status check.
          format: date-time
          readOnly: true
          type: string
    AssignmentReportResource:
      description: The guest configuration assignment resource.
      properties:
        complianceStatus:
          description: A value indicating compliance status of the virtual machine for the
            assigned guest configuration.
          enum:
            - Compliant
            - NonCompliant
            - Pending
          readOnly: true
          type: string
          x-ms-enum:
            modelAsString: true
            name: complianceStatus
        properties:
          description: Properties of a guest configuration assignment resource.
          readOnly: true
          type: object
        reasons:
          description: Compliance reason and reason code for a resource.
          items:
            $ref: "#/components/schemas/AssignmentReportResourceComplianceReason"
          type: array
    AssignmentReportResourceComplianceReason:
      description: Reason and code for the compliance of the guest configuration assignment
        resource.
      properties:
        code:
          description: Code for the compliance of the guest configuration assignment
            resource.
          readOnly: true
          type: string
        phrase:
          description: Reason for the compliance of the guest configuration assignment
            resource.
          readOnly: true
          type: string
    ConfigurationInfo:
      description: Information about the configuration.
      properties:
        name:
          description: Name of the configuration.
          readOnly: true
          type: string
        version:
          description: Version of the configuration.
          readOnly: true
          type: string
    ConfigurationParameter:
      description: Represents a configuration parameter.
      properties:
        name:
          description: Name of the configuration parameter.
          readOnly: true
          type: string
        value:
          description: Value of the configuration parameter.
          readOnly: true
          type: string
    ConfigurationSetting:
      description: Configuration setting of LCM (Local Configuration Manager).
      properties:
        actionAfterReboot:
          description: Specifies what happens after a reboot during the application of a
            configuration. The possible values are ContinueConfiguration and
            StopConfiguration
          enum:
            - ContinueConfiguration
            - StopConfiguration
          readOnly: true
          type: string
          x-ms-enum:
            modelAsString: true
            name: actionAfterReboot
        allowModuleOverwrite:
          description: If true - new configurations downloaded from the pull service are
            allowed to overwrite the old ones on the target node. Otherwise,
            false
          enum:
            - "True"
            - "False"
          type: string
          x-ms-enum:
            modelAsString: true
            name: allowModuleOverwrite
        configurationMode:
          description: Specifies how the LCM(Local Configuration Manager) actually applies
            the configuration to the target nodes. Possible values are
            ApplyOnly, ApplyAndMonitor, and ApplyAndAutoCorrect.
          enum:
            - ApplyOnly
            - ApplyAndMonitor
            - ApplyAndAutoCorrect
          readOnly: true
          type: string
          x-ms-enum:
            modelAsString: true
            name: configurationMode
        configurationModeFrequencyMins:
          default: 15
          description: How often, in minutes, the current configuration is checked and
            applied. This property is ignored if the ConfigurationMode property
            is set to ApplyOnly. The default value is 15.
          readOnly: true
          type: number
        rebootIfNeeded:
          default: "False"
          description: Set this to true to automatically reboot the node after a
            configuration that requires reboot is applied. Otherwise, you will
            have to manually reboot the node for any configuration that requires
            it. The default value is false. To use this setting when a reboot
            condition is enacted by something other than DSC (such as Windows
            Installer), combine this setting with the xPendingReboot module.
          enum:
            - "True"
            - "False"
          readOnly: true
          type: string
          x-ms-enum:
            modelAsString: true
            name: rebootIfNeeded
        refreshFrequencyMins:
          default: 30
          description: The time interval, in minutes, at which the LCM checks a pull
            service to get updated configurations. This value is ignored if the
            LCM is not configured in pull mode. The default value is 30.
          readOnly: true
          type: number
    GuestConfigurationAssignment:
      allOf:
        - allOf:
            - description: The core properties of ARM resources
              properties:
                id:
                  description: ARM resource id of the guest configuration assignment.
                  readOnly: true
                  type: string
                location:
                  description: Region where the VM is located.
                  readOnly: true
                  type: string
                name:
                  description: Name of the guest configuration assignment.
                  readOnly: true
                  type: string
                type:
                  description: The type of the resource.
                  readOnly: true
                  type: string
              type: object
              x-ms-azure-resource: true
          description: ARM proxy resource.
          properties: {}
          type: object
      description: Guest configuration assignment is an association between a VM and guest
        configuration.
      properties:
        properties:
          $ref: "#/components/schemas/GuestConfigurationAssignmentProperties"
    GuestConfigurationAssignmentList:
      description: The response of the list guest configuration assignment operation.
      properties:
        value:
          description: Result of the list guest configuration assignment operation.
          items:
            $ref: "#/components/schemas/GuestConfigurationAssignment"
          type: array
    GuestConfigurationAssignmentProperties:
      description: Guest configuration assignment properties.
      properties:
        assignmentHash:
          description: Combined hash of the configuration package and parameters.
          readOnly: true
          type: string
          nullable: true
        complianceStatus:
          description: A value indicating compliance status of the virtual machine for the
            assigned guest configuration.
          enum:
            - Compliant
            - NonCompliant
            - Pending
          readOnly: true
          type: string
          x-ms-enum:
            modelAsString: true
            name: complianceStatus
        context:
          description: "The source which initiated the guest configuration assignment. Ex:
            Azure Policy"
          type: string
        guestConfiguration:
          $ref: "#/components/schemas/GuestConfigurationNavigation"
        lastComplianceStatusChecked:
          description: Date and time when last compliance status was checked.
          format: date-time
          readOnly: true
          type: string
          nullable: true
        latestReportId:
          description: "Id of the latest report for the guest configuration assignment. "
          readOnly: true
          type: string
          nullable: true
        provisioningState:
          description: The provisioning state, which only appears in the response.
          enum:
            - Succeeded
            - Failed
            - Canceled
            - Created
          readOnly: true
          type: string
          x-ms-enum:
            modelAsString: true
            name: provisioningState
          nullable: true
    GuestConfigurationAssignmentReport:
      description: Report for the guest configuration assignment. Report contains
        information such as compliance status, reason, and more.
      properties:
        id:
          description: ARM resource id of the report for the guest configuration assignment.
          readOnly: true
          type: string
        name:
          description: GUID that identifies the guest configuration assignment report under
            a subscription, resource group.
          readOnly: true
          type: string
        properties:
          $ref: "#/components/schemas/GuestConfigurationAssignmentReportProperties"
    GuestConfigurationAssignmentReportList:
      description: List of guest configuration assignment reports.
      properties:
        value:
          description: List of reports for the guest configuration. Report contains
            information such as compliance status, reason and more.
          items:
            $ref: "#/components/schemas/GuestConfigurationAssignmentReport"
          type: array
    GuestConfigurationAssignmentReportProperties:
      description: Report for the guest configuration assignment. Report contains
        information such as compliance status, reason, and more.
      properties:
        assignment:
          $ref: "#/components/schemas/AssignmentInfo"
        complianceStatus:
          description: A value indicating compliance status of the virtual machine for the
            assigned guest configuration.
          enum:
            - Compliant
            - NonCompliant
            - Pending
          readOnly: true
          type: string
          x-ms-enum:
            modelAsString: true
            name: complianceStatus
        details:
          $ref: "#/components/schemas/AssignmentReportDetails"
        endTime:
          description: End date and time of the guest configuration assignment compliance
            status check.
          format: date-time
          readOnly: true
          type: string
        reportId:
          description: GUID that identifies the guest configuration assignment report under
            a subscription, resource group.
          readOnly: true
          type: string
        startTime:
          description: Start date and time of the guest configuration assignment compliance
            status check.
          format: date-time
          readOnly: true
          type: string
        vm:
          $ref: "#/components/schemas/VMInfo"
    GuestConfigurationNavigation:
      description: Guest configuration is an artifact that encapsulates DSC configuration
        and its dependencies. The artifact is a zip file containing DSC
        configuration (as MOF) and dependent resources and other dependencies
        like modules.
      properties:
        configurationParameter:
          description: The configuration parameters for the guest configuration.
          items:
            $ref: "#/components/schemas/ConfigurationParameter"
          type: array
        configurationSetting:
          $ref: "#/components/schemas/ConfigurationSetting"
        contentHash:
          description: Combined hash of the guest configuration package and configuration
            parameters.
          readOnly: true
          type: string
        contentUri:
          description: Uri of the storage where guest configuration package is uploaded.
          readOnly: true
          type: string
        kind:
          description: Kind of the guest configuration. For example:DSC
          enum:
            - DSC
          type: string
          x-ms-enum:
            modelAsString: true
            name: kind
        name:
          description: Name of the guest configuration.
          type: string
        version:
          description: Version of the guest configuration.
          type: string
    VMInfo:
      description: Information about the VM.
      properties:
        id:
          description: Azure resource Id of the VM.
          readOnly: true
          type: string
        uuid:
          description: UUID(Universally Unique Identifier) of the VM.
          readOnly: true
          type: string
