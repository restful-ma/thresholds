openapi: 3.0.0
x-hasEquivalentPaths: true
info:
  contact:
    email: office@visagecloud.com
    name: VisageCloud
    url: https://visagecloud.com
  description: Face search, recognition & classification API. Just make a call to our REST
    API each time your app needs to access face recognition and classification
    capabilities.
  license:
    name: As per Developer Terms of Use
    url: https://visagecloud.com/developer-terms-of-use
  termsOfService: https://visagecloud.com/terms-of-use
  title: VisageCloud
  version: "1.1"
  x-apisguru-categories:
    - search
  x-logo:
    url: https://visagecloud.com/visage-cloud-logo.png
  x-origin:
    - format: swagger
      url: https://visagecloud.com/v2/api-docs
      version: "2.0"
  x-providerName: visagecloud.com
tags:
  - description: Retrieve analytics for presence and audience
    name: Analytics for presence and audience
  - description: Manages Streams
    name: Stream
  - description: Performs image-recognition related operations
    name: Analysis
  - description: Create classifiers on existing faces
    name: Classifier
  - description: Manages collections
    name: Collection
  - description: Manages profiles associated with collections
    name: Profile
  - description: Account Controller
    name: account-controller
paths:
  /rest/v1.1/account/account:
    get:
      operationId: getAccountByAccessKeyUsingGET
      parameters:
        - description: accessKey
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: secretKey
          in: query
          name: secretKey
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/RestResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Get account information by accessKey and secretKey
      tags:
        - account-controller
  /rest/v1.1/account/billing:
    get:
      operationId: getBillingPerAccountUsingGET
      parameters:
        - description: accessKey
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: secretKey
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: startDateTime
          in: query
          name: startDateTime
          required: false
          schema:
            type: string
            format: date-time
        - description: endDateTime
          in: query
          name: endDateTime
          required: false
          schema:
            type: string
            format: date-time
        - description: dateTemplate
          in: query
          name: dateTemplate
          required: false
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/RestResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Get billing information by accessKey and secretKey
      tags:
        - account-controller
  /rest/v1.1/account/changePassword:
    post:
      operationId: changePasswordUsingPOST
      parameters:
        - description: email
          in: query
          name: email
          required: true
          schema:
            type: string
        - description: oldPassword
          in: query
          name: oldPassword
          required: true
          schema:
            type: string
        - description: newPassword
          in: query
          name: newPassword
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/RestResponse"
        "201":
          description: Created
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Change password for an account using old password
      tags:
        - account-controller
  /rest/v1.1/account/login:
    post:
      operationId: loginWithEmailUsingPOST
      parameters:
        - description: email
          in: query
          name: email
          required: true
          schema:
            type: string
        - description: password
          in: query
          name: password
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/RestResponse"
        "201":
          description: Created
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Get account information including accessKey and secretKey by email and
        password
      tags:
        - account-controller
  /rest/v1.1/analysis/compare:
    get:
      operationId: compareFacesUsingGET
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey or readOnlyKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: The IDs of the faces which you want compared, comma-separated
          in: query
          name: faceHashes
          required: true
          explode: true
          schema:
            type: array
            items:
              type: string
        - description: Show details
          in: query
          name: showDetails
          required: false
          schema:
            type: boolean
            default: false
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Compare several faces identified by faceHash, without depending on
        mapping faces to profiles
      tags:
        - Analysis
  /rest/v1.1/analysis/detection:
    post:
      operationId: performAnalysisUsingPOST
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey or readOnlyKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: Boolean value indicating whether you want the picture of the
            analysis to be stored for later retrieval
          in: query
          name: storeAnalysisPicture
          required: false
          schema:
            type: boolean
            default: true
        - description: Boolean value indicating whether you want the faces inside the
            picture to be stored for later retrieval
          in: query
          name: storeFacePictures
          required: false
          schema:
            type: boolean
            default: true
        - description: Boolean value indicating whether you want the result of the analysis
            to be stored
          in: query
          name: storeResult
          required: false
          schema:
            type: boolean
            default: true
        - description: How many seconds the results should be retained in stoarage?
          in: query
          name: retentionTime
          required: false
          schema:
            type: integer
            format: int32
        - description: The URL of the picture, assuming it is served by a third party
            server. Server should be accesible from the Internet or through
            another netwoek by VisageCloud infrastructure
          in: query
          name: pictureURL
          required: false
          schema:
            type: string
        - description: Algorithm version (V2 is more performant but not backward compatible)
          in: query
          name: algorithmVersion
          required: false
          schema:
            type: string
            enum:
              - V1
              - V2
            default: V2
        - description: Auto-rotate to find flipped or rotate faces
          in: query
          name: autoRotate
          required: false
          schema:
            type: boolean
            default: false
        - description: Skip EXIF rotation procesing
          in: query
          name: skipEXIF
          required: false
          schema:
            type: boolean
            default: false
        - description: Waits until the picture is successfully uploaded, before returning
            the response back the the client
          in: query
          name: waitForPictureUpload
          required: false
          schema:
            type: boolean
            default: false
        - description: "[For advanced users only] Change feature filters for robustness of
            feature extraction. Tweaking this parameter may affect per"
          in: query
          name: filters
          required: false
          explode: true
          schema:
            type: array
            items:
              type: string
        - description: "[For advanced users only] Options for preprocessing of image."
          in: query
          name: options
          required: false
          schema:
            type: string
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                picture:
                  description: The multipart/form-data version of the image, in case a
                    direct upload is used. At least one of picture or pictureURL
                    must be present
                  type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "201":
          description: Created
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Perform detection on a given picture or picture URL
      tags:
        - Analysis
  /rest/v1.1/analysis/listLatest:
    get:
      operationId: retriveLatestUsingGET
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey or readOnlyKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: How many records to retrieve at a time
          in: query
          name: count
          required: false
          schema:
            type: integer
            format: int32
            default: 100
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Retrieve the last *count* operations per current account
      tags:
        - Analysis
  /rest/v1.1/analysis/recognition:
    post:
      operationId: performRecognitionUsingPOST
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey or readOnlyKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: Boolean value indicating whether you want the picture of the
            analysis to be stored for later retrieval
          in: query
          name: storeAnalysisPicture
          required: false
          schema:
            type: boolean
            default: true
        - description: Boolean value indicating whether you want the faces inside the
            picture to be stored for later retrieval
          in: query
          name: storeFacePictures
          required: false
          schema:
            type: boolean
            default: true
        - description: Boolean value indicating whether you want the result of the analysis
            to be stored
          in: query
          name: storeResult
          required: false
          schema:
            type: boolean
            default: true
        - description: How many seconds the results should be retained in stoarage?
          in: query
          name: retentionTime
          required: false
          schema:
            type: integer
            format: int32
        - description: Uniquely identified collection that can store multiple profiles
          in: query
          name: collectionId
          required: true
          schema:
            type: string
        - description: Labels associated with the given picture or picture URL
          in: query
          name: labels
          required: false
          explode: true
          schema:
            type: array
            items:
              type: string
        - description: Filters that will be applied on the recognition operation
          in: query
          name: attributeFilters
          required: false
          explode: true
          schema:
            type: array
            items:
              enum:
                - NO_FILTER
                - GENDER_FILTER
                - AGE_GROUP_FILTER
              type: string
            enum:
              - NO_FILTER
              - GENDER_FILTER
              - AGE_GROUP_FILTER
        - description: The URL of the picture
          in: query
          name: pictureURL
          required: false
          schema:
            type: string
        - description: Algorithm version (V2 is more performant but not backward compatible)
          in: query
          name: algorithmVersion
          required: false
          schema:
            type: string
            enum:
              - V1
              - V2
            default: V2
        - description: Auto-rotate to find flipped or rotate faces
          in: query
          name: autoRotate
          required: false
          schema:
            type: boolean
            default: false
        - description: Skip EXIF rotation procesing
          in: query
          name: skipEXIF rotation processing
          required: false
          schema:
            type: boolean
            default: false
        - description: Waits until the picture is successfully uploaded, before returning
            the response back the the client
          in: query
          name: waitForPictureUpload
          required: false
          schema:
            type: boolean
            default: false
        - description: "[For advanced users only] Change feature filters for robustness of
            feature extraction. Tweaking this parameter may affect per"
          in: query
          name: filters
          required: false
          explode: true
          schema:
            type: array
            items:
              type: string
        - description: "[For advanced users only] Options for preprocessing of image."
          in: query
          name: options
          required: false
          schema:
            type: string
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                picture:
                  description: The picture itself
                  type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "201":
          description: Created
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Perform labeled recognition on a given picture or picture URL
      tags:
        - Analysis
  /rest/v1.1/analysis/retrieve:
    get:
      operationId: retrieveAnalysisUsingGET
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey or readOnlyKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: The ID of the analysis for which the data will be retrieved
          in: query
          name: analysisId
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Retrieve a complete analysis object including both detection and
        recognition information
      tags:
        - Analysis
  /rest/v1.1/analytics/counting:
    post:
      operationId: counterUsingPOST
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey or readOnlyKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: Collection ids
          in: query
          name: collectionIds
          required: false
          explode: true
          schema:
            type: array
            items:
              type: string
        - description: Stream Ids
          in: query
          name: streamIds
          required: false
          explode: true
          schema:
            type: array
            items:
              type: string
        - description: startDateTime
          in: query
          name: startDateTime
          required: false
          schema:
            type: string
            format: date-time
        - description: endDateTime
          in: query
          name: endDateTime
          required: false
          schema:
            type: string
            format: date-time
        - description: visitDuration
          in: query
          name: visitDuration
          required: false
          schema:
            type: integer
            format: int64
            default: 3600000
        - description: maxIterations
          in: query
          name: maxIterations
          required: false
          schema:
            type: integer
            format: int32
            default: 1
        - description: maxBatchIterations
          in: query
          name: maxBatchIterations
          required: false
          schema:
            type: integer
            format: int32
            default: 1
        - description: minNeighborsMergedPerIteration
          in: query
          name: minNeighborsMergedPerIteration
          required: false
          schema:
            type: integer
            format: int32
            default: 5
        - description: mergingStep
          in: query
          name: mergingStep
          required: false
          schema:
            type: number
            format: double
            default: 1
        - description: shuffling
          in: query
          name: shuffling
          required: false
          schema:
            type: boolean
            default: false
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "201":
          description: Created
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Count individuals in streams or collections
      tags:
        - Analytics for presence and audience
  /rest/v1.1/analytics/presence/timeseries:
    post:
      operationId: presenceTimeseriesUsingPOST
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey or readOnlyKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: Stream Ids
          in: query
          name: streamIds
          required: false
          explode: true
          schema:
            type: array
            items:
              type: string
        - description: startDateTime
          in: query
          name: startDateTime
          required: false
          schema:
            type: string
            format: date-time
        - description: endDateTime
          in: query
          name: endDateTime
          required: false
          schema:
            type: string
            format: date-time
        - description: step
          in: query
          name: step
          required: false
          schema:
            type: integer
            format: int64
            default: 3600
        - description: attributes
          in: query
          name: attributes
          required: true
          explode: true
          schema:
            type: array
            items:
              type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "201":
          description: Created
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Show audience (based on number of occurrences of each person) breakdown
        per declared attribute (age, gender).
      tags:
        - Analytics for presence and audience
  /rest/v1.1/analytics/presence/total:
    post:
      operationId: presenceTotalUsingPOST
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey or readOnlyKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: Stream Ids
          in: query
          name: streamIds
          required: true
          explode: true
          schema:
            type: array
            items:
              type: string
        - description: startDateTime
          in: query
          name: startDateTime
          required: false
          schema:
            type: string
            format: date-time
        - description: endDateTime
          in: query
          name: endDateTime
          required: false
          schema:
            type: string
            format: date-time
        - description: attributes
          in: query
          name: attributes
          required: true
          explode: true
          schema:
            type: array
            items:
              type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "201":
          description: Created
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Show presence (based on number of occurences of each face) breakdown per
        declared attribute (age, gender)
      tags:
        - Analytics for presence and audience
  /rest/v1.1/classifier/svm:
    delete:
      operationId: removeClassiferUsingDELETE
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey or readOnlyKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: The id of the classifier that will be removed
          in: query
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "204":
          description: No Content
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      summary: Delete existing classifier
      tags:
        - Classifier
    get:
      operationId: getClassiferFullUsingGET
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey or readOnlyKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: The id of the classifier that you want the status for
          in: query
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Get classifier full
      tags:
        - Classifier
    post:
      operationId: addSVMClassifierUsingPOST
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey or readOnlyKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: The name of the SVM classifier that will be created
          in: query
          name: name
          required: true
          schema:
            type: string
        - description: Collection ids
          in: query
          name: collectionIds
          required: true
          explode: true
          schema:
            type: array
            items:
              type: string
        - description: Preprocessor
          in: query
          name: preprocessor
          required: false
          schema:
            type: string
            default: FeaturePreprocessor
        - description: Classification attribute name
          in: query
          name: classificationAttributeName
          required: true
          schema:
            type: string
        - description: Consider view point
          in: query
          name: considerViewPoints
          required: false
          schema:
            type: boolean
            default: false
        - description: Seed for divididing training and evaluation sets
          in: query
          name: seed
          required: false
          schema:
            type: integer
            format: int32
            default: 179425537
        - description: Training ratio
          in: query
          name: trainingRatio
          required: false
          schema:
            type: number
            format: double
            default: 0.8
        - description: Probability parameter
          in: query
          name: probabilityParameter
          required: false
          schema:
            type: integer
            format: int32
            default: 1
        - description: Gamma parameter
          in: query
          name: gammaParameter
          required: false
          schema:
            type: number
            format: double
            default: 0.5
        - description: Nu parameter
          in: query
          name: nuParameter
          required: false
          schema:
            type: number
            format: double
            default: 0.25
        - description: c parameter
          in: query
          name: cParameter
          required: false
          schema:
            type: number
            format: double
            default: 1
        - description: SVM type parameter
          in: query
          name: svmTypeParameter
          required: false
          schema:
            type: integer
            format: int32
            default: 0
        - description: Kernel type parameter
          in: query
          name: kernelTypeParameter
          required: false
          schema:
            type: integer
            format: int32
            default: 0
        - description: Cache size parameter
          in: query
          name: cacheSizeParameter
          required: false
          schema:
            type: number
            format: double
            default: 500
        - description: Eps parameter
          in: query
          name: epsParameter
          required: false
          schema:
            type: number
            format: double
            default: 0.001
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "201":
          description: Created
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Create new SVM classifier with given name
      tags:
        - Classifier
  /rest/v1.1/classifier/svm/status:
    get:
      operationId: getClassiferStatusUsingGET
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey or readOnlyKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: The id of the classifier that you want the status for
          in: query
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Get classifer status
      tags:
        - Classifier
  /rest/v1.1/collection/:
    get:
      operationId: getAllCollectionsUsingGET
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey or readOnlyKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Retrieve all collections
      tags:
        - Collection
    post:
      operationId: addCollectionUsingPOST
      requestBody:
        content:
          application/x-www-form-urlencoded:
            schema:
              type: object
              properties:
                accessKey:
                  description: The accessKey provided by VisageCloud
                  type: string
                secretKey:
                  description: The secretKey provided by VisageCloud
                  type: string
                name:
                  description: The name of the collection that will be created
                  type: string
                preload:
                  description: Defined whether to preload collection
                  type: boolean
                  default: false
                evictable:
                  description: Defined whether the collection can be evicted
                  type: boolean
                  default: true
                purposes:
                  description: The newly declared purposes of the collection
                  type: array
                  enum:
                    - FEATURES
                    - LANDMARKS
                    - ATTRIBUTES
                  items:
                    enum:
                      - FEATURES
                      - LANDMARKS
                      - ATTRIBUTES
                    type: string
              required:
                - accessKey
                - secretKey
                - name
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "201":
          description: Created
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Create new empty collection with given name
      tags:
        - Collection
  /rest/v1.1/collection/all:
    get:
      deprecated: true
      operationId: getAllCollections2UsingGET
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey or readOnlyKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Retrieve all collections
      tags:
        - Collection
  /rest/v1.1/collection/collection:
    delete:
      deprecated: true
      operationId: deleteCollection2UsingDELETE
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: The id of the collection that will be removed
          in: query
          name: collectionId
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "204":
          description: No Content
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      summary: Delete existing collection with associated profiles and faces.
      tags:
        - Collection
    get:
      deprecated: true
      operationId: getCollection2UsingGET
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey or readOnlyKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: The id of the collection for which the data will be retrieved
          in: query
          name: collectionId
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Retrieve existing collection content
      tags:
        - Collection
    post:
      deprecated: true
      operationId: addCollection2UsingPOST
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey or readOnlyKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: The name of the collection that will be created
          in: query
          name: collectionName
          required: true
          schema:
            type: string
        - description: Defined whether to preload collection
          in: query
          name: preload
          required: false
          schema:
            type: boolean
            default: false
        - description: Defined whether the collection can be evicted
          in: query
          name: evictable
          required: false
          schema:
            type: boolean
            default: true
        - description: The newly declared purposes of the collection
          in: query
          name: purposes
          required: false
          explode: true
          schema:
            type: array
            items:
              enum:
                - FEATURES
                - LANDMARKS
                - ATTRIBUTES
              type: string
            enum:
              - FEATURES
              - LANDMARKS
              - ATTRIBUTES
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "201":
          description: Created
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Create new empty collection with given name
      tags:
        - Collection
  /rest/v1.1/collection/export/csv:
    get:
      operationId: exportCSVUsingGET
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey or readOnlyKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: The id of the collection for which the data will be retrieved
          in: query
          name: collectionId
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            text/plain:
              schema:
                $ref: "#/components/schemas/StreamingResponseBody"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Retrieve collection content for data analysis.
      tags:
        - Collection
  /rest/v1.1/collection/purpose:
    put:
      deprecated: true
      operationId: repurposeCollectionUsingPUT
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: The id of the collection for which the data will be retrieved
          in: query
          name: collectionId
          required: true
          schema:
            type: string
        - description: The newly declared purposes of the collection
          in: query
          name: purposes
          required: true
          explode: true
          schema:
            type: array
            items:
              enum:
                - FEATURES
                - LANDMARKS
                - ATTRIBUTES
              type: string
            enum:
              - FEATURES
              - LANDMARKS
              - ATTRIBUTES
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "201":
          description: Created
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Change purpose of existing collection
      tags:
        - Collection
  "/rest/v1.1/collection/{id}":
    delete:
      operationId: deleteCollectionUsingDELETE
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: The id of the collection that will be removed
          in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "204":
          description: No Content
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      summary: Delete existing collection with associated profiles and faces.
      tags:
        - Collection
    get:
      operationId: getCollectionUsingGET
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey or readOnlyKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: The id of the collection for which the data will be retrieved
          in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Retrieve existing collection content
      tags:
        - Collection
    patch:
      operationId: updateCollectionUsingPATCH
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: The name of the collection that will be updated
          in: query
          name: name
          required: false
          schema:
            type: string
        - description: The newly declared purposes of the collection
          in: query
          name: purposes
          required: false
          explode: true
          schema:
            type: array
            items:
              enum:
                - FEATURES
                - LANDMARKS
                - ATTRIBUTES
              type: string
            enum:
              - FEATURES
              - LANDMARKS
              - ATTRIBUTES
        - description: The id of the collection that will be updated
          in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "204":
          description: No Content
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      summary: Update an existing collection with a given id
      tags:
        - Collection
    post:
      deprecated: true
      operationId: updateCollection2UsingPOST
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: The name of the collection that will be updated
          in: query
          name: name
          required: false
          schema:
            type: string
        - description: The newly declared purposes of the collection
          in: query
          name: purposes
          required: false
          explode: true
          schema:
            type: array
            items:
              enum:
                - FEATURES
                - LANDMARKS
                - ATTRIBUTES
              type: string
            enum:
              - FEATURES
              - LANDMARKS
              - ATTRIBUTES
        - description: The id of the collection that will be updated
          in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "201":
          description: Created
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Update an existing collection with a given id
      tags:
        - Collection
  "/rest/v1.1/collection/{id}/profile":
    get:
      operationId: getAllCollectionProfilesUsingGET
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey or readOnlyKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: The collection that contains the profile
          in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Gets all the profiles associated to a collection
      tags:
        - Collection
  /rest/v1.1/profile/classificationAttributes:
    delete:
      deprecated: true
      operationId: removeClassificationAttributesFromProfileUsingDELETE
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: The profile associated with the classification attributes
          in: query
          name: profileId
          required: true
          schema:
            type: string
        - description: The collection that contains the profile
          in: query
          name: collectionId
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/RestResponse"
        "204":
          description: No Content
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      summary: Removes classification attributes from a profile
      tags:
        - Profile
    get:
      deprecated: true
      operationId: getClassificationAttributesFromProfileUsingGET
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey or readOnlyKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: The profile associated with the classification attributes
          in: query
          name: profileId
          required: true
          schema:
            type: string
        - description: The collection that contains the profile
          in: query
          name: collectionId
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/RestResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Gets classification attributes from a profile
      tags:
        - Profile
    put:
      deprecated: true
      operationId: mapClassificationAttributesToProfileUsingPUT
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: The profile associated with the classification attributes
          in: query
          name: profileId
          required: true
          schema:
            type: string
        - description: The collection that contains the profile
          in: query
          name: collectionId
          required: true
          schema:
            type: string
        - description: Comma separated key:value classification attributes
          in: query
          name: classificationAttributes
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            "*/*":
              schema:
                $ref: "#/components/schemas/RestResponse"
        "201":
          description: Created
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Maps classification attributes to a profile
      tags:
        - Profile
  /rest/v1.1/profile/enrollmentStatus:
    get:
      operationId: getProfileEnrollmentStatusUsingGET
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey or readOnlyKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: The profile that contains the faces
          in: query
          name: profileId
          required: true
          schema:
            type: string
        - description: The collection that contains the profile
          in: query
          name: collectionId
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: "Gets the enrollment status of a profile: information on whether it is
        suitable for authentication."
      tags:
        - Profile
  /rest/v1.1/profile/map:
    delete:
      operationId: removeFacesFromProfileUsingDELETE
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: Comma separated face hashes, that will be removed from a profile
          in: query
          name: faceHashes
          required: true
          schema:
            type: string
        - description: The profile that contains the face
          in: query
          name: profileId
          required: true
          schema:
            type: string
        - description: The collection that contains the profile
          in: query
          name: collectionId
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "204":
          description: No Content
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      summary: Removes (unmaps) a list of faces, identified by faceHashes, from a
        profile, identified by profileId
      tags:
        - Profile
    get:
      operationId: getFacesFromProfileUsingGET
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey or readOnlyKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: The profile that contains the faces
          in: query
          name: profileId
          required: true
          schema:
            type: string
        - description: The collection that contains the profile
          in: query
          name: collectionId
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Gets all the faceHashes associated to a profile
      tags:
        - Profile
    post:
      operationId: mapFacesToProfileUsingPOST
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: Comma separated face hashes, that will be associated to a profile
          in: query
          name: faceHashes
          required: true
          schema:
            type: string
        - description: The profile that will store the face
          in: query
          name: profileId
          required: true
          schema:
            type: string
        - description: The collection that contains the profile
          in: query
          name: collectionId
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "201":
          description: Created
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Adds (maps) a list of faces, identified by faceHashes, to a profile,
        identified by profileId
      tags:
        - Profile
  /rest/v1.1/profile/profile:
    delete:
      deprecated: true
      operationId: deleteProfile2UsingDELETE
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: Uniquely identified collection that can store multiple profiles
          in: query
          name: collectionId
          required: true
          schema:
            type: string
        - description: The profile id (provide this if you don't have the externalId
          in: query
          name: profileId
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "204":
          description: No Content
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      summary: Deletes a profile and unmaps all its faces
      tags:
        - Profile
    post:
      operationId: addProfileUsingPOST
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: Uniquely identified collection that can store multiple profiles
          in: query
          name: collectionId
          required: true
          schema:
            type: string
        - description: External reference to additional information you dont want to share
            with VisageCloud
          in: query
          name: externalId
          required: false
          schema:
            type: string
        - description: Human-readable label for the profile
          in: query
          name: screenName
          required: false
          schema:
            type: string
        - description: Allows you to do finer filtering in face recognition
          in: query
          name: labels
          required: false
          explode: true
          schema:
            type: array
            items:
              type: string
        - description: Comma separated key:value classification attributes
          in: query
          name: classificationAttributes
          required: false
          schema:
            type: string
        - description: Comma separated key:value details of profile
          in: query
          name: details
          required: false
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "201":
          description: Created
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Creates a new profile with no faces associated to it (empty profile)
      tags:
        - Profile
  "/rest/v1.1/profile/{id}":
    delete:
      operationId: deleteProfileUsingDELETE
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: Uniquely identified collection that can store multiple profiles
          in: query
          name: collectionId
          required: true
          schema:
            type: string
        - description: The profile id (provide this if you don't have the externalId
          in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "204":
          description: No Content
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      summary: Deletes a profile and unmaps all its faces
      tags:
        - Profile
    get:
      operationId: getProfileUsingGET
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey or readOnlyKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: Uniquely identified collection that can store multiple profiles
          in: query
          name: collectionId
          required: true
          schema:
            type: string
        - description: Retrieves the profile with all its associated faces
          in: query
          name: withFaces
          required: false
          schema:
            type: string
            default: "false"
        - description: The profile id (provide this if you don't have the externalId
          in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Retrieves a profile
      tags:
        - Profile
    patch:
      operationId: updateProfileUsingPATCH
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey or readOnlyKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: The id of the profile that will be updated
          in: path
          name: id
          required: true
          schema:
            type: string
        - description: Uniquely identified collection that can store multiple profiles
          in: query
          name: collectionId
          required: true
          schema:
            type: string
        - description: External reference to additional information you dont want to share
            with VisageCloud
          in: query
          name: externalId
          required: false
          schema:
            type: string
        - description: Human-readable label for the profile
          in: query
          name: screenName
          required: false
          schema:
            type: string
        - description: Allows you to do finer filtering in face recognition
          in: query
          name: labels
          required: false
          explode: true
          schema:
            type: array
            items:
              type: string
        - description: Comma separated key:value classification attributes
          in: query
          name: classificationAttributes
          required: false
          schema:
            type: string
        - description: Comma separated key:value details of profile
          in: query
          name: details
          required: false
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "204":
          description: No Content
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      summary: Update an existing profile with a given id
      tags:
        - Profile
  /rest/v1.1/stream/all:
    get:
      operationId: streamsByAccountUsingGET
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey or readOnlyKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Show status of all streams from account
      tags:
        - Stream
  /rest/v1.1/stream/attendance:
    get:
      operationId: getLastNAttedanceUsingGET
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey or readOnlyKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: The id of the stream for which the frames will be retrieved
          in: query
          name: streamIds
          required: false
          explode: true
          schema:
            type: array
            items:
              type: string
        - description: How many frames to retrieve at a time
          in: query
          name: count
          required: false
          schema:
            type: integer
            format: int32
            default: 10
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Get last N recognized individuals from stream
      tags:
        - Stream
  /rest/v1.1/stream/cleanup:
    patch:
      operationId: cleanupStreamUsingPATCH
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: The id of the stream that will be stopped
          in: query
          name: streamId
          required: true
          schema:
            type: string
        - description: Frames older than interval (seconds) will be cleaned up
          in: query
          name: interval
          required: true
          schema:
            type: integer
            format: int32
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "204":
          description: No Content
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      summary: Cleanup frames older than specified timeframe
      tags:
        - Stream
  /rest/v1.1/stream/frameImage:
    get:
      operationId: getFrameImageUsingGET
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey or readOnlyKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: The id of the stream for which the frames will be retrieved
          in: query
          name: streamId
          required: true
          schema:
            type: string
        - description: Timestamp of frame to retrieve
          in: query
          name: timestamp
          required: true
          schema:
            type: integer
            format: int64
      responses:
        "200":
          description: OK
          content:
            image/jpeg:
              schema:
                items:
                  format: byte
                  type: string
                type: array
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Get individual frame image
      tags:
        - Stream
  /rest/v1.1/stream/frames:
    get:
      operationId: getLastNFramesUsingGET
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey or readOnlyKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: The id of the stream for which the frames will be retrieved
          in: query
          name: streamId
          required: true
          schema:
            type: string
        - description: How many frames to retrieve at a time
          in: query
          name: count
          required: false
          schema:
            type: integer
            format: int32
            default: 10
        - description: The collection id you want to run recognition against
          in: query
          name: collectionId
          required: false
          schema:
            type: string
        - description: Labels associated with the given picture or picture URL
          in: query
          name: labels
          required: false
          explode: true
          schema:
            type: array
            items:
              type: string
        - description: Filters that will be applied on the recognition operation
          in: query
          name: attributeFilters
          required: false
          explode: true
          schema:
            type: array
            items:
              enum:
                - NO_FILTER
                - GENDER_FILTER
                - AGE_GROUP_FILTER
              type: string
            enum:
              - NO_FILTER
              - GENDER_FILTER
              - AGE_GROUP_FILTER
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Get last processed N frames from stream
      tags:
        - Stream
  /rest/v1.1/stream/start:
    patch:
      operationId: startStreamUsingPATCH
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: The id of the stream that will be started
          in: query
          name: streamId
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "204":
          description: No Content
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      summary: Start existing stream
      tags:
        - Stream
  /rest/v1.1/stream/stop:
    patch:
      operationId: stopStreamUsingPATCH
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: The id of the stream that will be stopped
          in: query
          name: streamId
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "204":
          description: No Content
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      summary: Stop existing stream
      tags:
        - Stream
  /rest/v1.1/stream/stream:
    post:
      operationId: addStreamUsingPOST
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: The name of the stream that will be created
          in: query
          name: name
          required: true
          schema:
            type: string
        - description: The url of the stream
          in: query
          name: url
          required: true
          schema:
            type: string
        - description: Streaming method
          in: query
          name: method
          required: false
          schema:
            type: string
            enum:
              - WEBRTC_PULL
              - WEBRTC_PUSH
              - INGESTION_ENDPOINT
            default: WEBRTC_PUSH
        - description: Username
          in: query
          name: username
          required: false
          schema:
            type: string
        - description: Password
          in: query
          name: password
          required: false
          schema:
            type: string
        - description: Boolean value indicating whether you want the original picture to be
            stored for later retrieval
          in: query
          name: skipFramesWithNoFaces
          required: false
          schema:
            type: boolean
            default: true
        - description: Number of seconds for frames to be kept. Default is 605000s (7 days)
          in: query
          name: retentionTime
          required: false
          schema:
            type: integer
            format: int32
            default: 605000
        - description: Boolean value indicating whether you want the original picture to be
            stored for later retrieval
          in: query
          name: storeOriginalFrames
          required: false
          schema:
            type: boolean
            default: false
        - description: Boolean value indicating whether you want to store permanently store
            faces clippings of the recognized faces
          in: query
          name: storeAttendanceFaces
          required: false
          schema:
            type: boolean
            default: false
        - description: Boolean value indicating whether you want to store permanently store
            frames with a recognized face in them
          in: query
          name: storeAttendanceFrames
          required: false
          schema:
            type: boolean
            default: false
        - description: Boolean value indicating whether the stream is currently active or
            not
          in: query
          name: isActive
          required: false
          schema:
            type: boolean
            default: false
        - description: List of collection ids which will be used to measure attendance
          in: query
          name: associatedCollections
          required: false
          explode: true
          schema:
            type: array
            items:
              type: string
        - description: Attributes of the stream
          in: query
          name: attributes
          required: false
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "201":
          description: Created
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Create new stream with given name
      tags:
        - Stream
  "/rest/v1.1/stream/{id}":
    delete:
      operationId: removeStreamUsingDELETE
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: The id of the stream that will be removed
          in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "204":
          description: No Content
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      summary: Delete existing stream
      tags:
        - Stream
  "/rest/v1.1/stream/{streamId}":
    get:
      operationId: getStreamUsingGET
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: The id of the stream for which the data will be retrieved
          in: path
          name: streamId
          required: true
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
        "404":
          description: Not Found
      summary: Get an existing stream with a given ID
      tags:
        - Stream
    patch:
      operationId: updateStreamUsingPATCH
      parameters:
        - description: The accessKey provided by VisageCloud
          in: query
          name: accessKey
          required: true
          schema:
            type: string
        - description: The secretKey provided by VisageCloud
          in: query
          name: secretKey
          required: true
          schema:
            type: string
        - description: The id of the stream that will be updated
          in: path
          name: streamId
          required: true
          schema:
            type: string
        - description: The name of the stream that will be updated
          in: query
          name: name
          required: false
          schema:
            type: string
        - description: The url of the stream
          in: query
          name: url
          required: false
          schema:
            type: string
        - description: Streaming method
          in: query
          name: method
          required: false
          schema:
            type: string
            enum:
              - WEBRTC_PULL
              - WEBRTC_PUSH
              - INGESTION_ENDPOINT
        - description: Username
          in: query
          name: username
          required: false
          schema:
            type: string
        - description: Password
          in: query
          name: password
          required: false
          schema:
            type: string
        - description: Boolean value indicating whether you want the original picture to be
            stored for later retrieval
          in: query
          name: skipFramesWithNoFaces
          required: false
          schema:
            type: boolean
        - description: Number of seconds for frames to be kept
          in: query
          name: retentionTime
          required: false
          schema:
            type: integer
            format: int32
        - description: Boolean value indicating whether you want the original picture to be
            stored for later retrieval
          in: query
          name: storeOriginalFrames
          required: false
          schema:
            type: boolean
        - description: Boolean value indicating whether you want to store permanently store
            faces clippings of the recognized faces
          in: query
          name: storeAttendanceFaces
          required: false
          schema:
            type: boolean
        - description: Boolean value indicating whether you want to store permanently store
            frames with a recognized face in them
          in: query
          name: storeAttendanceFrames
          required: false
          schema:
            type: boolean
        - description: Boolean value indicating whether the stream is currently active or
            not
          in: query
          name: isActive
          required: false
          schema:
            type: boolean
        - description: List of collection ids which will be used to measure attendance
          in: query
          name: associatedCollections
          required: false
          explode: true
          schema:
            type: array
            items:
              type: string
        - description: Attributes of the stream
          in: query
          name: attributes
          required: false
          schema:
            type: string
      responses:
        "200":
          description: OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestResponse"
        "204":
          description: No Content
        "401":
          description: Unauthorized
        "403":
          description: Forbidden
      summary: Update an existing stream with a given ID
      tags:
        - Stream
servers:
  - url: https://visagecloud.com/
components:
  schemas:
    RestResponse:
      properties:
        message:
          type: string
        payload:
          type: object
        status:
          type: string
      type: object
    StreamingResponseBody:
      type: object
