openapi: 3.0.0
info:
  version: 2017-04-28
  x-release: v4
  title: AWS CloudHSM V2
  description: For more information about AWS CloudHSM, see <a
    href="http://aws.amazon.com/cloudhsm/">AWS CloudHSM</a> and the <a
    href="http://docs.aws.amazon.com/cloudhsm/latest/userguide/">AWS CloudHSM
    User Guide</a>.
  x-logo:
    url: https://twitter.com/awscloud/profile_image?size=original
    backgroundColor: "#FFFFFF"
  termsOfService: https://aws.amazon.com/service-terms/
  contact:
    name: Mike Ralphson
    email: mike.ralphson@gmail.com
    url: https://github.com/mermade/aws2openapi
    x-twitter: PermittedSoc
  license:
    name: Apache 2.0 License
    url: http://www.apache.org/licenses/
  x-providerName: amazonaws.com
  x-serviceName: cloudhsmv2
  x-origin:
    - contentType: application/json
      url: https://raw.githubusercontent.com/aws/aws-sdk-js/master/apis/cloudhsmv2-2017-04-28.normal.json
      converter:
        url: https://github.com/mermade/aws2openapi
        version: 1.0.0
      x-apisguru-direct: true
  x-apiClientRegistration:
    url: https://portal.aws.amazon.com/gp/aws/developer/registration/index.html?nc2=h_ct
  x-apisguru-categories:
    - cloud
  x-preferred: true
externalDocs:
  description: Amazon Web Services documentation
  url: https://docs.aws.amazon.com/cloudhsmv2/
x-hasEquivalentPaths: true
security:
  - hmac: []
paths:
  /#X-Amz-Target=BaldrApiService.CopyBackupToRegion:
    post:
      operationId: CopyBackupToRegion
      description: Copy an AWS CloudHSM cluster backup to a different region.
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CopyBackupToRegionResponse"
        "480":
          description: CloudHsmInternalFailureException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmInternalFailureException"
        "481":
          description: CloudHsmServiceException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmServiceException"
        "482":
          description: CloudHsmResourceNotFoundException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmResourceNotFoundException"
        "483":
          description: CloudHsmInvalidRequestException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmInvalidRequestException"
        "484":
          description: CloudHsmAccessDeniedException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmAccessDeniedException"
      parameters:
        - name: X-Amz-Target
          in: header
          required: true
          schema:
            type: string
            enum:
              - BaldrApiService.CopyBackupToRegion
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CopyBackupToRegionRequest"
        required: true
    parameters:
      - $ref: "#/components/parameters/X-Amz-Content-Sha256"
      - $ref: "#/components/parameters/X-Amz-Date"
      - $ref: "#/components/parameters/X-Amz-Algorithm"
      - $ref: "#/components/parameters/X-Amz-Credential"
      - $ref: "#/components/parameters/X-Amz-Security-Token"
      - $ref: "#/components/parameters/X-Amz-Signature"
      - $ref: "#/components/parameters/X-Amz-SignedHeaders"
  /#X-Amz-Target=BaldrApiService.CreateCluster:
    post:
      operationId: CreateCluster
      description: Creates a new AWS CloudHSM cluster.
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CreateClusterResponse"
        "480":
          description: CloudHsmInternalFailureException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmInternalFailureException"
        "481":
          description: CloudHsmServiceException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmServiceException"
        "482":
          description: CloudHsmResourceNotFoundException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmResourceNotFoundException"
        "483":
          description: CloudHsmInvalidRequestException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmInvalidRequestException"
        "484":
          description: CloudHsmAccessDeniedException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmAccessDeniedException"
      parameters:
        - name: X-Amz-Target
          in: header
          required: true
          schema:
            type: string
            enum:
              - BaldrApiService.CreateCluster
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateClusterRequest"
        required: true
    parameters:
      - $ref: "#/components/parameters/X-Amz-Content-Sha256"
      - $ref: "#/components/parameters/X-Amz-Date"
      - $ref: "#/components/parameters/X-Amz-Algorithm"
      - $ref: "#/components/parameters/X-Amz-Credential"
      - $ref: "#/components/parameters/X-Amz-Security-Token"
      - $ref: "#/components/parameters/X-Amz-Signature"
      - $ref: "#/components/parameters/X-Amz-SignedHeaders"
  /#X-Amz-Target=BaldrApiService.CreateHsm:
    post:
      operationId: CreateHsm
      description: Creates a new hardware security module (HSM) in the specified AWS
        CloudHSM cluster.
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CreateHsmResponse"
        "480":
          description: CloudHsmInternalFailureException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmInternalFailureException"
        "481":
          description: CloudHsmServiceException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmServiceException"
        "482":
          description: CloudHsmInvalidRequestException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmInvalidRequestException"
        "483":
          description: CloudHsmResourceNotFoundException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmResourceNotFoundException"
        "484":
          description: CloudHsmAccessDeniedException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmAccessDeniedException"
      parameters:
        - name: X-Amz-Target
          in: header
          required: true
          schema:
            type: string
            enum:
              - BaldrApiService.CreateHsm
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateHsmRequest"
        required: true
    parameters:
      - $ref: "#/components/parameters/X-Amz-Content-Sha256"
      - $ref: "#/components/parameters/X-Amz-Date"
      - $ref: "#/components/parameters/X-Amz-Algorithm"
      - $ref: "#/components/parameters/X-Amz-Credential"
      - $ref: "#/components/parameters/X-Amz-Security-Token"
      - $ref: "#/components/parameters/X-Amz-Signature"
      - $ref: "#/components/parameters/X-Amz-SignedHeaders"
  /#X-Amz-Target=BaldrApiService.DeleteBackup:
    post:
      operationId: DeleteBackup
      description: "Deletes a specified AWS CloudHSM backup. A backup can be restored up to
        7 days after the DeleteBackup request. For more information on restoring
        a backup, see <a>RestoreBackup</a> "
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DeleteBackupResponse"
        "480":
          description: CloudHsmInternalFailureException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmInternalFailureException"
        "481":
          description: CloudHsmServiceException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmServiceException"
        "482":
          description: CloudHsmResourceNotFoundException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmResourceNotFoundException"
        "483":
          description: CloudHsmInvalidRequestException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmInvalidRequestException"
        "484":
          description: CloudHsmAccessDeniedException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmAccessDeniedException"
      parameters:
        - name: X-Amz-Target
          in: header
          required: true
          schema:
            type: string
            enum:
              - BaldrApiService.DeleteBackup
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DeleteBackupRequest"
        required: true
    parameters:
      - $ref: "#/components/parameters/X-Amz-Content-Sha256"
      - $ref: "#/components/parameters/X-Amz-Date"
      - $ref: "#/components/parameters/X-Amz-Algorithm"
      - $ref: "#/components/parameters/X-Amz-Credential"
      - $ref: "#/components/parameters/X-Amz-Security-Token"
      - $ref: "#/components/parameters/X-Amz-Signature"
      - $ref: "#/components/parameters/X-Amz-SignedHeaders"
  /#X-Amz-Target=BaldrApiService.DeleteCluster:
    post:
      operationId: DeleteCluster
      description: Deletes the specified AWS CloudHSM cluster. Before you can delete a
        cluster, you must delete all HSMs in the cluster. To see if the cluster
        contains any HSMs, use <a>DescribeClusters</a>. To delete an HSM, use
        <a>DeleteHsm</a>.
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DeleteClusterResponse"
        "480":
          description: CloudHsmInternalFailureException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmInternalFailureException"
        "481":
          description: CloudHsmServiceException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmServiceException"
        "482":
          description: CloudHsmResourceNotFoundException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmResourceNotFoundException"
        "483":
          description: CloudHsmInvalidRequestException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmInvalidRequestException"
        "484":
          description: CloudHsmAccessDeniedException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmAccessDeniedException"
      parameters:
        - name: X-Amz-Target
          in: header
          required: true
          schema:
            type: string
            enum:
              - BaldrApiService.DeleteCluster
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DeleteClusterRequest"
        required: true
    parameters:
      - $ref: "#/components/parameters/X-Amz-Content-Sha256"
      - $ref: "#/components/parameters/X-Amz-Date"
      - $ref: "#/components/parameters/X-Amz-Algorithm"
      - $ref: "#/components/parameters/X-Amz-Credential"
      - $ref: "#/components/parameters/X-Amz-Security-Token"
      - $ref: "#/components/parameters/X-Amz-Signature"
      - $ref: "#/components/parameters/X-Amz-SignedHeaders"
  /#X-Amz-Target=BaldrApiService.DeleteHsm:
    post:
      operationId: DeleteHsm
      description: Deletes the specified HSM. To specify an HSM, you can use its identifier
        (ID), the IP address of the HSM's elastic network interface (ENI), or
        the ID of the HSM's ENI. You need to specify only one of these values.
        To find these values, use <a>DescribeClusters</a>.
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DeleteHsmResponse"
        "480":
          description: CloudHsmInternalFailureException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmInternalFailureException"
        "481":
          description: CloudHsmServiceException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmServiceException"
        "482":
          description: CloudHsmResourceNotFoundException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmResourceNotFoundException"
        "483":
          description: CloudHsmInvalidRequestException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmInvalidRequestException"
        "484":
          description: CloudHsmAccessDeniedException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmAccessDeniedException"
      parameters:
        - name: X-Amz-Target
          in: header
          required: true
          schema:
            type: string
            enum:
              - BaldrApiService.DeleteHsm
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DeleteHsmRequest"
        required: true
    parameters:
      - $ref: "#/components/parameters/X-Amz-Content-Sha256"
      - $ref: "#/components/parameters/X-Amz-Date"
      - $ref: "#/components/parameters/X-Amz-Algorithm"
      - $ref: "#/components/parameters/X-Amz-Credential"
      - $ref: "#/components/parameters/X-Amz-Security-Token"
      - $ref: "#/components/parameters/X-Amz-Signature"
      - $ref: "#/components/parameters/X-Amz-SignedHeaders"
  /#X-Amz-Target=BaldrApiService.DescribeBackups:
    post:
      operationId: DescribeBackups
      description: <p>Gets information about backups of AWS CloudHSM clusters.</p> <p>This
        is a paginated operation, which means that each response might contain
        only a subset of all the backups. When the response contains only a
        subset of backups, it includes a <code>NextToken</code> value. Use this
        value in a subsequent <code>DescribeBackups</code> request to get more
        backups. When you receive a response with no <code>NextToken</code> (or
        an empty or null value), that means there are no more backups to
        get.</p>
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DescribeBackupsResponse"
        "480":
          description: CloudHsmInternalFailureException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmInternalFailureException"
        "481":
          description: CloudHsmServiceException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmServiceException"
        "482":
          description: CloudHsmResourceNotFoundException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmResourceNotFoundException"
        "483":
          description: CloudHsmInvalidRequestException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmInvalidRequestException"
        "484":
          description: CloudHsmAccessDeniedException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmAccessDeniedException"
      parameters:
        - name: MaxResults
          in: query
          description: Pagination limit
          required: false
          schema:
            type: string
        - name: NextToken
          in: query
          description: Pagination token
          required: false
          schema:
            type: string
        - name: X-Amz-Target
          in: header
          required: true
          schema:
            type: string
            enum:
              - BaldrApiService.DescribeBackups
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DescribeBackupsRequest"
        required: true
    parameters:
      - $ref: "#/components/parameters/X-Amz-Content-Sha256"
      - $ref: "#/components/parameters/X-Amz-Date"
      - $ref: "#/components/parameters/X-Amz-Algorithm"
      - $ref: "#/components/parameters/X-Amz-Credential"
      - $ref: "#/components/parameters/X-Amz-Security-Token"
      - $ref: "#/components/parameters/X-Amz-Signature"
      - $ref: "#/components/parameters/X-Amz-SignedHeaders"
  /#X-Amz-Target=BaldrApiService.DescribeClusters:
    post:
      operationId: DescribeClusters
      description: <p>Gets information about AWS CloudHSM clusters.</p> <p>This is a
        paginated operation, which means that each response might contain only a
        subset of all the clusters. When the response contains only a subset of
        clusters, it includes a <code>NextToken</code> value. Use this value in
        a subsequent <code>DescribeClusters</code> request to get more clusters.
        When you receive a response with no <code>NextToken</code> (or an empty
        or null value), that means there are no more clusters to get.</p>
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DescribeClustersResponse"
        "480":
          description: CloudHsmInternalFailureException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmInternalFailureException"
        "481":
          description: CloudHsmServiceException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmServiceException"
        "482":
          description: CloudHsmInvalidRequestException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmInvalidRequestException"
        "483":
          description: CloudHsmAccessDeniedException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmAccessDeniedException"
      parameters:
        - name: MaxResults
          in: query
          description: Pagination limit
          required: false
          schema:
            type: string
        - name: NextToken
          in: query
          description: Pagination token
          required: false
          schema:
            type: string
        - name: X-Amz-Target
          in: header
          required: true
          schema:
            type: string
            enum:
              - BaldrApiService.DescribeClusters
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DescribeClustersRequest"
        required: true
    parameters:
      - $ref: "#/components/parameters/X-Amz-Content-Sha256"
      - $ref: "#/components/parameters/X-Amz-Date"
      - $ref: "#/components/parameters/X-Amz-Algorithm"
      - $ref: "#/components/parameters/X-Amz-Credential"
      - $ref: "#/components/parameters/X-Amz-Security-Token"
      - $ref: "#/components/parameters/X-Amz-Signature"
      - $ref: "#/components/parameters/X-Amz-SignedHeaders"
  /#X-Amz-Target=BaldrApiService.InitializeCluster:
    post:
      operationId: InitializeCluster
      description: Claims an AWS CloudHSM cluster by submitting the cluster certificate
        issued by your issuing certificate authority (CA) and the CA's root
        certificate. Before you can claim a cluster, you must sign the cluster's
        certificate signing request (CSR) with your issuing CA. To get the
        cluster's CSR, use <a>DescribeClusters</a>.
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InitializeClusterResponse"
        "480":
          description: CloudHsmInternalFailureException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmInternalFailureException"
        "481":
          description: CloudHsmServiceException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmServiceException"
        "482":
          description: CloudHsmResourceNotFoundException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmResourceNotFoundException"
        "483":
          description: CloudHsmInvalidRequestException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmInvalidRequestException"
        "484":
          description: CloudHsmAccessDeniedException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmAccessDeniedException"
      parameters:
        - name: X-Amz-Target
          in: header
          required: true
          schema:
            type: string
            enum:
              - BaldrApiService.InitializeCluster
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/InitializeClusterRequest"
        required: true
    parameters:
      - $ref: "#/components/parameters/X-Amz-Content-Sha256"
      - $ref: "#/components/parameters/X-Amz-Date"
      - $ref: "#/components/parameters/X-Amz-Algorithm"
      - $ref: "#/components/parameters/X-Amz-Credential"
      - $ref: "#/components/parameters/X-Amz-Security-Token"
      - $ref: "#/components/parameters/X-Amz-Signature"
      - $ref: "#/components/parameters/X-Amz-SignedHeaders"
  /#X-Amz-Target=BaldrApiService.ListTags:
    post:
      operationId: ListTags
      description: <p>Gets a list of tags for the specified AWS CloudHSM cluster.</p>
        <p>This is a paginated operation, which means that each response might
        contain only a subset of all the tags. When the response contains only a
        subset of tags, it includes a <code>NextToken</code> value. Use this
        value in a subsequent <code>ListTags</code> request to get more tags.
        When you receive a response with no <code>NextToken</code> (or an empty
        or null value), that means there are no more tags to get.</p>
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ListTagsResponse"
        "480":
          description: CloudHsmInternalFailureException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmInternalFailureException"
        "481":
          description: CloudHsmServiceException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmServiceException"
        "482":
          description: CloudHsmResourceNotFoundException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmResourceNotFoundException"
        "483":
          description: CloudHsmInvalidRequestException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmInvalidRequestException"
        "484":
          description: CloudHsmAccessDeniedException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmAccessDeniedException"
      parameters:
        - name: MaxResults
          in: query
          description: Pagination limit
          required: false
          schema:
            type: string
        - name: NextToken
          in: query
          description: Pagination token
          required: false
          schema:
            type: string
        - name: X-Amz-Target
          in: header
          required: true
          schema:
            type: string
            enum:
              - BaldrApiService.ListTags
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ListTagsRequest"
        required: true
    parameters:
      - $ref: "#/components/parameters/X-Amz-Content-Sha256"
      - $ref: "#/components/parameters/X-Amz-Date"
      - $ref: "#/components/parameters/X-Amz-Algorithm"
      - $ref: "#/components/parameters/X-Amz-Credential"
      - $ref: "#/components/parameters/X-Amz-Security-Token"
      - $ref: "#/components/parameters/X-Amz-Signature"
      - $ref: "#/components/parameters/X-Amz-SignedHeaders"
  /#X-Amz-Target=BaldrApiService.RestoreBackup:
    post:
      operationId: RestoreBackup
      description: Restores a specified AWS CloudHSM backup that is in the
        <code>PENDING_DELETION</code> state. For more information on deleting a
        backup, see <a>DeleteBackup</a>.
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RestoreBackupResponse"
        "480":
          description: CloudHsmInternalFailureException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmInternalFailureException"
        "481":
          description: CloudHsmServiceException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmServiceException"
        "482":
          description: CloudHsmResourceNotFoundException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmResourceNotFoundException"
        "483":
          description: CloudHsmInvalidRequestException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmInvalidRequestException"
        "484":
          description: CloudHsmAccessDeniedException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmAccessDeniedException"
      parameters:
        - name: X-Amz-Target
          in: header
          required: true
          schema:
            type: string
            enum:
              - BaldrApiService.RestoreBackup
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RestoreBackupRequest"
        required: true
    parameters:
      - $ref: "#/components/parameters/X-Amz-Content-Sha256"
      - $ref: "#/components/parameters/X-Amz-Date"
      - $ref: "#/components/parameters/X-Amz-Algorithm"
      - $ref: "#/components/parameters/X-Amz-Credential"
      - $ref: "#/components/parameters/X-Amz-Security-Token"
      - $ref: "#/components/parameters/X-Amz-Signature"
      - $ref: "#/components/parameters/X-Amz-SignedHeaders"
  /#X-Amz-Target=BaldrApiService.TagResource:
    post:
      operationId: TagResource
      description: Adds or overwrites one or more tags for the specified AWS CloudHSM
        cluster.
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TagResourceResponse"
        "480":
          description: CloudHsmInternalFailureException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmInternalFailureException"
        "481":
          description: CloudHsmServiceException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmServiceException"
        "482":
          description: CloudHsmResourceNotFoundException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmResourceNotFoundException"
        "483":
          description: CloudHsmInvalidRequestException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmInvalidRequestException"
        "484":
          description: CloudHsmAccessDeniedException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmAccessDeniedException"
      parameters:
        - name: X-Amz-Target
          in: header
          required: true
          schema:
            type: string
            enum:
              - BaldrApiService.TagResource
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TagResourceRequest"
        required: true
    parameters:
      - $ref: "#/components/parameters/X-Amz-Content-Sha256"
      - $ref: "#/components/parameters/X-Amz-Date"
      - $ref: "#/components/parameters/X-Amz-Algorithm"
      - $ref: "#/components/parameters/X-Amz-Credential"
      - $ref: "#/components/parameters/X-Amz-Security-Token"
      - $ref: "#/components/parameters/X-Amz-Signature"
      - $ref: "#/components/parameters/X-Amz-SignedHeaders"
  /#X-Amz-Target=BaldrApiService.UntagResource:
    post:
      operationId: UntagResource
      description: Removes the specified tag or tags from the specified AWS CloudHSM
        cluster.
      responses:
        "200":
          description: Success
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UntagResourceResponse"
        "480":
          description: CloudHsmInternalFailureException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmInternalFailureException"
        "481":
          description: CloudHsmServiceException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmServiceException"
        "482":
          description: CloudHsmResourceNotFoundException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmResourceNotFoundException"
        "483":
          description: CloudHsmInvalidRequestException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmInvalidRequestException"
        "484":
          description: CloudHsmAccessDeniedException
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CloudHsmAccessDeniedException"
      parameters:
        - name: X-Amz-Target
          in: header
          required: true
          schema:
            type: string
            enum:
              - BaldrApiService.UntagResource
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UntagResourceRequest"
        required: true
    parameters:
      - $ref: "#/components/parameters/X-Amz-Content-Sha256"
      - $ref: "#/components/parameters/X-Amz-Date"
      - $ref: "#/components/parameters/X-Amz-Algorithm"
      - $ref: "#/components/parameters/X-Amz-Credential"
      - $ref: "#/components/parameters/X-Amz-Security-Token"
      - $ref: "#/components/parameters/X-Amz-Signature"
      - $ref: "#/components/parameters/X-Amz-SignedHeaders"
servers:
  - url: http://cloudhsmv2.{region}.amazonaws.com
    variables:
      region:
        description: The AWS region
        enum:
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
          - us-gov-west-1
          - us-gov-east-1
          - ca-central-1
          - eu-north-1
          - eu-west-1
          - eu-west-2
          - eu-west-3
          - eu-central-1
          - ap-northeast-1
          - ap-northeast-2
          - ap-northeast-3
          - ap-southeast-1
          - ap-southeast-2
          - ap-south-1
          - sa-east-1
        default: us-east-1
    description: The CloudHSM V2 multi-region endpoint
  - url: https://cloudhsmv2.{region}.amazonaws.com
    variables:
      region:
        description: The AWS region
        enum:
          - us-east-1
          - us-east-2
          - us-west-1
          - us-west-2
          - us-gov-west-1
          - us-gov-east-1
          - ca-central-1
          - eu-north-1
          - eu-west-1
          - eu-west-2
          - eu-west-3
          - eu-central-1
          - ap-northeast-1
          - ap-northeast-2
          - ap-northeast-3
          - ap-southeast-1
          - ap-southeast-2
          - ap-south-1
          - sa-east-1
        default: us-east-1
    description: The CloudHSM V2 multi-region endpoint
  - url: http://cloudhsmv2.{region}.amazonaws.com.cn
    variables:
      region:
        description: The AWS region
        enum:
          - cn-north-1
          - cn-northwest-1
        default: cn-north-1
    description: The CloudHSM V2 endpoint for China (Beijing) and China (Ningxia)
  - url: https://cloudhsmv2.{region}.amazonaws.com.cn
    variables:
      region:
        description: The AWS region
        enum:
          - cn-north-1
          - cn-northwest-1
        default: cn-north-1
    description: The CloudHSM V2 endpoint for China (Beijing) and China (Ningxia)
components:
  parameters:
    X-Amz-Content-Sha256:
      name: X-Amz-Content-Sha256
      in: header
      required: false
      schema:
        type: string
    X-Amz-Date:
      name: X-Amz-Date
      in: header
      required: false
      schema:
        type: string
    X-Amz-Algorithm:
      name: X-Amz-Algorithm
      in: header
      required: false
      schema:
        type: string
    X-Amz-Credential:
      name: X-Amz-Credential
      in: header
      required: false
      schema:
        type: string
    X-Amz-Security-Token:
      name: X-Amz-Security-Token
      in: header
      required: false
      schema:
        type: string
    X-Amz-Signature:
      name: X-Amz-Signature
      in: header
      required: false
      schema:
        type: string
    X-Amz-SignedHeaders:
      name: X-Amz-SignedHeaders
      in: header
      required: false
      schema:
        type: string
  securitySchemes:
    hmac:
      type: apiKey
      name: Authorization
      in: header
      description: Amazon Signature authorization v4
      x-amazon-apigateway-authtype: awsSigv4
  schemas:
    CopyBackupToRegionResponse:
      type: object
      properties:
        DestinationBackup:
          $ref: "#/components/schemas/DestinationBackup"
    CopyBackupToRegionRequest:
      type: object
      required:
        - DestinationRegion
        - BackupId
      properties:
        DestinationRegion:
          $ref: "#/components/schemas/Region"
        BackupId:
          $ref: "#/components/schemas/BackupId"
    CloudHsmInternalFailureException: {}
    CloudHsmServiceException: {}
    CloudHsmResourceNotFoundException: {}
    CloudHsmInvalidRequestException: {}
    CloudHsmAccessDeniedException: {}
    CreateClusterResponse:
      type: object
      properties:
        Cluster:
          $ref: "#/components/schemas/Cluster"
    CreateClusterRequest:
      type: object
      required:
        - SubnetIds
        - HsmType
      properties:
        SubnetIds:
          $ref: "#/components/schemas/SubnetIds"
        HsmType:
          $ref: "#/components/schemas/HsmType"
        SourceBackupId:
          $ref: "#/components/schemas/BackupId"
    CreateHsmResponse:
      type: object
      properties:
        Hsm:
          $ref: "#/components/schemas/Hsm"
    CreateHsmRequest:
      type: object
      required:
        - ClusterId
        - AvailabilityZone
      properties:
        ClusterId:
          $ref: "#/components/schemas/ClusterId"
        AvailabilityZone:
          $ref: "#/components/schemas/ExternalAz"
        IpAddress:
          $ref: "#/components/schemas/IpAddress"
    DeleteBackupResponse:
      type: object
      properties:
        Backup:
          $ref: "#/components/schemas/Backup"
    DeleteBackupRequest:
      type: object
      required:
        - BackupId
      properties:
        BackupId:
          $ref: "#/components/schemas/BackupId"
    DeleteClusterResponse:
      type: object
      properties:
        Cluster:
          $ref: "#/components/schemas/Cluster"
    DeleteClusterRequest:
      type: object
      required:
        - ClusterId
      properties:
        ClusterId:
          $ref: "#/components/schemas/ClusterId"
    DeleteHsmResponse:
      type: object
      properties:
        HsmId:
          $ref: "#/components/schemas/HsmId"
    DeleteHsmRequest:
      type: object
      required:
        - ClusterId
      properties:
        ClusterId:
          $ref: "#/components/schemas/ClusterId"
        HsmId:
          $ref: "#/components/schemas/HsmId"
        EniId:
          $ref: "#/components/schemas/EniId"
        EniIp:
          $ref: "#/components/schemas/IpAddress"
    DescribeBackupsResponse:
      type: object
      properties:
        Backups:
          $ref: "#/components/schemas/Backups"
        NextToken:
          $ref: "#/components/schemas/NextToken"
    DescribeBackupsRequest:
      type: object
      properties:
        NextToken:
          $ref: "#/components/schemas/NextToken"
        MaxResults:
          $ref: "#/components/schemas/MaxSize"
        Filters:
          $ref: "#/components/schemas/Filters"
        SortAscending:
          $ref: "#/components/schemas/Boolean"
    DescribeClustersResponse:
      type: object
      properties:
        Clusters:
          $ref: "#/components/schemas/Clusters"
        NextToken:
          $ref: "#/components/schemas/NextToken"
    DescribeClustersRequest:
      type: object
      properties:
        Filters:
          $ref: "#/components/schemas/Filters"
        NextToken:
          $ref: "#/components/schemas/NextToken"
        MaxResults:
          $ref: "#/components/schemas/MaxSize"
    InitializeClusterResponse:
      type: object
      properties:
        State:
          $ref: "#/components/schemas/ClusterState"
        StateMessage:
          $ref: "#/components/schemas/StateMessage"
    InitializeClusterRequest:
      type: object
      required:
        - ClusterId
        - SignedCert
        - TrustAnchor
      properties:
        ClusterId:
          $ref: "#/components/schemas/ClusterId"
        SignedCert:
          $ref: "#/components/schemas/Cert"
        TrustAnchor:
          $ref: "#/components/schemas/Cert"
    ListTagsResponse:
      type: object
      required:
        - TagList
      properties:
        TagList:
          $ref: "#/components/schemas/TagList"
        NextToken:
          $ref: "#/components/schemas/NextToken"
    ListTagsRequest:
      type: object
      required:
        - ResourceId
      properties:
        ResourceId:
          $ref: "#/components/schemas/ClusterId"
        NextToken:
          $ref: "#/components/schemas/NextToken"
        MaxResults:
          $ref: "#/components/schemas/MaxSize"
    RestoreBackupResponse:
      type: object
      properties:
        Backup:
          $ref: "#/components/schemas/Backup"
    RestoreBackupRequest:
      type: object
      required:
        - BackupId
      properties:
        BackupId:
          $ref: "#/components/schemas/BackupId"
    TagResourceResponse:
      type: object
      properties: {}
    TagResourceRequest:
      type: object
      required:
        - ResourceId
        - TagList
      properties:
        ResourceId:
          $ref: "#/components/schemas/ClusterId"
        TagList:
          $ref: "#/components/schemas/TagList"
    UntagResourceResponse:
      type: object
      properties: {}
    UntagResourceRequest:
      type: object
      required:
        - ResourceId
        - TagKeyList
      properties:
        ResourceId:
          $ref: "#/components/schemas/ClusterId"
        TagKeyList:
          $ref: "#/components/schemas/TagKeyList"
    BackupId:
      type: string
      pattern: backup-[2-7a-zA-Z]{11,16}
    BackupState:
      type: string
      enum:
        - CREATE_IN_PROGRESS
        - READY
        - DELETED
        - PENDING_DELETION
    ClusterId:
      type: string
      pattern: cluster-[2-7a-zA-Z]{11,16}
    Timestamp:
      type: string
      format: date-time
    Region:
      type: string
      pattern: "[a-z]{2}(-(gov))?-(east|west|north|south|central){1,2}-\\d"
    Backup:
      type: object
      required:
        - BackupId
      properties:
        BackupId:
          $ref: "#/components/schemas/BackupId"
        BackupState:
          $ref: "#/components/schemas/BackupState"
        ClusterId:
          $ref: "#/components/schemas/ClusterId"
        CreateTimestamp:
          $ref: "#/components/schemas/Timestamp"
        CopyTimestamp:
          $ref: "#/components/schemas/Timestamp"
        SourceRegion:
          $ref: "#/components/schemas/Region"
        SourceBackup:
          $ref: "#/components/schemas/BackupId"
        SourceCluster:
          $ref: "#/components/schemas/ClusterId"
        DeleteTimestamp:
          $ref: "#/components/schemas/Timestamp"
      description: Contains information about a backup of an AWS CloudHSM cluster.
    BackupPolicy:
      type: string
      enum:
        - DEFAULT
    Backups:
      type: array
      items:
        $ref: "#/components/schemas/Backup"
    Boolean:
      type: boolean
    Cert:
      type: string
      pattern: "[a-zA-Z0-9+-/=\\s]*"
      maxLength: 5000
    Certificates:
      type: object
      properties:
        ClusterCsr:
          $ref: "#/components/schemas/Cert"
        HsmCertificate:
          $ref: "#/components/schemas/Cert"
        AwsHardwareCertificate:
          $ref: "#/components/schemas/Cert"
        ManufacturerHardwareCertificate:
          $ref: "#/components/schemas/Cert"
        ClusterCertificate:
          $ref: "#/components/schemas/Cert"
      description: Contains one or more certificates or a certificate signing request (CSR).
    Hsms:
      type: array
      items:
        $ref: "#/components/schemas/Hsm"
    HsmType:
      type: string
      pattern: (hsm1\.medium)
    PreCoPassword:
      type: string
      minLength: 7
      maxLength: 32
    SecurityGroup:
      type: string
      pattern: sg-[0-9a-fA-F]
    ClusterState:
      type: string
      enum:
        - CREATE_IN_PROGRESS
        - UNINITIALIZED
        - INITIALIZE_IN_PROGRESS
        - INITIALIZED
        - ACTIVE
        - UPDATE_IN_PROGRESS
        - DELETE_IN_PROGRESS
        - DELETED
        - DEGRADED
    StateMessage:
      type: string
      pattern: .*
      maxLength: 300
    ExternalSubnetMapping:
      type: object
      additionalProperties:
        $ref: "#/components/schemas/SubnetId"
    VpcId:
      type: string
      pattern: vpc-[0-9a-fA-F]
    Cluster:
      type: object
      properties:
        BackupPolicy:
          $ref: "#/components/schemas/BackupPolicy"
        ClusterId:
          $ref: "#/components/schemas/ClusterId"
        CreateTimestamp:
          $ref: "#/components/schemas/Timestamp"
        Hsms:
          $ref: "#/components/schemas/Hsms"
        HsmType:
          $ref: "#/components/schemas/HsmType"
        PreCoPassword:
          $ref: "#/components/schemas/PreCoPassword"
        SecurityGroup:
          $ref: "#/components/schemas/SecurityGroup"
        SourceBackupId:
          $ref: "#/components/schemas/BackupId"
        State:
          $ref: "#/components/schemas/ClusterState"
        StateMessage:
          $ref: "#/components/schemas/StateMessage"
        SubnetMapping:
          $ref: "#/components/schemas/ExternalSubnetMapping"
        VpcId:
          $ref: "#/components/schemas/VpcId"
        Certificates:
          $ref: "#/components/schemas/Certificates"
      description: Contains information about an AWS CloudHSM cluster.
    Clusters:
      type: array
      items:
        $ref: "#/components/schemas/Cluster"
    DestinationBackup:
      type: object
      properties:
        CreateTimestamp:
          $ref: "#/components/schemas/Timestamp"
        SourceRegion:
          $ref: "#/components/schemas/Region"
        SourceBackup:
          $ref: "#/components/schemas/BackupId"
        SourceCluster:
          $ref: "#/components/schemas/ClusterId"
    SubnetIds:
      type: array
      items:
        $ref: "#/components/schemas/SubnetId"
      minItems: 1
      maxItems: 10
    ExternalAz:
      type: string
      pattern: "[a-z]{2}(-(gov))?-(east|west|north|south|central){1,2}-\\d[a-z]"
    IpAddress:
      type: string
      pattern: \d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}
    Hsm:
      type: object
      required:
        - HsmId
      properties:
        AvailabilityZone:
          $ref: "#/components/schemas/ExternalAz"
        ClusterId:
          $ref: "#/components/schemas/ClusterId"
        SubnetId:
          $ref: "#/components/schemas/SubnetId"
        EniId:
          $ref: "#/components/schemas/EniId"
        EniIp:
          $ref: "#/components/schemas/IpAddress"
        HsmId:
          $ref: "#/components/schemas/HsmId"
        State:
          $ref: "#/components/schemas/HsmState"
        StateMessage:
          $ref: "#/components/schemas/String"
      description: Contains information about a hardware security module (HSM) in an AWS
        CloudHSM cluster.
    HsmId:
      type: string
      pattern: hsm-[2-7a-zA-Z]{11,16}
    EniId:
      type: string
      pattern: eni-[0-9a-fA-F]{8,17}
    NextToken:
      type: string
      pattern: .*
      maxLength: 256
    MaxSize:
      type: integer
      minimum: 1
      maximum: 100
    Filters:
      type: object
      additionalProperties:
        $ref: "#/components/schemas/Strings"
    SubnetId:
      type: string
      pattern: subnet-[0-9a-fA-F]{8,17}
    Field:
      type: string
      pattern: "[a-zA-Z0-9_-]+"
    Strings:
      type: array
      items:
        $ref: "#/components/schemas/String"
    HsmState:
      type: string
      enum:
        - CREATE_IN_PROGRESS
        - ACTIVE
        - DEGRADED
        - DELETE_IN_PROGRESS
        - DELETED
    String:
      type: string
    TagList:
      type: array
      items:
        $ref: "#/components/schemas/Tag"
      minItems: 1
      maxItems: 50
    TagKey:
      type: string
      pattern: ^([\p{L}\p{Z}\p{N}_.:/=+\-@]*)$
      minLength: 1
      maxLength: 128
    TagValue:
      type: string
      pattern: ^([\p{L}\p{Z}\p{N}_.:/=+\-@]*)$
      minLength: 0
      maxLength: 256
    Tag:
      type: object
      required:
        - Key
        - Value
      properties:
        Key:
          $ref: "#/components/schemas/TagKey"
        Value:
          $ref: "#/components/schemas/TagValue"
      description: Contains a tag. A tag is a key-value pair.
    TagKeyList:
      type: array
      items:
        $ref: "#/components/schemas/TagKey"
      minItems: 1
      maxItems: 50
