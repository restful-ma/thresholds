openapi: 3.0.0
x-hasEquivalentPaths: true
info:
  description: ARM applications
  title: ApplicationClient
  version: 2017-09-01
  x-apisguru-categories:
    - cloud
  x-logo:
    url: https://assets.onestore.ms/cdnfiles/onestorerolling-1606-01000/shell/v3/images/logo/microsoft.png
  x-origin:
    - format: swagger
      url: https://raw.githubusercontent.com/Azure/azure-rest-api-specs/master/specification/resources/resource-manager/Microsoft.Solutions/stable/2017-09-01/managedapplications.json
      version: "2.0"
  x-preferred: false
  x-providerName: azure.com
  x-serviceName: resources-managedapplications
  x-tags:
    - Azure
    - Microsoft
security:
  - azure_auth:
      - user_impersonation
paths:
  "/subscriptions/{subscriptionId}/providers/Microsoft.Solutions/applications":
    get:
      description: Gets all the applications within a subscription.
      operationId: Applications_ListBySubscription
      parameters:
        - $ref: "#/components/parameters/ApiVersionParameter"
        - $ref: "#/components/parameters/SubscriptionIdParameter"
      responses:
        "200":
          description: OK - Returns an array of applications.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApplicationListResult"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Applications
      x-ms-pageable:
        nextLinkName: nextLink
  "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Solutions/applicationDefinitions":
    get:
      description: Lists the managed application definitions in a resource group.
      operationId: ApplicationDefinitions_ListByResourceGroup
      parameters:
        - description: The name of the resource group. The name is case insensitive.
          in: path
          name: resourceGroupName
          required: true
          schema:
            type: string
            minLength: 1
            maxLength: 90
            pattern: ^[-\w\._\(\)]+$
          examples:
            List managed application definitions:
              value: rg
        - $ref: "#/components/parameters/ApiVersionParameter"
        - $ref: "#/components/parameters/SubscriptionIdParameter"
      responses:
        "200":
          description: OK - Returns an array of managed application definitions.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApplicationDefinitionListResult"
              examples:
                List managed application definitions:
                  $ref: "#/components/examples/List_managed_application_definitions"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - ApplicationDefinitions
      x-ms-pageable:
        nextLinkName: nextLink
  "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Solutions/applicationDefinitions/{applicationDefinitionName}":
    delete:
      description: Deletes the managed application definition.
      operationId: ApplicationDefinitions_Delete
      parameters:
        - description: The name of the resource group. The name is case insensitive.
          in: path
          name: resourceGroupName
          required: true
          schema:
            type: string
            minLength: 1
            maxLength: 90
            pattern: ^[-\w\._\(\)]+$
        - description: The name of the managed application definition to delete.
          in: path
          name: applicationDefinitionName
          required: true
          schema:
            type: string
            minLength: 3
            maxLength: 64
        - $ref: "#/components/parameters/ApiVersionParameter"
        - $ref: "#/components/parameters/SubscriptionIdParameter"
      responses:
        "200":
          description: OK
        "202":
          description: Accepted - Returns this status until the asynchronous operation has
            completed.
        "204":
          description: NoContent
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - ApplicationDefinitions
      x-ms-long-running-operation: true
    get:
      description: Gets the managed application definition.
      operationId: ApplicationDefinitions_Get
      parameters:
        - description: The name of the resource group. The name is case insensitive.
          in: path
          name: resourceGroupName
          required: true
          schema:
            type: string
            minLength: 1
            maxLength: 90
            pattern: ^[-\w\._\(\)]+$
          examples:
            Get managed application definition:
              value: rg
        - description: The name of the managed application definition.
          in: path
          name: applicationDefinitionName
          required: true
          schema:
            type: string
            minLength: 3
            maxLength: 64
        - $ref: "#/components/parameters/ApiVersionParameter"
        - $ref: "#/components/parameters/SubscriptionIdParameter"
      responses:
        "200":
          description: OK - Returns the managed application definition.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApplicationDefinition"
              examples:
                Get managed application definition:
                  $ref: "#/components/examples/Get_managed_application_definition"
        "404":
          description: Not Found
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - ApplicationDefinitions
    put:
      description: Creates a new managed application definition.
      operationId: ApplicationDefinitions_CreateOrUpdate
      parameters:
        - description: The name of the resource group. The name is case insensitive.
          in: path
          name: resourceGroupName
          required: true
          schema:
            type: string
            minLength: 1
            maxLength: 90
            pattern: ^[-\w\._\(\)]+$
          examples:
            Create or update managed application definition:
              value: rg
        - description: The name of the managed application definition.
          in: path
          name: applicationDefinitionName
          required: true
          schema:
            type: string
            minLength: 3
            maxLength: 64
        - $ref: "#/components/parameters/ApiVersionParameter"
        - $ref: "#/components/parameters/SubscriptionIdParameter"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ApplicationDefinition"
        description: Parameters supplied to the create or update an managed application
          definition.
        required: true
      responses:
        "200":
          description: OK - Returns information about the managed application definition,
            including provisioning status.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApplicationDefinition"
        "201":
          description: Created - Returns information about the managed application
            definition, including provisioning status.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApplicationDefinition"
              examples:
                Create or update managed application definition:
                  $ref: "#/components/examples/Create_or_update_managed_application\
                    _definition"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - ApplicationDefinitions
      x-ms-long-running-operation: true
  "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Solutions/applications":
    get:
      description: Gets all the applications within a resource group.
      operationId: Applications_ListByResourceGroup
      parameters:
        - description: The name of the resource group. The name is case insensitive.
          in: path
          name: resourceGroupName
          required: true
          schema:
            type: string
            minLength: 1
            maxLength: 90
            pattern: ^[-\w\._\(\)]+$
          examples:
            Lists applications:
              value: rg
        - $ref: "#/components/parameters/ApiVersionParameter"
        - $ref: "#/components/parameters/SubscriptionIdParameter"
      responses:
        "200":
          description: OK - Returns an array of applications.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApplicationListResult"
              examples:
                Lists applications:
                  $ref: "#/components/examples/Lists_applications"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Applications
      x-ms-pageable:
        nextLinkName: nextLink
  "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.Solutions/applications/{applicationName}":
    delete:
      description: Deletes the managed application.
      operationId: Applications_Delete
      parameters:
        - description: The name of the resource group. The name is case insensitive.
          in: path
          name: resourceGroupName
          required: true
          schema:
            type: string
            minLength: 1
            maxLength: 90
            pattern: ^[-\w\._\(\)]+$
        - description: The name of the managed application.
          in: path
          name: applicationName
          required: true
          schema:
            type: string
            minLength: 3
            maxLength: 64
        - $ref: "#/components/parameters/ApiVersionParameter"
        - $ref: "#/components/parameters/SubscriptionIdParameter"
      responses:
        "202":
          description: Accepted - Returns this status until the asynchronous operation has
            completed.
        "204":
          description: NoContent
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Applications
      x-ms-long-running-operation: true
    get:
      description: Gets the managed application.
      operationId: Applications_Get
      parameters:
        - description: The name of the resource group. The name is case insensitive.
          in: path
          name: resourceGroupName
          required: true
          schema:
            type: string
            minLength: 1
            maxLength: 90
            pattern: ^[-\w\._\(\)]+$
          examples:
            Get a managed application:
              value: rg
        - description: The name of the managed application.
          in: path
          name: applicationName
          required: true
          schema:
            type: string
            minLength: 3
            maxLength: 64
        - $ref: "#/components/parameters/ApiVersionParameter"
        - $ref: "#/components/parameters/SubscriptionIdParameter"
      responses:
        "200":
          description: OK - Returns the managed application.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Application"
              examples:
                Get a managed application:
                  $ref: "#/components/examples/Get_a_managed_application"
        "404":
          description: Not Found
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Applications
    patch:
      description: Updates an existing managed application. The only value that can be
        updated via PATCH currently is the tags.
      operationId: Applications_Update
      parameters:
        - description: The name of the resource group. The name is case insensitive.
          in: path
          name: resourceGroupName
          required: true
          schema:
            type: string
            minLength: 1
            maxLength: 90
            pattern: ^[-\w\._\(\)]+$
        - description: The name of the managed application.
          in: path
          name: applicationName
          required: true
          schema:
            type: string
            minLength: 3
            maxLength: 64
        - $ref: "#/components/parameters/ApiVersionParameter"
        - $ref: "#/components/parameters/SubscriptionIdParameter"
      requestBody:
        $ref: "#/components/requestBodies/Application"
      responses:
        "200":
          description: Created - Returns information about the managed application,
            including provisioning status.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Application"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Applications
    put:
      description: Creates a new managed application.
      operationId: Applications_CreateOrUpdate
      parameters:
        - description: The name of the resource group. The name is case insensitive.
          in: path
          name: resourceGroupName
          required: true
          schema:
            type: string
            minLength: 1
            maxLength: 90
            pattern: ^[-\w\._\(\)]+$
          examples:
            Create or update managed application:
              value: rg
        - description: The name of the managed application.
          in: path
          name: applicationName
          required: true
          schema:
            type: string
            minLength: 3
            maxLength: 64
        - $ref: "#/components/parameters/ApiVersionParameter"
        - $ref: "#/components/parameters/SubscriptionIdParameter"
      requestBody:
        $ref: "#/components/requestBodies/Application2"
      responses:
        "200":
          description: Created - Returns information about the managed application,
            including provisioning status.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Application"
        "201":
          description: Created - Returns information about the managed application,
            including provisioning status.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Application"
              examples:
                Create or update managed application:
                  $ref: "#/components/examples/Create_or_update_managed_application"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Applications
      x-ms-long-running-operation: true
  "/{applicationDefinitionId}":
    delete:
      description: Deletes the managed application definition.
      operationId: ApplicationDefinitions_DeleteById
      parameters:
        - description: The fully qualified ID of the managed application definition,
            including the managed application name and the managed application
            definition resource type. Use the format,
            /subscriptions/{guid}/resourceGroups/{resource-group-name}/Microsoft.Solutions/applicationDefinitions/{applicationDefinition-name}
          in: path
          name: applicationDefinitionId
          required: true
          x-ms-skip-url-encoding: true
          schema:
            type: string
        - $ref: "#/components/parameters/ApiVersionParameter"
      responses:
        "200":
          description: OK
        "202":
          description: Accepted - Returns this status until the asynchronous operation has
            completed.
        "204":
          description: NoContent
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - ApplicationDefinitions
      x-ms-long-running-operation: true
    get:
      description: Gets the managed application definition.
      operationId: ApplicationDefinitions_GetById
      parameters:
        - description: The fully qualified ID of the managed application definition,
            including the managed application name and the managed application
            definition resource type. Use the format,
            /subscriptions/{guid}/resourceGroups/{resource-group-name}/Microsoft.Solutions/applicationDefinitions/{applicationDefinition-name}
          in: path
          name: applicationDefinitionId
          required: true
          x-ms-skip-url-encoding: true
          schema:
            type: string
        - $ref: "#/components/parameters/ApiVersionParameter"
      responses:
        "200":
          description: OK - Returns the managed application definition.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApplicationDefinition"
        "404":
          description: Not Found
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - ApplicationDefinitions
    put:
      description: Creates a new managed application definition.
      operationId: ApplicationDefinitions_CreateOrUpdateById
      parameters:
        - description: The fully qualified ID of the managed application definition,
            including the managed application name and the managed application
            definition resource type. Use the format,
            /subscriptions/{guid}/resourceGroups/{resource-group-name}/Microsoft.Solutions/applicationDefinitions/{applicationDefinition-name}
          in: path
          name: applicationDefinitionId
          required: true
          x-ms-skip-url-encoding: true
          schema:
            type: string
        - $ref: "#/components/parameters/ApiVersionParameter"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ApplicationDefinition"
        description: Parameters supplied to the create or update a managed application
          definition.
        required: true
      responses:
        "200":
          description: OK - Returns information about the managed application definition,
            including provisioning status.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApplicationDefinition"
        "201":
          description: Created - Returns information about the managed application
            definition, including provisioning status.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApplicationDefinition"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - ApplicationDefinitions
      x-ms-long-running-operation: true
  "/{applicationId}":
    delete:
      description: Deletes the managed application.
      operationId: Applications_DeleteById
      parameters:
        - description: The fully qualified ID of the managed application, including the
            managed application name and the managed application resource type.
            Use the format,
            /subscriptions/{guid}/resourceGroups/{resource-group-name}/Microsoft.Solutions/applications/{application-name}
          in: path
          name: applicationId
          required: true
          x-ms-skip-url-encoding: true
          schema:
            type: string
        - $ref: "#/components/parameters/ApiVersionParameter"
      responses:
        "202":
          description: Accepted - Returns this status until the asynchronous operation has
            completed.
        "204":
          description: NoContent
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Applications
      x-ms-long-running-operation: true
    get:
      description: Gets the managed application.
      operationId: Applications_GetById
      parameters:
        - description: The fully qualified ID of the managed application, including the
            managed application name and the managed application resource type.
            Use the format,
            /subscriptions/{guid}/resourceGroups/{resource-group-name}/Microsoft.Solutions/applications/{application-name}
          in: path
          name: applicationId
          required: true
          x-ms-skip-url-encoding: true
          schema:
            type: string
        - $ref: "#/components/parameters/ApiVersionParameter"
      responses:
        "200":
          description: OK - Returns the managed application.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Application"
        "404":
          description: Not Found
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Applications
    patch:
      description: Updates an existing managed application. The only value that can be
        updated via PATCH currently is the tags.
      operationId: Applications_UpdateById
      parameters:
        - description: The fully qualified ID of the managed application, including the
            managed application name and the managed application resource type.
            Use the format,
            /subscriptions/{guid}/resourceGroups/{resource-group-name}/Microsoft.Solutions/applications/{application-name}
          in: path
          name: applicationId
          required: true
          x-ms-skip-url-encoding: true
          schema:
            type: string
        - $ref: "#/components/parameters/ApiVersionParameter"
      requestBody:
        $ref: "#/components/requestBodies/Application"
      responses:
        "200":
          description: Created - Returns information about the managed application,
            including provisioning status.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Application"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Applications
    put:
      description: Creates a new managed application.
      operationId: Applications_CreateOrUpdateById
      parameters:
        - description: The fully qualified ID of the managed application, including the
            managed application name and the managed application resource type.
            Use the format,
            /subscriptions/{guid}/resourceGroups/{resource-group-name}/Microsoft.Solutions/applications/{application-name}
          in: path
          name: applicationId
          required: true
          x-ms-skip-url-encoding: true
          schema:
            type: string
        - $ref: "#/components/parameters/ApiVersionParameter"
      requestBody:
        $ref: "#/components/requestBodies/Application2"
      responses:
        "200":
          description: Created - Returns information about the managed application,
            including provisioning status.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Application"
        "201":
          description: Created - Returns information about the managed application,
            including provisioning status.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Application"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"
      tags:
        - Applications
      x-ms-long-running-operation: true
servers:
  - url: https://management.azure.com
components:
  examples:
    List_managed_application_definitions:
      value:
        value:
          - id: /subscriptions/subid/resourceGroups/rg/providers/Microsoft.Solutions/applicationDefinitions/myManagedApplicationDef
            location: East US 2
            name: myManagedApplicationDef
            properties:
              artifacts:
                - name: CreateUiDefinition
                  type: Custom
                  uri: https://path/to/managedApplicationCreateUiDefinition.json
                - name: ManagedApplicationResourceTemplate
                  type: Template
                  uri: https://path/to/mainTemplate.json
              authorizations:
                - principalId: validprincipalguid
                  roleDefinitionId: validroleguid
              description: myManagedApplicationDef description
              displayName: myManagedApplicationDef
              packageFileUri: https://path/to/packagezipfile
            resourceGroup: rg
            type: Microsoft.Solutions/applicationDefinitions
          - id: /subscriptions/subid/resourceGroups/rg/providers/Microsoft.Solutions/applicationDefinitions/myManagedApplicationDef2
            location: West US
            name: myManagedApplicationDef2
            properties:
              artifacts:
                - name: CreateUiDefinition
                  type: Custom
                  uri: https://path/to/managedApplicationCreateUiDefinition.json
                - name: ManagedApplicationResourceTemplate
                  type: Template
                  uri: https://path/to/mainTemplate.json
              authorizations:
                - principalId: validprincipalguid
                  roleDefinitionId: validroleguid
              description: myManagedApplicationDef2 description
              displayName: myManagedApplicationDef2
              packageFileUri: https://path/to/packagezipfile
            resourceGroup: rg
            type: Microsoft.Solutions/applicationDefinitions
    Get_managed_application_definition:
      value:
        id: /subscriptions/subid/resourceGroups/rg/providers/Microsoft.Solutions/applicationDefinitions/myManagedApplicationDef
        location: East US 2
        name: myManagedApplicationDef
        properties:
          artifacts:
            - name: CreateUiDefinition
              type: Custom
              uri: https://path/to/managedApplicationCreateUiDefinition.json
            - name: ManagedApplicationResourceTemplate
              type: Template
              uri: https://path/to/mainTemplate.json
          authorizations:
            - principalId: validprincipalguid
              roleDefinitionId: validroleguid
          description: myManagedApplicationDef description
          displayName: myManagedApplicationDef
          packageFileUri: https://path/to/packagezipfile
        resourceGroup: rg
        type: Microsoft.Solutions/applicationDefinitions
    Create_or_update_managed_application_definition:
      value:
        id: /subscriptions/subid/resourceGroups/rg/providers/Microsoft.Solutions/applicationDefinitions/myManagedApplicationDef
        location: East US 2
        name: myManagedApplicationDef
        properties:
          artifacts:
            - name: CreateUiDefinition
              type: Custom
              uri: https://path/to/managedApplicationCreateUiDefinition.json
            - name: ManagedApplicationResourceTemplate
              type: Template
              uri: https://path/to/mainTemplate.json
          authorizations:
            - principalId: validprincipalguid
              roleDefinitionId: validroleguid
          description: myManagedApplicationDef description
          displayName: myManagedApplicationDef
          packageFileUri: https://path/to/packagezipfile
        resourceGroup: rg
        type: Microsoft.Solutions/applicationDefinitions
    Lists_applications:
      value:
        value:
          - id: /subscriptions/subid/resourceGroups/rg/providers/Microsoft.Solutions/applications/myManagedApplication
            kind: ServiceCatalog
            location: East US 2
            name: myManagedApplication
            properties:
              managedApplicationDefinitionId: /subscriptions/subid/resourceGroups/rg/providers/Microsoft.Solutions/managedApplicationDefinitions/myAppDef
              managedResourceGroupId: /subscriptions/subid/resourceGroups/myManagedRG
              provisioningState: Created
              uiDefinitionUri: https://path/to/managedApplicationCreateUiDefinition.json
            resourceGroup: rg
            type: Microsoft.Solutions/applications
          - id: /subscriptions/subid/resourceGroups/rg/providers/Microsoft.Solutions/applications/myManagedApplication2
            kind: ServiceCatalog
            location: West US
            name: myManagedApplication2
            properties:
              managedApplicationDefinitionId: /subscriptions/subid/resourceGroups/rg/providers/Microsoft.Solutions/managedApplicationDefinitions/myAppDef2
              managedResourceGroupId: /subscriptions/subid/resourceGroups/myManagedRG
              provisioningState: Created
              uiDefinitionUri: https://path/to/managedApplicationCreateUiDefinition.json
            resourceGroup: rg
            type: Microsoft.Solutions/applications
    Get_a_managed_application:
      value:
        id: /subscriptions/subid/resourceGroups/rg/providers/Microsoft.Solutions/applications/myManagedApplication
        kind: ServiceCatalog
        location: East US 2
        name: myManagedApplication
        properties:
          managedApplicationDefinitionId: /subscriptions/subid/resourceGroups/rg/providers/Microsoft.Solutions/managedApplicationDefinitions/myAppDef
          managedResourceGroupId: /subscriptions/subid/resourceGroups/myManagedRG
          provisioningState: Created
          uiDefinitionUri: https://path/to/managedApplicationCreateUiDefinition.json
        resourceGroup: rg
        type: Microsoft.Solutions/applications
    Create_or_update_managed_application:
      value:
        id: /subscriptions/subid/resourceGroups/rg/providers/Microsoft.Solutions/applications/myManagedApplication
        kind: ServiceCatalog
        location: East US 2
        name: myManagedApplication
        properties:
          managedApplicationDefinitionId: /subscriptions/subid/resourceGroups/rg/providers/Microsoft.Solutions/applicationDefinitions/myAppDef
          managedResourceGroupId: /subscriptions/subid/resourceGroups/myManagedRG
          provisioningState: Created
          uiDefinitionUri: https://path/to/managedApplicationCreateUiDefinition.json
        resourceGroup: rg
        type: Microsoft.Solutions/applications
  parameters:
    ApiVersionParameter:
      description: The API version to use for this operation.
      in: query
      name: api-version
      required: true
      schema:
        type: string
      examples:
        List managed application definitions:
          value: 2017-09-01
        Get managed application definition:
          value: 2017-09-01
        Create or update managed application definition:
          value: 2017-09-01
        Lists applications:
          value: 2017-09-01
        Get a managed application:
          value: 2017-09-01
        Create or update managed application:
          value: 2017-09-01
    SubscriptionIdParameter:
      description: The ID of the target subscription.
      in: path
      name: subscriptionId
      required: true
      schema:
        type: string
      examples:
        List managed application definitions:
          value: subid
        Get managed application definition:
          value: subid
        Create or update managed application definition:
          value: subid
        Lists applications:
          value: subid
        Get a managed application:
          value: subid
        Create or update managed application:
          value: subid
  requestBodies:
    Application:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Application"
      description: Parameters supplied to update an existing managed application.
    Application2:
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Application"
      description: Parameters supplied to the create or update a managed application.
      required: true
  securitySchemes:
    azure_auth:
      description: Azure Active Directory OAuth2 Flow
      type: oauth2
      flows:
        implicit:
          authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
          scopes:
            user_impersonation: impersonate your user account
  schemas:
    Application:
      allOf:
        - $ref: "#/components/schemas/GenericResource"
      description: Information about managed application.
      properties:
        kind:
          description: The kind of the managed application. Allowed values are MarketPlace
            and ServiceCatalog.
          pattern: ^[-\w\._,\(\)]+$
          type: string
        plan:
          $ref: "#/components/schemas/Plan"
        properties:
          $ref: "#/components/schemas/ApplicationProperties"
      required:
        - properties
        - kind
    ApplicationArtifact:
      description: Managed application artifact.
      properties:
        name:
          description: The managed application artifact name.
          type: string
        type:
          $ref: "#/components/schemas/ApplicationArtifactType"
        uri:
          description: The managed application artifact blob uri.
          type: string
    ApplicationArtifactType:
      description: The managed application artifact type.
      enum:
        - Template
        - Custom
      type: string
      x-ms-enum:
        modelAsString: false
        name: ApplicationArtifactType
    ApplicationDefinition:
      allOf:
        - $ref: "#/components/schemas/GenericResource"
      description: Information about managed application definition.
      properties:
        properties:
          $ref: "#/components/schemas/ApplicationDefinitionProperties"
      required:
        - properties
    ApplicationDefinitionListResult:
      description: List of managed application definitions.
      properties:
        nextLink:
          description: The URL to use for getting the next set of results.
          type: string
        value:
          description: The array of managed application definitions.
          items:
            $ref: "#/components/schemas/ApplicationDefinition"
          type: array
    ApplicationDefinitionProperties:
      description: The managed application definition properties.
      properties:
        artifacts:
          description: The collection of managed application artifacts. The portal will use
            the files specified as artifacts to construct the user experience of
            creating a managed application from a managed application
            definition.
          items:
            $ref: "#/components/schemas/ApplicationArtifact"
          type: array
        authorizations:
          description: The managed application provider authorizations.
          items:
            $ref: "#/components/schemas/ApplicationProviderAuthorization"
          type: array
        createUiDefinition:
          description: The createUiDefinition json for the backing template with
            Microsoft.Solutions/applications resource. It can be a JObject or
            well-formed JSON string.
          type: object
        description:
          description: The managed application definition description.
          type: string
        displayName:
          description: The managed application definition display name.
          type: string
        isEnabled:
          description: A value indicating whether the package is enabled or not.
          type: string
        lockLevel:
          $ref: "#/components/schemas/ApplicationLockLevel"
        mainTemplate:
          description: The inline main template json which has resources to be provisioned.
            It can be a JObject or well-formed JSON string.
          type: object
        packageFileUri:
          description: The managed application definition package file Uri. Use this element
          type: string
      required:
        - lockLevel
        - authorizations
    ApplicationListResult:
      description: List of managed applications.
      properties:
        nextLink:
          description: The URL to use for getting the next set of results.
          type: string
        value:
          description: The array of managed applications.
          items:
            $ref: "#/components/schemas/Application"
          type: array
    ApplicationLockLevel:
      description: The managed application lock level.
      enum:
        - CanNotDelete
        - ReadOnly
        - None
      type: string
      x-ms-enum:
        modelAsString: false
        name: ApplicationLockLevel
    ApplicationPatchable:
      allOf:
        - $ref: "#/components/schemas/GenericResource"
      description: Information about managed application.
      properties:
        kind:
          description: The kind of the managed application. Allowed values are MarketPlace
            and ServiceCatalog.
          pattern: ^[-\w\._,\(\)]+$
          type: string
        plan:
          $ref: "#/components/schemas/PlanPatchable"
        properties:
          $ref: "#/components/schemas/ApplicationPropertiesPatchable"
    ApplicationProperties:
      description: The managed application properties.
      properties:
        applicationDefinitionId:
          description: The fully qualified path of managed application definition Id.
          type: string
        managedResourceGroupId:
          description: The managed resource group Id.
          type: string
        outputs:
          description: Name and value pairs that define the managed application outputs.
          readOnly: true
          type: object
        parameters:
          description: Name and value pairs that define the managed application parameters.
            It can be a JObject or a well formed JSON string.
          type: object
        provisioningState:
          $ref: "#/components/schemas/ProvisioningState"
        uiDefinitionUri:
          description: The blob URI where the UI definition file is located.
          type: string
      required:
        - managedResourceGroupId
    ApplicationPropertiesPatchable:
      description: The managed application properties.
      properties:
        applicationDefinitionId:
          description: The fully qualified path of managed application definition Id.
          type: string
        managedResourceGroupId:
          description: The managed resource group Id.
          type: string
        outputs:
          description: Name and value pairs that define the managed application outputs.
          readOnly: true
          type: object
        parameters:
          description: Name and value pairs that define the managed application parameters.
            It can be a JObject or a well formed JSON string.
          type: object
        provisioningState:
          $ref: "#/components/schemas/ProvisioningState"
        uiDefinitionUri:
          description: The blob URI where the UI definition file is located.
          type: string
    ApplicationProviderAuthorization:
      description: The managed application provider authorization.
      properties:
        principalId:
          description: The provider's principal identifier. This is the identity that the
            provider will use to call ARM to manage the managed application
            resources.
          type: string
        roleDefinitionId:
          description: The provider's role definition identifier. This role will define all
            the permissions that the provider must have on the managed
            application's container resource group. This role definition cannot
            have permission to delete the resource group.
          type: string
      required:
        - principalId
        - roleDefinitionId
    ErrorResponse:
      description: Error response indicates managed application is not able to process the
        incoming request. The reason is provided in the error message.
      properties:
        errorCode:
          description: Error code.
          type: string
        errorMessage:
          description: Error message indicating why the operation failed.
          type: string
        httpStatus:
          description: Http status code.
          type: string
      type: object
    GenericResource:
      allOf:
        - $ref: "#/components/schemas/Resource"
      description: Resource information.
      properties:
        identity:
          $ref: "#/components/schemas/Identity"
        managedBy:
          description: ID of the resource that manages this resource.
          type: string
        sku:
          $ref: "#/components/schemas/Sku"
    Identity:
      description: Identity for the resource.
      properties:
        principalId:
          description: The principal ID of resource identity.
          readOnly: true
          type: string
        tenantId:
          description: The tenant ID of resource.
          readOnly: true
          type: string
        type:
          description: The identity type.
          enum:
            - SystemAssigned
          type: string
          x-ms-enum:
            modelAsString: false
            name: ResourceIdentityType
    Plan:
      description: Plan for the managed application.
      properties:
        name:
          description: The plan name.
          type: string
        product:
          description: The product code.
          type: string
        promotionCode:
          description: The promotion code.
          type: string
        publisher:
          description: The publisher ID.
          type: string
        version:
          description: The plan's version.
          type: string
      required:
        - name
        - publisher
        - product
        - version
    PlanPatchable:
      description: Plan for the managed application.
      properties:
        name:
          description: The plan name.
          type: string
        product:
          description: The product code.
          type: string
        promotionCode:
          description: The promotion code.
          type: string
        publisher:
          description: The publisher ID.
          type: string
        version:
          description: The plan's version.
          type: string
    ProvisioningState:
      description: Provisioning status of the managed application.
      enum:
        - Accepted
        - Running
        - Ready
        - Creating
        - Created
        - Deleting
        - Deleted
        - Canceled
        - Failed
        - Succeeded
        - Updating
      readOnly: true
      type: string
      x-ms-enum:
        modelAsString: true
        name: ProvisioningState
    Resource:
      description: Resource information.
      properties:
        id:
          description: Resource ID
          readOnly: true
          type: string
        location:
          description: Resource location
          type: string
        name:
          description: Resource name
          readOnly: true
          type: string
        tags:
          additionalProperties:
            type: string
          description: Resource tags
          type: object
        type:
          description: Resource type
          readOnly: true
          type: string
      x-ms-azure-resource: true
    Sku:
      description: SKU for the resource.
      properties:
        capacity:
          description: The SKU capacity.
          format: int32
          type: integer
        family:
          description: The SKU family.
          type: string
        model:
          description: The SKU model.
          type: string
        name:
          description: The SKU name.
          type: string
        size:
          description: The SKU size.
          type: string
        tier:
          description: The SKU tier.
          type: string
      required:
        - name
