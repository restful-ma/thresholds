openapi: 3.0.0
info:
  description: The Admin Storage Management Client.
  title: StorageManagementClient
  version: 2015-12-01-preview
  x-apisguru-categories:
    - cloud
  x-logo:
    url: https://assets.onestore.ms/cdnfiles/onestorerolling-1606-01000/shell/v3/images/logo/microsoft.png
  x-origin:
    - format: swagger
      url: https://raw.githubusercontent.com/Azure/azure-rest-api-specs/master/specification/azsadmin/resource-manager/storage/Microsoft.Storage.Admin/preview/2015-12-01/storageaccounts.json
      version: "2.0"
  x-preferred: false
  x-providerName: azure.com
  x-serviceName: azsadmin-storageaccounts
  x-tags:
    - Azure
    - Microsoft
security:
  - azure_auth:
      - user_impersonation
paths:
  "/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.Storage.Admin/farms/{farmId}/storageaccounts":
    get:
      description: Returns a list of storage accounts.
      operationId: StorageAccounts_List
      parameters:
        - description: Subscription Id.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
          examples:
            Returns a list of storage accounts.:
              value: 9ad61516-995c-4873-a21f-7e44904f0ed2
        - description: Resource group name.
          in: path
          name: resourceGroupName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
          examples:
            Returns a list of storage accounts.:
              value: System.local
        - description: Farm Id.
          in: path
          name: farmId
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
          examples:
            Returns a list of storage accounts.:
              value: 3cf03497-c44a-4e51-a56f-3987d88c70af
        - description: REST Api Version.
          in: query
          name: api-version
          required: true
          schema:
            type: string
          examples:
            Returns a list of storage accounts.:
              value: 2015-12-01-preview
        - $ref: "#/components/parameters/SummaryParameter"
      responses:
        "200":
          description: OK -- The list of storage accounts has been returned.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StorageAccountList"
              examples:
                Returns a list of storage accounts.:
                  $ref: "#/components/examples/Returns_a_list_of_storage_accounts."
        "404":
          description: NOT FOUND -- The specified farm was not found.
      tags:
        - StorageAccounts
      x-ms-pageable:
        nextLinkName: nextLink
  "/subscriptions/{subscriptionId}/resourcegroups/{resourceGroupName}/providers/Microsoft.Storage.Admin/farms/{farmId}/storageaccounts/{accountId}":
    get:
      description: Returns the requested storage account.
      operationId: StorageAccounts_Get
      parameters:
        - description: Subscription Id.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
          examples:
            Returns the requested storage account.:
              value: 9ad61516-995c-4873-a21f-7e44904f0ed2
        - description: Resource group name.
          in: path
          name: resourceGroupName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
          examples:
            Returns the requested storage account.:
              value: System.local
        - description: Farm Id.
          in: path
          name: farmId
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
          examples:
            Returns the requested storage account.:
              value: 3cf03497-c44a-4e51-a56f-3987d88c70af
        - $ref: "#/components/parameters/AccountIdParameter"
        - description: REST Api Version.
          in: query
          name: api-version
          required: true
          schema:
            type: string
          examples:
            Returns the requested storage account.:
              value: 2015-12-01-preview
      responses:
        "200":
          description: OK -- The storage account has been returned.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StorageAccount"
              examples:
                Returns the requested storage account.:
                  $ref: "#/components/examples/Returns_the_requested_storage_accoun\
                    t."
        "404":
          description: NOT FOUND -- The storage account or farm was not found.
      tags:
        - StorageAccounts
    post:
      description: Undelete a deleted storage account.
      operationId: StorageAccounts_Undelete
      parameters:
        - description: Subscription Id.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
          examples:
            Undelete a deleted storage account.:
              value: 9ad61516-995c-4873-a21f-7e44904f0ed2
        - description: Resource group name.
          in: path
          name: resourceGroupName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
          examples:
            Undelete a deleted storage account.:
              value: System.local
        - description: Farm Id.
          in: path
          name: farmId
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
          examples:
            Undelete a deleted storage account.:
              value: 3cf03497-c44a-4e51-a56f-3987d88c70af
        - $ref: "#/components/parameters/AccountIdParameter"
        - description: REST Api Version.
          in: query
          name: api-version
          required: true
          schema:
            type: string
          examples:
            Undelete a deleted storage account.:
              value: 2015-12-01-preview
      responses:
        "200":
          description: OK -- Undelete either has been performed or account was not deleted.
      tags:
        - StorageAccounts
servers:
  - url: https://adminmanagement.local.azurestack.external
components:
  examples:
    Returns_a_list_of_storage_accounts.:
      value:
        value:
          - id: /subscriptions/9ad61516-995c-4873-a21f-7e44904f0ed2/resourcegroups/System.local/providers/Microsoft.Storage.Admin/farms/3cf03497-c44a-4e51-a56f-3987d88c70af/storageaccounts/0180624c67694706a4066782d83057a5
            location: local
            name: 0180624c67694706a4066782d83057a5
            properties:
              accountId: 0180624c67694706a4066782d83057a5
              accountStatus: Active
              accountType: Standard_LRS
              acquisitionOperationCount: 0
              creationTime: 2018-01-17T02:10:27.41
              currentOperation: None
              permissions: Full
              primaryEndpoints:
                blob: https://adminkvlclproddata004.blob.local.azurestack.external/
                queue: https://adminkvlclproddata004.queue.local.azurestack.external/
                table: https://adminkvlclproddata004.table.local.azurestack.external/
              primaryLocation: local
              provisioningState: Succeeded
              statusOfPrimary: Available
              tenantResourceGroupName: system.local.adminkeyvault
              tenantStorageAccountName: adminkvlclproddata004
              tenantSubscriptionId: 9ad61516-995c-4873-a21f-7e44904f0ed2
              tenantViewId: /subscriptions/9ad61516-995c-4873-a21f-7e44904f0ed2/resourcegroups/system.local.adminkeyvault/providers/Microsoft.Storage/storageaccounts/adminkvlclproddata004
              wacInternalState: Active
            type: Microsoft.Storage.Admin/storageaccounts
          - id: /subscriptions/9ad61516-995c-4873-a21f-7e44904f0ed2/resourcegroups/System.local/providers/Microsoft.Storage.Admin/farms/3cf03497-c44a-4e51-a56f-3987d88c70af/storageaccounts/04106a84393f4a12ab8efdbc0a69bb65
            location: local
            name: 04106a84393f4a12ab8efdbc0a69bb65
            properties:
              accountId: 04106a84393f4a12ab8efdbc0a69bb65
              accountStatus: Active
              accountType: Standard_LRS
              acquisitionOperationCount: 0
              creationTime: 2018-01-17T02:10:27.847
              currentOperation: None
              permissions: Full
              primaryEndpoints:
                blob: https://adminkvlclproddata005.blob.local.azurestack.external/
                queue: https://adminkvlclproddata005.queue.local.azurestack.external/
                table: https://adminkvlclproddata005.table.local.azurestack.external/
              primaryLocation: local
              provisioningState: Succeeded
              statusOfPrimary: Available
              tenantResourceGroupName: system.local.adminkeyvault
              tenantStorageAccountName: adminkvlclproddata005
              tenantSubscriptionId: 9ad61516-995c-4873-a21f-7e44904f0ed2
              tenantViewId: /subscriptions/9ad61516-995c-4873-a21f-7e44904f0ed2/resourcegroups/system.local.adminkeyvault/providers/Microsoft.Storage/storageaccounts/adminkvlclproddata005
              wacInternalState: Active
            type: Microsoft.Storage.Admin/storageaccounts
          - id: /subscriptions/9ad61516-995c-4873-a21f-7e44904f0ed2/resourcegroups/System.local/providers/Microsoft.Storage.Admin/farms/3cf03497-c44a-4e51-a56f-3987d88c70af/storageaccounts/06e296e00b284f5cb5708dfabd6ad74c
            location: local
            name: 06e296e00b284f5cb5708dfabd6ad74c
            properties:
              accountId: 06e296e00b284f5cb5708dfabd6ad74c
              accountStatus: Active
              accountType: Standard_LRS
              acquisitionOperationCount: 0
              creationTime: 2018-01-17T02:10:12.47
              currentOperation: None
              permissions: Full
              primaryEndpoints:
                blob: https://wasphealthaccount.blob.local.azurestack.external/
                queue: https://wasphealthaccount.queue.local.azurestack.external/
                table: https://wasphealthaccount.table.local.azurestack.external/
              primaryLocation: local
              provisioningState: Succeeded
              statusOfPrimary: Available
              tenantResourceGroupName: system.local
              tenantStorageAccountName: wasphealthaccount
              tenantSubscriptionId: 9ad61516-995c-4873-a21f-7e44904f0ed2
              tenantViewId: /subscriptions/9ad61516-995c-4873-a21f-7e44904f0ed2/resourcegroups/system.local/providers/Microsoft.Storage/storageaccounts/wasphealthaccount
              wacInternalState: Active
            type: Microsoft.Storage.Admin/storageaccounts
          - id: /subscriptions/9ad61516-995c-4873-a21f-7e44904f0ed2/resourcegroups/System.local/providers/Microsoft.Storage.Admin/farms/3cf03497-c44a-4e51-a56f-3987d88c70af/storageaccounts/0a6b4f6b1de14cc08aa1fefadcc481eb
            location: local
            name: 0a6b4f6b1de14cc08aa1fefadcc481eb
            properties:
              accountId: 0a6b4f6b1de14cc08aa1fefadcc481eb
              accountStatus: Active
              accountType: Standard_LRS
              acquisitionOperationCount: 0
              creationTime: 2018-01-17T02:10:02.527
              currentOperation: None
              permissions: Full
              primaryEndpoints:
                blob: https://frphealthaccount.blob.local.azurestack.external/
                queue: https://frphealthaccount.queue.local.azurestack.external/
                table: https://frphealthaccount.table.local.azurestack.external/
              primaryLocation: local
              provisioningState: Succeeded
              statusOfPrimary: Available
              tenantResourceGroupName: system.local
              tenantStorageAccountName: frphealthaccount
              tenantSubscriptionId: 9ad61516-995c-4873-a21f-7e44904f0ed2
              tenantViewId: /subscriptions/9ad61516-995c-4873-a21f-7e44904f0ed2/resourcegroups/system.local/providers/Microsoft.Storage/storageaccounts/frphealthaccount
              wacInternalState: Active
            type: Microsoft.Storage.Admin/storageaccounts
          - id: /subscriptions/9ad61516-995c-4873-a21f-7e44904f0ed2/resourcegroups/System.local/providers/Microsoft.Storage.Admin/farms/3cf03497-c44a-4e51-a56f-3987d88c70af/storageaccounts/0d724e3f75004e48948c1bfa0b4a964a
            location: local
            name: 0d724e3f75004e48948c1bfa0b4a964a
            properties:
              accountId: 0d724e3f75004e48948c1bfa0b4a964a
              accountStatus: Active
              accountType: Standard_LRS
              acquisitionOperationCount: 0
              creationTime: 2018-01-17T01:56:29.467
              currentOperation: None
              permissions: Full
              primaryEndpoints:
                blob: https://systemgallery.blob.local.azurestack.external/
                queue: https://systemgallery.queue.local.azurestack.external/
                table: https://systemgallery.table.local.azurestack.external/
              primaryLocation: local
              provisioningState: Succeeded
              statusOfPrimary: Available
              tenantResourceGroupName: system.local
              tenantStorageAccountName: systemgallery
              tenantSubscriptionId: 9ad61516-995c-4873-a21f-7e44904f0ed2
              tenantViewId: /subscriptions/9ad61516-995c-4873-a21f-7e44904f0ed2/resourcegroups/system.local/providers/Microsoft.Storage/storageaccounts/systemgallery
              wacInternalState: Active
            type: Microsoft.Storage.Admin/storageaccounts
          - id: /subscriptions/9ad61516-995c-4873-a21f-7e44904f0ed2/resourcegroups/System.local/providers/Microsoft.Storage.Admin/farms/3cf03497-c44a-4e51-a56f-3987d88c70af/storageaccounts/0dda0879146341178603ba151d7da010
            location: local
            name: 0dda0879146341178603ba151d7da010
            properties:
              accountId: 0dda0879146341178603ba151d7da010
              accountStatus: Active
              accountType: Standard_LRS
              acquisitionOperationCount: 0
              creationTime: 2018-01-17T02:10:23.84
              currentOperation: None
              permissions: Full
              primaryEndpoints:
                blob: https://nrpeventsaccount.blob.local.azurestack.external/
                queue: https://nrpeventsaccount.queue.local.azurestack.external/
                table: https://nrpeventsaccount.table.local.azurestack.external/
              primaryLocation: local
              provisioningState: Succeeded
              statusOfPrimary: Available
              tenantResourceGroupName: system.local
              tenantStorageAccountName: nrpeventsaccount
              tenantSubscriptionId: 9ad61516-995c-4873-a21f-7e44904f0ed2
              tenantViewId: /subscriptions/9ad61516-995c-4873-a21f-7e44904f0ed2/resourcegroups/system.local/providers/Microsoft.Storage/storageaccounts/nrpeventsaccount
              wacInternalState: Active
            type: Microsoft.Storage.Admin/storageaccounts
          - id: /subscriptions/9ad61516-995c-4873-a21f-7e44904f0ed2/resourcegroups/System.local/providers/Microsoft.Storage.Admin/farms/3cf03497-c44a-4e51-a56f-3987d88c70af/storageaccounts/15612011f6094654abcb6031a4394ef5
            location: local
            name: 15612011f6094654abcb6031a4394ef5
            properties:
              accountId: 15612011f6094654abcb6031a4394ef5
              accountStatus: Active
              accountType: Standard_LRS
              acquisitionOperationCount: 0
              creationTime: 2018-01-17T02:10:36.193
              currentOperation: None
              permissions: Full
              primaryEndpoints:
                blob: https://kvrphealthaccount.blob.local.azurestack.external/
                queue: https://kvrphealthaccount.queue.local.azurestack.external/
                table: https://kvrphealthaccount.table.local.azurestack.external/
              primaryLocation: local
              provisioningState: Succeeded
              statusOfPrimary: Available
              tenantResourceGroupName: system.local
              tenantStorageAccountName: kvrphealthaccount
              tenantSubscriptionId: 9ad61516-995c-4873-a21f-7e44904f0ed2
              tenantViewId: /subscriptions/9ad61516-995c-4873-a21f-7e44904f0ed2/resourcegroups/system.local/providers/Microsoft.Storage/storageaccounts/kvrphealthaccount
              wacInternalState: Active
            type: Microsoft.Storage.Admin/storageaccounts
          - id: /subscriptions/9ad61516-995c-4873-a21f-7e44904f0ed2/resourcegroups/System.local/providers/Microsoft.Storage.Admin/farms/3cf03497-c44a-4e51-a56f-3987d88c70af/storageaccounts/17829fa81c154239ad8a6fae05f44793
            location: local
            name: 17829fa81c154239ad8a6fae05f44793
            properties:
              accountId: 17829fa81c154239ad8a6fae05f44793
              accountStatus: Active
              accountType: Standard_LRS
              acquisitionOperationCount: 0
              creationTime: 2018-01-17T02:10:15.38
              currentOperation: None
              permissions: Full
              primaryEndpoints:
                blob: https://srpusageaccount.blob.local.azurestack.external/
                queue: https://srpusageaccount.queue.local.azurestack.external/
                table: https://srpusageaccount.table.local.azurestack.external/
              primaryLocation: local
              provisioningState: Succeeded
              statusOfPrimary: Available
              tenantResourceGroupName: system.local
              tenantStorageAccountName: srpusageaccount
              tenantSubscriptionId: 9ad61516-995c-4873-a21f-7e44904f0ed2
              tenantViewId: /subscriptions/9ad61516-995c-4873-a21f-7e44904f0ed2/resourcegroups/system.local/providers/Microsoft.Storage/storageaccounts/srpusageaccount
              wacInternalState: Active
            type: Microsoft.Storage.Admin/storageaccounts
    Returns_the_requested_storage_account.:
      value:
        id: /subscriptions/9ad61516-995c-4873-a21f-7e44904f0ed2/resourcegroups/System.local/providers/Microsoft.Storage.Admin/farms/3cf03497-c44a-4e51-a56f-3987d88c70af/storageaccounts/f93c9df9e7af487fbda484a9201d9c18
        location: local
        name: f93c9df9e7af487fbda484a9201d9c18
        properties:
          accountId: f93c9df9e7af487fbda484a9201d9c18
          accountStatus: Active
          accountType: Standard_LRS
          acquisitionOperationCount: 0
          creationTime: 2018-01-17T01:56:30.983
          currentOperation: None
          permissions: Full
          primaryEndpoints:
            blob: https://authprod.blob.local.azurestack.external/
            queue: https://authprod.queue.local.azurestack.external/
            table: https://authprod.table.local.azurestack.external/
          primaryLocation: local
          provisioningState: Succeeded
          statusOfPrimary: Available
          tenantResourceGroupName: system.local
          tenantStorageAccountName: authprod
          tenantSubscriptionId: 9ad61516-995c-4873-a21f-7e44904f0ed2
          tenantViewId: /subscriptions/9ad61516-995c-4873-a21f-7e44904f0ed2/resourcegroups/system.local/providers/Microsoft.Storage/storageaccounts/authprod
          wacInternalState: Active
        type: Microsoft.Storage.Admin/storageaccounts
  parameters:
    AccountIdParameter:
      description: Internal storage account ID, which is not visible to tenant.
      in: path
      name: accountId
      required: true
      x-ms-parameter-location: method
      schema:
        type: string
      examples:
        Returns the requested storage account.:
          value: f93c9df9e7af487fbda484a9201d9c18
        Undelete a deleted storage account.:
          value: f93c9df9e7af487fbda484a9201d9c18
    SummaryParameter:
      description: Switch for whether summary or detailed information is returned.
      in: query
      name: summary
      required: true
      x-ms-parameter-location: method
      schema:
        type: boolean
      examples:
        Returns a list of storage accounts.:
          value: "false"
  securitySchemes:
    azure_auth:
      description: Authorization uses an Azure Active Directory OAuth2 flow.
      type: oauth2
      flows:
        implicit:
          authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
          scopes:
            user_impersonation: impersonate your user account
  schemas:
    LocationStatus:
      description: Gets the status indicating whether the primary location of the storage
        account is available or unavailable.
      enum:
        - Available
        - Unavailable
      readOnly: true
      type: string
      x-ms-enum:
        modelAsString: true
        name: LocationStatus
    StorageAccount:
      allOf:
        - description: Base resource object.
          properties:
            id:
              description: Resource ID.
              type: string
            location:
              description: Resource location.
              type: string
            name:
              description: Resource Name.
              type: string
            tags:
              additionalProperties:
                type: string
              description: Resource tags.
              type: object
            type:
              description: Resource type.
              type: string
          type: object
          x-ms-azure-resource: true
      description: Properties of the storage account.
      properties:
        properties:
          $ref: "#/components/schemas/StorageAccountProperties"
      type: object
    StorageAccountList:
      description: Pageable list of storage accounts.
      properties:
        nextLink:
          description: URI to the next page.
          readOnly: true
          type: string
        value:
          description: List of storage accounts.
          items:
            $ref: "#/components/schemas/StorageAccount"
          readOnly: true
          type: array
      type: object
    StorageAccountOperation:
      description: The permissions of storage account in WAC.
      enum:
        - None
        - Create
        - Update
        - Suspend
        - Delete
        - Undelete
      readOnly: true
      type: string
      x-ms-enum:
        modelAsString: true
        name: StorageAccountOperation
    StorageAccountProperties:
      description: Properties of a storage account.
      properties:
        accountId:
          description: Internal storage account ID, which is not visible to tenant.
          readOnly: true
          type: string
        accountStatus:
          $ref: "#/components/schemas/StorageAccountStatus"
        accountType:
          $ref: "#/components/schemas/StorageAccountType"
        acquisitionOperationCount:
          description: The count of acquisitions in the storage account.
          format: int32
          readOnly: true
          type: integer
        alternateName:
          description: Alternative storage account name being used during undelete
            operation.
          readOnly: true
          type: string
        creationTime:
          description: The creation date and time of storage account in UTC.
          readOnly: true
          type: string
        currentOperation:
          $ref: "#/components/schemas/StorageAccountOperation"
        customDomain:
          description: The custom domain the user assigned to this storage account.
          readOnly: true
          type: string
        deletedTime:
          description: The date-time when the storage account was deleted.
          format: date-time
          readOnly: true
          type: string
        permissions:
          $ref: "#/components/schemas/WacAccountPermissions"
        primaryEndpoints:
          additionalProperties:
            type: string
          description: The URLs that are used to perform a retrieval of a public BLOB,
            queue, or table object.
          readOnly: true
        primaryLocation:
          description: The primary location for the storage account.
          readOnly: true
          type: string
        provisioningState:
          $ref: "#/components/schemas/StorageAccountState"
        recoveredTime:
          description: The time when the storage account is undeleted.
          format: date-time
          readOnly: true
          type: string
        recycledTime:
          description: The time when the storage account is physically deleted.
          format: date-time
          readOnly: true
          type: string
        resourceAdminApiVersion:
          description: Storage admin REST API version.
          readOnly: true
          type: string
        statusOfPrimary:
          $ref: "#/components/schemas/LocationStatus"
        tenantResourceGroupName:
          description: The name of resource group under which the storage account locates.
          readOnly: true
          type: string
        tenantStorageAccountName:
          description: Storage account name from tenant view.
          readOnly: true
          type: string
        tenantSubscriptionId:
          description: Subscription ID of the subscription under which the storage account
            locates.
          readOnly: true
          type: string
        tenantViewId:
          description: Resource URI of storage account from tenant view.
          readOnly: true
          type: string
        wacInternalState:
          $ref: "#/components/schemas/WacAccountStates"
      type: object
    StorageAccountState:
      description: Storage account state.
      enum:
        - Creating
        - Succeeded
        - Suspended
      readOnly: true
      type: string
      x-ms-enum:
        modelAsString: true
        name: StorageAccountState
    StorageAccountStatus:
      description: The state of storage account in WAC.
      enum:
        - Active
        - Deleted
        - OutOfRetentionPeriod
        - Recycled
      type: string
      x-ms-enum:
        modelAsString: true
        name: StorageAccountStatus
    StorageAccountType:
      description: Storage account type.
      enum:
        - Standard_LRS
        - Standard_GRS
        - Standard_ZRS
        - Standard_RAGRS
        - Premium_LRS
      type: string
      x-ms-enum:
        modelAsString: true
        name: StorageAccountType
    WacAccountPermissions:
      description: Current operation being performed on Storage Account
      enum:
        - Empty
        - None
        - Read
        - Delete
        - Write
        - Full
      type: string
      x-ms-enum:
        modelAsString: true
        name: WacAccountPermissions
    WacAccountStates:
      description: Current operation being performed on Storage Account
      enum:
        - None
        - Active
        - Deleted
        - AboveQuota
        - Suspended
        - All
      type: string
      x-ms-enum:
        modelAsString: true
        name: WacAccountStates
