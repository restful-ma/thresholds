openapi: 3.0.0
info:
  description: Use these REST APIs for performing operations on Identity Provider entity
    associated with your Azure API Management deployment. Setting up an external
    Identity Provider for authentication can help you manage the developer
    portal logins using the OAuth2 flow.
  title: ApiManagementClient
  version: 2019-01-01
  x-apisguru-categories:
    - cloud
  x-logo:
    url: https://assets.onestore.ms/cdnfiles/onestorerolling-1606-01000/shell/v3/images/logo/microsoft.png
  x-origin:
    - format: swagger
      url: https://raw.githubusercontent.com/Azure/azure-rest-api-specs/master/specification/apimanagement/resource-manager/Microsoft.ApiManagement/stable/2019-01-01/apimidentityprovider.json
      version: "2.0"
  x-preferred: true
  x-providerName: azure.com
  x-serviceName: apimanagement-apimidentityprovider
  x-tags:
    - Azure
    - Microsoft
security:
  - azure_auth:
      - user_impersonation
paths:
  "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ApiManagement/service/{serviceName}/identityProviders":
    get:
      description: Lists a collection of Identity Provider configured in the specified
        service instance.
      externalDocs:
        url: https://docs.microsoft.com/en-us/azure/api-management/api-management-howto-aad#how-to-authorize-developer-accounts-using-azure-active-directory
      operationId: IdentityProvider_ListByService
      parameters:
        - description: The name of the resource group.
          in: path
          name: resourceGroupName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
          examples:
            ApiManagementListIdentityProviders:
              value: rg1
        - description: The name of the API Management service.
          in: path
          name: serviceName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
            minLength: 1
            maxLength: 50
            pattern: ^[a-zA-Z](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$
          examples:
            ApiManagementListIdentityProviders:
              value: apimService1
        - description: Version of the API to be used with the client request.
          in: query
          name: api-version
          required: true
          schema:
            type: string
          examples:
            ApiManagementListIdentityProviders:
              value: 2019-01-01
        - description: Subscription credentials which uniquely identify Microsoft Azure
            subscription. The subscription ID forms part of the URI for every
            service call.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
          examples:
            ApiManagementListIdentityProviders:
              value: subid
      responses:
        "200":
          description: Lists a collection of Identity Providers.
          content:
            application/json:
              schema:
                description: List of all the Identity Providers configured on the service
                  instance.
                properties:
                  nextLink:
                    description: Next page link if any.
                    type: string
                  value:
                    description: Identity Provider configuration values.
                    items:
                      allOf:
                        - description: The Resource definition.
                          properties:
                            id:
                              description: Resource ID.
                              readOnly: true
                              type: string
                            name:
                              description: Resource name.
                              readOnly: true
                              type: string
                            type:
                              description: Resource type for API Management resource.
                              readOnly: true
                              type: string
                          x-ms-azure-resource: true
                      description: Identity Provider details.
                      properties:
                        properties:
                          allOf:
                            - description: Identity Provider Base Parameter Properties.
                              properties:
                                allowedTenants:
                                  description: List of Allowed Tenants when configuring
                                    Azure Active Directory login.
                                  items:
                                    type: string
                                  maxItems: 32
                                  type: array
                                authority:
                                  description: OpenID Connect discovery endpoint hostname
                                    for AAD or AAD B2C.
                                  type: string
                                passwordResetPolicyName:
                                  description: Password Reset Policy Name. Only applies to
                                    AAD B2C Identity Provider.
                                  minLength: 1
                                  type: string
                                profileEditingPolicyName:
                                  description: Profile Editing Policy Name. Only applies to
                                    AAD B2C Identity Provider.
                                  minLength: 1
                                  type: string
                                signinPolicyName:
                                  description: Signin Policy Name. Only applies to AAD B2C
                                    Identity Provider.
                                  minLength: 1
                                  type: string
                                signupPolicyName:
                                  description: Signup Policy Name. Only applies to AAD B2C
                                    Identity Provider.
                                  minLength: 1
                                  type: string
                                type:
                                  description: Identity Provider Type identifier.
                                  enum:
                                    - facebook
                                    - google
                                    - microsoft
                                    - twitter
                                    - aad
                                    - aadB2C
                                  type: string
                                  x-ms-enum:
                                    modelAsString: true
                                    name: IdentityProviderType
                                    values:
                                      - description: Facebook as Identity provider.
                                        value: facebook
                                      - description: Google as Identity provider.
                                        value: google
                                      - description: Microsoft Live as Identity provider.
                                        value: microsoft
                                      - description: Twitter as Identity provider.
                                        value: twitter
                                      - description: Azure Active Directory as Identity
                                          provider.
                                        value: aad
                                      - description: Azure Active Directory B2C as Identity
                                          provider.
                                        value: aadB2C
                          description: The external Identity Providers like Facebook,
                            Google, Microsoft, Twitter or Azure Active Directory
                            which can be used to enable access to the API
                            Management service developer portal for all users.
                          properties:
                            clientId:
                              description: Client Id of the Application in the external
                                Identity Provider. It is App ID for Facebook
                                login, Client ID for Google login, App ID for
                                Microsoft.
                              minLength: 1
                              type: string
                            clientSecret:
                              description: Client secret of the Application in external
                                Identity Provider, used to authenticate login
                                request. For example, it is App Secret for
                                Facebook login, API Key for Google login, Public
                                Key for Microsoft.
                              minLength: 1
                              type: string
                          required:
                            - clientId
                            - clientSecret
                    type: array
              examples:
                ApiManagementListIdentityProviders:
                  $ref: "#/components/examples/ApiManagementListIdentityProviders"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                description: Error Response.
                properties:
                  error:
                    description: Error Body contract.
                    properties:
                      code:
                        description: Service-defined error code. This code serves as a
                          sub-status for the HTTP error code specified in the
                          response.
                        type: string
                      details:
                        description: The list of invalid fields send in request, in case of
                          validation error.
                        items:
                          description: Error Field contract.
                          properties:
                            code:
                              description: Property level error code.
                              type: string
                            message:
                              description: Human-readable representation of property-level
                                error.
                              type: string
                            target:
                              description: Property name.
                              type: string
                        type: array
                      message:
                        description: Human-readable representation of the error.
                        type: string
      tags:
        - IdentityProvider
      x-ms-pageable:
        nextLinkName: nextLink
  "/subscriptions/{subscriptionId}/resourceGroups/{resourceGroupName}/providers/Microsoft.ApiManagement/service/{serviceName}/identityProviders/{identityProviderName}":
    delete:
      description: Deletes the specified identity provider configuration.
      operationId: IdentityProvider_Delete
      parameters:
        - description: The name of the resource group.
          in: path
          name: resourceGroupName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
          examples:
            ApiManagementDeleteIdentityProvider:
              value: rg1
        - description: The name of the API Management service.
          in: path
          name: serviceName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
            minLength: 1
            maxLength: 50
            pattern: ^[a-zA-Z](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$
          examples:
            ApiManagementDeleteIdentityProvider:
              value: apimService1
        - description: Identity Provider Type identifier.
          in: path
          name: identityProviderName
          required: true
          x-ms-enum:
            modelAsString: true
            name: IdentityProviderType
            values:
              - description: Facebook as Identity provider.
                value: facebook
              - description: Google as Identity provider.
                value: google
              - description: Microsoft Live as Identity provider.
                value: microsoft
              - description: Twitter as Identity provider.
                value: twitter
              - description: Azure Active Directory as Identity provider.
                value: aad
              - description: Azure Active Directory B2C as Identity provider.
                value: aadB2C
          x-ms-parameter-location: method
          schema:
            type: string
            enum:
              - facebook
              - google
              - microsoft
              - twitter
              - aad
              - aadB2C
          examples:
            ApiManagementDeleteIdentityProvider:
              value: aad
        - description: ETag of the Entity. ETag should match the current entity state from
            the header response of the GET request or it should be * for
            unconditional update.
          in: header
          name: If-Match
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
          examples:
            ApiManagementDeleteIdentityProvider:
              value: "*"
        - description: Version of the API to be used with the client request.
          in: query
          name: api-version
          required: true
          schema:
            type: string
          examples:
            ApiManagementDeleteIdentityProvider:
              value: 2019-01-01
        - description: Subscription credentials which uniquely identify Microsoft Azure
            subscription. The subscription ID forms part of the URI for every
            service call.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
          examples:
            ApiManagementDeleteIdentityProvider:
              value: subid
      responses:
        "200":
          description: The identity provider configuration was successfully deleted.
        "204":
          description: The identity provider configuration was successfully deleted.
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                description: Error Response.
                properties:
                  error:
                    description: Error Body contract.
                    properties:
                      code:
                        description: Service-defined error code. This code serves as a
                          sub-status for the HTTP error code specified in the
                          response.
                        type: string
                      details:
                        description: The list of invalid fields send in request, in case of
                          validation error.
                        items:
                          description: Error Field contract.
                          properties:
                            code:
                              description: Property level error code.
                              type: string
                            message:
                              description: Human-readable representation of property-level
                                error.
                              type: string
                            target:
                              description: Property name.
                              type: string
                        type: array
                      message:
                        description: Human-readable representation of the error.
                        type: string
      tags:
        - IdentityProvider
    get:
      description: Gets the configuration details of the identity Provider configured in
        specified service instance.
      operationId: IdentityProvider_Get
      parameters:
        - description: The name of the resource group.
          in: path
          name: resourceGroupName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
          examples:
            ApiManagementGetIdentityProvider:
              value: rg1
        - description: The name of the API Management service.
          in: path
          name: serviceName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
            minLength: 1
            maxLength: 50
            pattern: ^[a-zA-Z](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$
          examples:
            ApiManagementGetIdentityProvider:
              value: apimService1
        - description: Identity Provider Type identifier.
          in: path
          name: identityProviderName
          required: true
          x-ms-enum:
            modelAsString: true
            name: IdentityProviderType
            values:
              - description: Facebook as Identity provider.
                value: facebook
              - description: Google as Identity provider.
                value: google
              - description: Microsoft Live as Identity provider.
                value: microsoft
              - description: Twitter as Identity provider.
                value: twitter
              - description: Azure Active Directory as Identity provider.
                value: aad
              - description: Azure Active Directory B2C as Identity provider.
                value: aadB2C
          x-ms-parameter-location: method
          schema:
            type: string
            enum:
              - facebook
              - google
              - microsoft
              - twitter
              - aad
              - aadB2C
          examples:
            ApiManagementGetIdentityProvider:
              value: aadB2C
        - description: Version of the API to be used with the client request.
          in: query
          name: api-version
          required: true
          schema:
            type: string
          examples:
            ApiManagementGetIdentityProvider:
              value: 2019-01-01
        - description: Subscription credentials which uniquely identify Microsoft Azure
            subscription. The subscription ID forms part of the URI for every
            service call.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
          examples:
            ApiManagementGetIdentityProvider:
              value: subid
      responses:
        "200":
          description: The response body contains the specified IdentityProvider entity
            configuration details.
          headers:
            ETag:
              description: Current entity state version. Should be treated as opaque and
                used to make conditional HTTP requests.
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - description: The Resource definition.
                    properties:
                      id:
                        description: Resource ID.
                        readOnly: true
                        type: string
                      name:
                        description: Resource name.
                        readOnly: true
                        type: string
                      type:
                        description: Resource type for API Management resource.
                        readOnly: true
                        type: string
                    x-ms-azure-resource: true
                description: Identity Provider details.
                properties:
                  properties:
                    allOf:
                      - description: Identity Provider Base Parameter Properties.
                        properties:
                          allowedTenants:
                            description: List of Allowed Tenants when configuring Azure
                              Active Directory login.
                            items:
                              type: string
                            maxItems: 32
                            type: array
                          authority:
                            description: OpenID Connect discovery endpoint hostname for AAD
                              or AAD B2C.
                            type: string
                          passwordResetPolicyName:
                            description: Password Reset Policy Name. Only applies to AAD
                              B2C Identity Provider.
                            minLength: 1
                            type: string
                          profileEditingPolicyName:
                            description: Profile Editing Policy Name. Only applies to AAD
                              B2C Identity Provider.
                            minLength: 1
                            type: string
                          signinPolicyName:
                            description: Signin Policy Name. Only applies to AAD B2C
                              Identity Provider.
                            minLength: 1
                            type: string
                          signupPolicyName:
                            description: Signup Policy Name. Only applies to AAD B2C
                              Identity Provider.
                            minLength: 1
                            type: string
                          type:
                            description: Identity Provider Type identifier.
                            enum:
                              - facebook
                              - google
                              - microsoft
                              - twitter
                              - aad
                              - aadB2C
                            type: string
                            x-ms-enum:
                              modelAsString: true
                              name: IdentityProviderType
                              values:
                                - description: Facebook as Identity provider.
                                  value: facebook
                                - description: Google as Identity provider.
                                  value: google
                                - description: Microsoft Live as Identity provider.
                                  value: microsoft
                                - description: Twitter as Identity provider.
                                  value: twitter
                                - description: Azure Active Directory as Identity provider.
                                  value: aad
                                - description: Azure Active Directory B2C as Identity
                                    provider.
                                  value: aadB2C
                    description: The external Identity Providers like Facebook, Google,
                      Microsoft, Twitter or Azure Active Directory which can be
                      used to enable access to the API Management service
                      developer portal for all users.
                    properties:
                      clientId:
                        description: Client Id of the Application in the external Identity
                          Provider. It is App ID for Facebook login, Client ID
                          for Google login, App ID for Microsoft.
                        minLength: 1
                        type: string
                      clientSecret:
                        description: Client secret of the Application in external Identity
                          Provider, used to authenticate login request. For
                          example, it is App Secret for Facebook login, API Key
                          for Google login, Public Key for Microsoft.
                        minLength: 1
                        type: string
                    required:
                      - clientId
                      - clientSecret
              examples:
                ApiManagementGetIdentityProvider:
                  $ref: "#/components/examples/ApiManagementGetIdentityProvider"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                description: Error Response.
                properties:
                  error:
                    description: Error Body contract.
                    properties:
                      code:
                        description: Service-defined error code. This code serves as a
                          sub-status for the HTTP error code specified in the
                          response.
                        type: string
                      details:
                        description: The list of invalid fields send in request, in case of
                          validation error.
                        items:
                          description: Error Field contract.
                          properties:
                            code:
                              description: Property level error code.
                              type: string
                            message:
                              description: Human-readable representation of property-level
                                error.
                              type: string
                            target:
                              description: Property name.
                              type: string
                        type: array
                      message:
                        description: Human-readable representation of the error.
                        type: string
      tags:
        - IdentityProvider
    head:
      description: Gets the entity state (Etag) version of the identityProvider specified
        by its identifier.
      operationId: IdentityProvider_GetEntityTag
      parameters:
        - description: The name of the resource group.
          in: path
          name: resourceGroupName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
          examples:
            ApiManagementHeadIdentityProvider:
              value: rg1
        - description: The name of the API Management service.
          in: path
          name: serviceName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
            minLength: 1
            maxLength: 50
            pattern: ^[a-zA-Z](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$
          examples:
            ApiManagementHeadIdentityProvider:
              value: apimService1
        - description: Identity Provider Type identifier.
          in: path
          name: identityProviderName
          required: true
          x-ms-enum:
            modelAsString: true
            name: IdentityProviderType
            values:
              - description: Facebook as Identity provider.
                value: facebook
              - description: Google as Identity provider.
                value: google
              - description: Microsoft Live as Identity provider.
                value: microsoft
              - description: Twitter as Identity provider.
                value: twitter
              - description: Azure Active Directory as Identity provider.
                value: aad
              - description: Azure Active Directory B2C as Identity provider.
                value: aadB2C
          x-ms-parameter-location: method
          schema:
            type: string
            enum:
              - facebook
              - google
              - microsoft
              - twitter
              - aad
              - aadB2C
          examples:
            ApiManagementHeadIdentityProvider:
              value: aadB2C
        - description: Version of the API to be used with the client request.
          in: query
          name: api-version
          required: true
          schema:
            type: string
          examples:
            ApiManagementHeadIdentityProvider:
              value: 2019-01-01
        - description: Subscription credentials which uniquely identify Microsoft Azure
            subscription. The subscription ID forms part of the URI for every
            service call.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
          examples:
            ApiManagementHeadIdentityProvider:
              value: subid
      responses:
        "200":
          description: Specified identity provider entity exists and current entity state
            version is present in the ETag header.
          headers:
            ETag:
              description: Current entity state version. Should be treated as opaque and
                used to make conditional HTTP requests.
              schema:
                type: string
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                description: Error Response.
                properties:
                  error:
                    description: Error Body contract.
                    properties:
                      code:
                        description: Service-defined error code. This code serves as a
                          sub-status for the HTTP error code specified in the
                          response.
                        type: string
                      details:
                        description: The list of invalid fields send in request, in case of
                          validation error.
                        items:
                          description: Error Field contract.
                          properties:
                            code:
                              description: Property level error code.
                              type: string
                            message:
                              description: Human-readable representation of property-level
                                error.
                              type: string
                            target:
                              description: Property name.
                              type: string
                        type: array
                      message:
                        description: Human-readable representation of the error.
                        type: string
      tags:
        - IdentityProvider
    patch:
      description: Updates an existing IdentityProvider configuration.
      operationId: IdentityProvider_Update
      parameters:
        - description: The name of the resource group.
          in: path
          name: resourceGroupName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
          examples:
            ApiManagementUpdateIdentityProvider:
              value: rg1
        - description: The name of the API Management service.
          in: path
          name: serviceName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
            minLength: 1
            maxLength: 50
            pattern: ^[a-zA-Z](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$
          examples:
            ApiManagementUpdateIdentityProvider:
              value: apimService1
        - description: Identity Provider Type identifier.
          in: path
          name: identityProviderName
          required: true
          x-ms-enum:
            modelAsString: true
            name: IdentityProviderType
            values:
              - description: Facebook as Identity provider.
                value: facebook
              - description: Google as Identity provider.
                value: google
              - description: Microsoft Live as Identity provider.
                value: microsoft
              - description: Twitter as Identity provider.
                value: twitter
              - description: Azure Active Directory as Identity provider.
                value: aad
              - description: Azure Active Directory B2C as Identity provider.
                value: aadB2C
          x-ms-parameter-location: method
          schema:
            type: string
            enum:
              - facebook
              - google
              - microsoft
              - twitter
              - aad
              - aadB2C
          examples:
            ApiManagementUpdateIdentityProvider:
              value: facebook
        - description: ETag of the Entity. ETag should match the current entity state from
            the header response of the GET request or it should be * for
            unconditional update.
          in: header
          name: If-Match
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
          examples:
            ApiManagementUpdateIdentityProvider:
              value: "*"
        - description: Version of the API to be used with the client request.
          in: query
          name: api-version
          required: true
          schema:
            type: string
          examples:
            ApiManagementUpdateIdentityProvider:
              value: 2019-01-01
        - description: Subscription credentials which uniquely identify Microsoft Azure
            subscription. The subscription ID forms part of the URI for every
            service call.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
          examples:
            ApiManagementUpdateIdentityProvider:
              value: subid
      requestBody:
        content:
          application/json:
            schema:
              description: Parameters supplied to update Identity Provider
              properties:
                properties:
                  allOf:
                    - description: Identity Provider Base Parameter Properties.
                      properties:
                        allowedTenants:
                          description: List of Allowed Tenants when configuring Azure
                            Active Directory login.
                          items:
                            type: string
                          maxItems: 32
                          type: array
                        authority:
                          description: OpenID Connect discovery endpoint hostname for AAD
                            or AAD B2C.
                          type: string
                        passwordResetPolicyName:
                          description: Password Reset Policy Name. Only applies to AAD B2C
                            Identity Provider.
                          minLength: 1
                          type: string
                        profileEditingPolicyName:
                          description: Profile Editing Policy Name. Only applies to AAD B2C
                            Identity Provider.
                          minLength: 1
                          type: string
                        signinPolicyName:
                          description: Signin Policy Name. Only applies to AAD B2C Identity
                            Provider.
                          minLength: 1
                          type: string
                        signupPolicyName:
                          description: Signup Policy Name. Only applies to AAD B2C Identity
                            Provider.
                          minLength: 1
                          type: string
                        type:
                          description: Identity Provider Type identifier.
                          enum:
                            - facebook
                            - google
                            - microsoft
                            - twitter
                            - aad
                            - aadB2C
                          type: string
                          x-ms-enum:
                            modelAsString: true
                            name: IdentityProviderType
                            values:
                              - description: Facebook as Identity provider.
                                value: facebook
                              - description: Google as Identity provider.
                                value: google
                              - description: Microsoft Live as Identity provider.
                                value: microsoft
                              - description: Twitter as Identity provider.
                                value: twitter
                              - description: Azure Active Directory as Identity provider.
                                value: aad
                              - description: Azure Active Directory B2C as Identity
                                  provider.
                                value: aadB2C
                  description: Parameters supplied to the Update Identity Provider
                    operation.
                  properties:
                    clientId:
                      description: Client Id of the Application in the external Identity
                        Provider. It is App ID for Facebook login, Client ID for
                        Google login, App ID for Microsoft.
                      minLength: 1
                      type: string
                    clientSecret:
                      description: Client secret of the Application in external Identity
                        Provider, used to authenticate login request. For
                        example, it is App Secret for Facebook login, API Key
                        for Google login, Public Key for Microsoft.
                      minLength: 1
                      type: string
        description: Update parameters.
        required: true
      responses:
        "204":
          description: The existing identity provider configuration was successfully
            updated.
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                description: Error Response.
                properties:
                  error:
                    description: Error Body contract.
                    properties:
                      code:
                        description: Service-defined error code. This code serves as a
                          sub-status for the HTTP error code specified in the
                          response.
                        type: string
                      details:
                        description: The list of invalid fields send in request, in case of
                          validation error.
                        items:
                          description: Error Field contract.
                          properties:
                            code:
                              description: Property level error code.
                              type: string
                            message:
                              description: Human-readable representation of property-level
                                error.
                              type: string
                            target:
                              description: Property name.
                              type: string
                        type: array
                      message:
                        description: Human-readable representation of the error.
                        type: string
      tags:
        - IdentityProvider
    put:
      description: Creates or Updates the IdentityProvider configuration.
      operationId: IdentityProvider_CreateOrUpdate
      parameters:
        - description: The name of the resource group.
          in: path
          name: resourceGroupName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
          examples:
            ApiManagementCreateIdentityProvider:
              value: rg1
        - description: The name of the API Management service.
          in: path
          name: serviceName
          required: true
          x-ms-parameter-location: method
          schema:
            type: string
            minLength: 1
            maxLength: 50
            pattern: ^[a-zA-Z](?:[a-zA-Z0-9-]*[a-zA-Z0-9])?$
          examples:
            ApiManagementCreateIdentityProvider:
              value: apimService1
        - description: Identity Provider Type identifier.
          in: path
          name: identityProviderName
          required: true
          x-ms-enum:
            modelAsString: true
            name: IdentityProviderType
            values:
              - description: Facebook as Identity provider.
                value: facebook
              - description: Google as Identity provider.
                value: google
              - description: Microsoft Live as Identity provider.
                value: microsoft
              - description: Twitter as Identity provider.
                value: twitter
              - description: Azure Active Directory as Identity provider.
                value: aad
              - description: Azure Active Directory B2C as Identity provider.
                value: aadB2C
          x-ms-parameter-location: method
          schema:
            type: string
            enum:
              - facebook
              - google
              - microsoft
              - twitter
              - aad
              - aadB2C
          examples:
            ApiManagementCreateIdentityProvider:
              value: facebook
        - description: ETag of the Entity. Not required when creating an entity, but
            required when updating an entity.
          in: header
          name: If-Match
          required: false
          x-ms-parameter-location: method
          schema:
            type: string
        - description: Version of the API to be used with the client request.
          in: query
          name: api-version
          required: true
          schema:
            type: string
          examples:
            ApiManagementCreateIdentityProvider:
              value: 2019-01-01
        - description: Subscription credentials which uniquely identify Microsoft Azure
            subscription. The subscription ID forms part of the URI for every
            service call.
          in: path
          name: subscriptionId
          required: true
          schema:
            type: string
          examples:
            ApiManagementCreateIdentityProvider:
              value: subid
      requestBody:
        content:
          application/json:
            schema:
              allOf:
                - description: The Resource definition.
                  properties:
                    id:
                      description: Resource ID.
                      readOnly: true
                      type: string
                    name:
                      description: Resource name.
                      readOnly: true
                      type: string
                    type:
                      description: Resource type for API Management resource.
                      readOnly: true
                      type: string
                  x-ms-azure-resource: true
              description: Identity Provider details.
              properties:
                properties:
                  allOf:
                    - description: Identity Provider Base Parameter Properties.
                      properties:
                        allowedTenants:
                          description: List of Allowed Tenants when configuring Azure
                            Active Directory login.
                          items:
                            type: string
                          maxItems: 32
                          type: array
                        authority:
                          description: OpenID Connect discovery endpoint hostname for AAD
                            or AAD B2C.
                          type: string
                        passwordResetPolicyName:
                          description: Password Reset Policy Name. Only applies to AAD B2C
                            Identity Provider.
                          minLength: 1
                          type: string
                        profileEditingPolicyName:
                          description: Profile Editing Policy Name. Only applies to AAD B2C
                            Identity Provider.
                          minLength: 1
                          type: string
                        signinPolicyName:
                          description: Signin Policy Name. Only applies to AAD B2C Identity
                            Provider.
                          minLength: 1
                          type: string
                        signupPolicyName:
                          description: Signup Policy Name. Only applies to AAD B2C Identity
                            Provider.
                          minLength: 1
                          type: string
                        type:
                          description: Identity Provider Type identifier.
                          enum:
                            - facebook
                            - google
                            - microsoft
                            - twitter
                            - aad
                            - aadB2C
                          type: string
                          x-ms-enum:
                            modelAsString: true
                            name: IdentityProviderType
                            values:
                              - description: Facebook as Identity provider.
                                value: facebook
                              - description: Google as Identity provider.
                                value: google
                              - description: Microsoft Live as Identity provider.
                                value: microsoft
                              - description: Twitter as Identity provider.
                                value: twitter
                              - description: Azure Active Directory as Identity provider.
                                value: aad
                              - description: Azure Active Directory B2C as Identity
                                  provider.
                                value: aadB2C
                  description: The external Identity Providers like Facebook, Google,
                    Microsoft, Twitter or Azure Active Directory which can be
                    used to enable access to the API Management service
                    developer portal for all users.
                  properties:
                    clientId:
                      description: Client Id of the Application in the external Identity
                        Provider. It is App ID for Facebook login, Client ID for
                        Google login, App ID for Microsoft.
                      minLength: 1
                      type: string
                    clientSecret:
                      description: Client secret of the Application in external Identity
                        Provider, used to authenticate login request. For
                        example, it is App Secret for Facebook login, API Key
                        for Google login, Public Key for Microsoft.
                      minLength: 1
                      type: string
                  required:
                    - clientId
                    - clientSecret
        description: Create parameters.
        required: true
      responses:
        "200":
          description: The existing Identity Provider was successfully updated.
          headers:
            ETag:
              description: Current entity state version. Should be treated as opaque and
                used to make conditional HTTP requests.
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - description: The Resource definition.
                    properties:
                      id:
                        description: Resource ID.
                        readOnly: true
                        type: string
                      name:
                        description: Resource name.
                        readOnly: true
                        type: string
                      type:
                        description: Resource type for API Management resource.
                        readOnly: true
                        type: string
                    x-ms-azure-resource: true
                description: Identity Provider details.
                properties:
                  properties:
                    allOf:
                      - description: Identity Provider Base Parameter Properties.
                        properties:
                          allowedTenants:
                            description: List of Allowed Tenants when configuring Azure
                              Active Directory login.
                            items:
                              type: string
                            maxItems: 32
                            type: array
                          authority:
                            description: OpenID Connect discovery endpoint hostname for AAD
                              or AAD B2C.
                            type: string
                          passwordResetPolicyName:
                            description: Password Reset Policy Name. Only applies to AAD
                              B2C Identity Provider.
                            minLength: 1
                            type: string
                          profileEditingPolicyName:
                            description: Profile Editing Policy Name. Only applies to AAD
                              B2C Identity Provider.
                            minLength: 1
                            type: string
                          signinPolicyName:
                            description: Signin Policy Name. Only applies to AAD B2C
                              Identity Provider.
                            minLength: 1
                            type: string
                          signupPolicyName:
                            description: Signup Policy Name. Only applies to AAD B2C
                              Identity Provider.
                            minLength: 1
                            type: string
                          type:
                            description: Identity Provider Type identifier.
                            enum:
                              - facebook
                              - google
                              - microsoft
                              - twitter
                              - aad
                              - aadB2C
                            type: string
                            x-ms-enum:
                              modelAsString: true
                              name: IdentityProviderType
                              values:
                                - description: Facebook as Identity provider.
                                  value: facebook
                                - description: Google as Identity provider.
                                  value: google
                                - description: Microsoft Live as Identity provider.
                                  value: microsoft
                                - description: Twitter as Identity provider.
                                  value: twitter
                                - description: Azure Active Directory as Identity provider.
                                  value: aad
                                - description: Azure Active Directory B2C as Identity
                                    provider.
                                  value: aadB2C
                    description: The external Identity Providers like Facebook, Google,
                      Microsoft, Twitter or Azure Active Directory which can be
                      used to enable access to the API Management service
                      developer portal for all users.
                    properties:
                      clientId:
                        description: Client Id of the Application in the external Identity
                          Provider. It is App ID for Facebook login, Client ID
                          for Google login, App ID for Microsoft.
                        minLength: 1
                        type: string
                      clientSecret:
                        description: Client secret of the Application in external Identity
                          Provider, used to authenticate login request. For
                          example, it is App Secret for Facebook login, API Key
                          for Google login, Public Key for Microsoft.
                        minLength: 1
                        type: string
                    required:
                      - clientId
                      - clientSecret
              examples:
                ApiManagementCreateIdentityProvider:
                  $ref: "#/components/examples/ApiManagementCreateIdentityProvider"
        "201":
          description: IdentityProvider configuration were successfully created.
          headers:
            ETag:
              description: Current entity state version. Should be treated as opaque and
                used to make conditional HTTP requests.
              schema:
                type: string
          content:
            application/json:
              schema:
                allOf:
                  - description: The Resource definition.
                    properties:
                      id:
                        description: Resource ID.
                        readOnly: true
                        type: string
                      name:
                        description: Resource name.
                        readOnly: true
                        type: string
                      type:
                        description: Resource type for API Management resource.
                        readOnly: true
                        type: string
                    x-ms-azure-resource: true
                description: Identity Provider details.
                properties:
                  properties:
                    allOf:
                      - description: Identity Provider Base Parameter Properties.
                        properties:
                          allowedTenants:
                            description: List of Allowed Tenants when configuring Azure
                              Active Directory login.
                            items:
                              type: string
                            maxItems: 32
                            type: array
                          authority:
                            description: OpenID Connect discovery endpoint hostname for AAD
                              or AAD B2C.
                            type: string
                          passwordResetPolicyName:
                            description: Password Reset Policy Name. Only applies to AAD
                              B2C Identity Provider.
                            minLength: 1
                            type: string
                          profileEditingPolicyName:
                            description: Profile Editing Policy Name. Only applies to AAD
                              B2C Identity Provider.
                            minLength: 1
                            type: string
                          signinPolicyName:
                            description: Signin Policy Name. Only applies to AAD B2C
                              Identity Provider.
                            minLength: 1
                            type: string
                          signupPolicyName:
                            description: Signup Policy Name. Only applies to AAD B2C
                              Identity Provider.
                            minLength: 1
                            type: string
                          type:
                            description: Identity Provider Type identifier.
                            enum:
                              - facebook
                              - google
                              - microsoft
                              - twitter
                              - aad
                              - aadB2C
                            type: string
                            x-ms-enum:
                              modelAsString: true
                              name: IdentityProviderType
                              values:
                                - description: Facebook as Identity provider.
                                  value: facebook
                                - description: Google as Identity provider.
                                  value: google
                                - description: Microsoft Live as Identity provider.
                                  value: microsoft
                                - description: Twitter as Identity provider.
                                  value: twitter
                                - description: Azure Active Directory as Identity provider.
                                  value: aad
                                - description: Azure Active Directory B2C as Identity
                                    provider.
                                  value: aadB2C
                    description: The external Identity Providers like Facebook, Google,
                      Microsoft, Twitter or Azure Active Directory which can be
                      used to enable access to the API Management service
                      developer portal for all users.
                    properties:
                      clientId:
                        description: Client Id of the Application in the external Identity
                          Provider. It is App ID for Facebook login, Client ID
                          for Google login, App ID for Microsoft.
                        minLength: 1
                        type: string
                      clientSecret:
                        description: Client secret of the Application in external Identity
                          Provider, used to authenticate login request. For
                          example, it is App Secret for Facebook login, API Key
                          for Google login, Public Key for Microsoft.
                        minLength: 1
                        type: string
                    required:
                      - clientId
                      - clientSecret
              examples:
                ApiManagementCreateIdentityProvider:
                  $ref: "#/components/examples/ApiManagementCreateIdentityProvider"
        default:
          description: Error response describing why the operation failed.
          content:
            application/json:
              schema:
                description: Error Response.
                properties:
                  error:
                    description: Error Body contract.
                    properties:
                      code:
                        description: Service-defined error code. This code serves as a
                          sub-status for the HTTP error code specified in the
                          response.
                        type: string
                      details:
                        description: The list of invalid fields send in request, in case of
                          validation error.
                        items:
                          description: Error Field contract.
                          properties:
                            code:
                              description: Property level error code.
                              type: string
                            message:
                              description: Human-readable representation of property-level
                                error.
                              type: string
                            target:
                              description: Property name.
                              type: string
                        type: array
                      message:
                        description: Human-readable representation of the error.
                        type: string
      tags:
        - IdentityProvider
servers:
  - url: https://management.azure.com
components:
  examples:
    ApiManagementListIdentityProviders:
      value:
        nextLink: ""
        value:
          - id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.ApiManagement/service/apimService1/identityProviders/Google
            name: Google
            properties:
              clientId: googleId
              clientSecret: googlesecret
              type: google
            type: Microsoft.ApiManagement/service/identityProviders
          - id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.ApiManagement/service/apimService1/identityProviders/Aad
            name: Aad
            properties:
              allowedTenants:
                - samiraad.onmicrosoft.com
              clientId: aadapplicationid
              clientSecret: aadapplicationkey
              type: aad
            type: Microsoft.ApiManagement/service/identityProviders
          - id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.ApiManagement/service/apimService1/identityProviders/AadB2C
            name: AadB2C
            properties:
              allowedTenants:
                - samirtestbc.onmicrosoft.com
              clientId: aadb2clientId
              clientSecret: aadb2cClientKey
              signinPolicyName: B2C_1_Signin_Default
              signupPolicyName: B2C_1_Signup_Default
              type: aadB2C
            type: Microsoft.ApiManagement/service/identityProviders
    ApiManagementGetIdentityProvider:
      value:
        id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.ApiManagement/service/apimService1/identityProviders/aadB2C
        name: aadB2C
        properties:
          allowedTenants:
            - samirtestbc.onmicrosoft.com
          clientId: 315c8e2b-29fc-413d-822f-4efab7f43c42
          clientSecret: SnE4laLjmxc2QKWTPoRxOiwvSnnwMCFN+jLYDpBCUXw=
          signinPolicyName: B2C_1_signup-policy
          signupPolicyName: B2C_1_Signup_Default
          type: aadB2C
        type: Microsoft.ApiManagement/service/identityProviders
    ApiManagementCreateIdentityProvider:
      value:
        id: /subscriptions/subid/resourceGroups/rg1/providers/Microsoft.ApiManagement/service/apimService1/identityProviders/Facebook
        name: Facebook
        properties:
          clientId: facebookid
          clientSecret: facebookapplicationsecret
          type: facebook
        type: Microsoft.ApiManagement/service/identityProviders
  securitySchemes:
    azure_auth:
      description: Azure Active Directory OAuth2 Flow.
      type: oauth2
      flows:
        implicit:
          authorizationUrl: https://login.microsoftonline.com/common/oauth2/authorize
          scopes:
            user_impersonation: impersonate your user account
